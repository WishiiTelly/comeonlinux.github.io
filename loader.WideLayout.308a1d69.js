"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["loader.WideLayout","ondemand.Dropdown"],{10092:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});const i=o(666).default},1846:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(2784),n=o(25686),s=o(68591),r=o(96688);const a=e=>!e.protected||(e=>e.following)(e),c=({headerText:e,participantIds:t})=>i.createElement(n.Z,{accessibilityLabel:e,accessibilityRole:"complementary"},i.createElement(s.ZP,{text:e}),i.createElement(r.Z,{filterPredicate:a,userIds:t.slice(0,3),withFinalItemBorder:!1,withItemBorder:!0}))},93077:(e,t,o)=>{o.r(t),o.d(t,{StickyView:()=>h,default:()=>p,roundToNearestDevicePixel:()=>d});var i=o(2784),n=o(78052),s=o(25686),r=o(55249),a=o(73186),c=o(73036),l=o(8329);const d=({cssPixels:e,dpr:t})=>Math.round(e*t)/t;class h extends i.PureComponent{constructor(e){super(e),this._setContentRef=e=>{this._contentNode=e},this._setContainerRef=e=>{this._containerNode=e},this._handleProgrammaticScroll=e=>{this._prevScrollY=(this._prevScrollY||0)+e,this.setState({contentOffset:Math.max(0,this.state.contentOffset+e)})},this._handleLayout=e=>{const t=e.nativeEvent.layout.height>this.state.contentHeight;this._updatePositioning(t)},this.state={stickyTop:!0,stickyThreshold:0,contentOffset:0,contentHeight:0,stickyOffset:0,position:"sticky"},this._scheduleUpdatePositioning=(0,r.Z)(this._updatePositioning.bind(this),window.requestAnimationFrame)}UNSAFE_componentWillMount(){const{viewport:e}=this.props;this._removeProgrammaticScrollListener=e.addProgrammaticScrollListener(this._handleProgrammaticScroll)}componentDidMount(){const{viewport:e}=this.props;if(this._updatePositioning(),this._removeScrollListener=e.addScrollListener(this._scheduleUpdatePositioning),this._containerNode){const t=this._containerNode.getBoundingClientRect(),o=e.scrollY();this._prevScrollY=o,this.setState({stickyOffset:o+t.top})}}componentWillUnmount(){this._removeScrollListener&&this._removeScrollListener(),this._removeProgrammaticScrollListener&&this._removeProgrammaticScrollListener()}render(){const{contentOffset:e,position:t,stickyThreshold:o,stickyTop:n}=this.state,r=m[t],a=window.devicePixelRatio||1,c=d({cssPixels:o,dpr:a}),l=d({cssPixels:e,dpr:a}),h={top:n?`${c}px`:null,bottom:n?null:`${c}px`};return i.createElement(s.Z,{ref:this._setContainerRef,style:[m.container,{minHeight:this.state.contentHeight}]},i.createElement(s.Z,{style:{marginTop:`${l}px`}}),i.createElement(s.Z,{onLayout:this._handleLayout,ref:this._setContentRef,style:[this.props.style,h,r]},this.props.children))}_updatePositioning(e=!1){if(!this._contentNode||!this._containerNode)return;const t=this.props.viewport.scrollY(),o=t-this._prevScrollY;if(Math.abs(o)<.5&&!e)return;const{distanceFromBottom:i}=this.props;this._prevScrollY=t;const s=!!this._contentNode&&this._contentNode.getBoundingClientRect(),r=!!this._containerNode&&this._containerNode.getBoundingClientRect();if(!s||!r)return;const{height:a}=n.Z.get("window"),l=t+r.top,d=Math.max(s.top-r.top,0);if(a-s.height>l)this._updateState({stickyTop:!0,stickyThreshold:l,contentOffset:0,stickyOffset:l,contentHeight:s.height,position:"fixed"});else{const e=o>0,t=e!==this.state.stickyTop,n=window.devicePixelRatio||1,r=s.bottom-a+i<=1/n,h=l-s.top<=1/n;if((e&&r||!e&&h)&&c.ZP.isFirefox()){const e=i,t=l;this._updateState({position:"fixed",stickyOffset:l,stickyTop:h,stickyThreshold:h?t:e,contentOffset:d,contentHeight:s.height})}else{const o=a-s.height-i,n=a-s.height-l;this._updateState({position:"sticky",stickyTop:e,stickyOffset:l,stickyThreshold:e?o:n,contentOffset:t?d:this.state.contentOffset,contentHeight:s.height})}}}_updateState(e){const t=this.state.stickyTop!==e.stickyTop,o=this.state.stickyThreshold!==e.stickyThreshold,i=Math.abs(this.state.contentOffset-e.contentOffset)>.5,n=Math.abs(this.state.stickyOffset-e.stickyOffset)>.5,s=this.state.position!==e.position,r=this.state.contentHeight!==e.contentHeight;(t||o||i||n||s||r)&&this.setState(e)}}h.defaultProps={distanceFromBottom:10};const m=a.Z.create((e=>({container:{height:"100%"},sticky:{position:"sticky"},fixed:{position:"fixed"},static:{position:"static"}}))),p=(0,l.Z)(h)},66767:(e,t,o)=>{o.r(t),o.d(t,{InThisConversationContainer:()=>g,default:()=>y});var i=o(2784),n=o(79404),s=o.n(n),r=o(1846),a=o(92160),c=o(67935),l=o(30102),d=(o(6886),o(36728),o(46281)),h=o(3614);const m=(e,t,o)=>{var i;const n=o===t,s=null==(i=e.unmentioned_user_ids)?void 0:i.includes(t);return n||!s},p=(e,t)=>{var o;return((null==(o=e.entities)?void 0:o.user_mentions)||[]).filter((o=>m(e,o.id_str,t))).map((e=>e.id_str))||[]},u=(e,t)=>t.focalTweetId,f=(0,a.Z)().propsFromState((()=>({focalTweetId:u,loggedInUserId:c.o1,tweetMap:l.ZP.selectAll}))).adjustStateProps((({focalTweetId:e,loggedInUserId:t,tweetMap:o})=>{const i=e&&o[e];if(!i)return{participantIds:[]};const n=[i.user,...p(i,t),...(s=i,d.ZP.mergeTaggedUsers(s.extended_entities&&s.extended_entities.media||[]).map((e=>e.user_id)))];var s;const r=i.quoted_status&&o[i.quoted_status];return r&&(n.push(...((e,t)=>m(e,e.user,t)?[e.user]:[])(r,t)),n.push(...p(r,t))),{participantIds:(0,h.Z)(n)}})).withAnalytics({component:"in_this_conversation"}),_=s().j88f27d8,g=i.memo((({participantIds:e})=>i.createElement(r.Z,{headerText:_,participantIds:e}))),y=f(g)},82015:(e,t,o)=>{o.r(t),o.d(t,{WhoToFollowContainer:()=>N,default:()=>A});o(6886);var i=o(2784),n=o(25686),s=o(73186),r=o(79404),a=o.n(r),c=o(72983),l=o(68591),d=o(38830),h=o(96688),m=o(18057),p=o(90610);const u=a().a526aa66,f=a().ef625010,_=a().d228a9a0,g=(0,p.Z)((({isInSidebar:e,userId:t,userIds:o,withProfileHeaderText:s})=>{const r=o.length>3,a=`/i/connect_people?user_id=${t}`;return i.createElement(n.Z,{accessibilityLabel:u,accessibilityRole:"complementary"},i.createElement(l.ZP,{text:s?f:u}),i.createElement(h.Z,{displayMode:m.Z.UserCompact,userIds:o.slice(0,3),withItemBorder:!0}),r&&i.createElement(d.Z,{link:a,text:_,withBottomRadius:!0,withDarkerInteractiveBackground:e}))}));var y=o(24710),w=o(76275),Z=o(23803),v=(o(36728),o(23335)),E=o(58343),b=o(92160),I=o(88691),x=o(67935),T=o(57659);const S="profile_accounts_sidebar",C=(e,t)=>x.o1(e),R=(e,t)=>t.userId,L=(e,t)=>{const o=R(0,t),i=C(e);return I.Ic(e,{displayLocation:S,similarToUserId:o===i?void 0:o})},P=(e,t)=>{const o=R(0,t),i=C(e);return I.UD(e,{displayLocation:S,similarToUserId:o===i?void 0:o})},k=(e,t)=>{const o=L(e,t),i=[];return o.forEach((({user_id:t})=>{const o=T.ZP.select(e,t);o&&i.push(o)})),i},O=(0,b.Z)().propsFromState((()=>({fetchStatus:P,loggedInUserId:C,recommendations:L,users:(0,E.Z)(k,(e=>e))}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,v.createLocalApiErrorHandlerWithContextFactory)("WHO_TO_FOLLOW_CONTAINER"),fetchRecommendationsIfNeeded:I.yY}))).withAnalytics({component:"suggest_who_to_follow"}),U=a().fd6473fa,D={element:"user",action:"results"},H={viewType:"who_to_follow"};class N extends i.PureComponent{constructor(...e){super(...e),this._renderContent=()=>{const{recommendations:e,userId:t,withProfileHeaderText:o}=this.props,n=e&&e.map((e=>e.user_id));return i.createElement(g,{userId:t,userIds:n,withProfileHeaderText:o})},this._handleImpression=e=>{const{analytics:t,users:o}=this.props,i=e&&e.slice(0,3).map((e=>({...w.Z.forUser(e.user_id),suggestion_details:{source_data:e.token}})));t.scribe({...D,data:{items:i}}),o&&o.map((e=>{const o=e?[w.Z.forUser(e.id_str)]:[];e.following?t.scribe({element:"followed_user",action:"impression",data:{items:o}}):e.muting?t.scribe({element:"muted_user",action:"impression",data:{items:o}}):e.blocking&&t.scribe({element:"blocked_user",action:"impression",data:{items:o}})}))}}componentDidMount(){const{recommendations:e}=this.props;this._fetchRecommendations(this.props),e&&e.length>0&&this._handleImpression(e)}componentDidUpdate(e){const{recommendations:t}=this.props;this.props.userId!==e.userId&&this._fetchRecommendations(this.props),t!==e.recommendations&&t&&t.length>0&&this._handleImpression(t)}render(){const{fetchStatus:e,style:t}=this.props;return e===Z.ZP.FAILED||this._hasEmptySuggestionList()?null:i.createElement(n.Z,{style:[F.root,t]},i.createElement(c.Z,{accessibilityLabel:U,behavioralEventContext:H,fetchStatus:e,render:this._renderContent}))}_fetchRecommendations(e){const{createLocalApiErrorHandler:t,fetchRecommendationsIfNeeded:o,loggedInUserId:i,userId:n}=e;o({limit:4,displayLocation:S,similarToUserId:n!==i?n:void 0}).catch(t(y.C))}_hasEmptySuggestionList(){const{fetchStatus:e,recommendations:t}=this.props;return e===Z.ZP.LOADED&&0===t.length}}const F=s.Z.create((e=>({root:{minHeight:"15rem"}}))),A=O(N)},24710:(e,t,o)=>{o.d(t,{C:()=>n});var i=o(1206);const n={[o(63140).ZP.ResourceNotFound]:{customAction:i.Z}}},88691:(e,t,o)=>{o.d(t,{Ic:()=>y,UD:()=>w,yY:()=>Z});var i=o(60917),n=o.n(i),s=o(26853),r=o(53392),a=o(23803),c=o(51670);const l="recommendations",d=30,h="rweb/recommendations/FETCH_REQUEST",m="rweb/recommendations/FETCH_SUCCESS",p="rweb/recommendations/FETCH_FAILURE",u={},f=({displayLocation:e,similarToUserId:t})=>e+(t?`_${t}`:"");s.Z.register({[l]:function(e=u,t){if(!t.meta)return e;switch(t.type){case h:{const o=f(t.meta);return{...e,[o]:{...e[o],fetchStatus:a.ZP.LOADING}}}case p:{const o=f(t.meta);return{...e,[o]:{...e[o],fetchStatus:a.ZP.FAILED}}}case m:{const o=f(t.meta),i=t.payload&&t.payload.entities?t.payload.entities:{recommendations:n()},s=(t.payload&&t.payload.result?t.payload.result:g).map((e=>i.recommendations[e]));return{...e,[o]:{...e[o],fetchStatus:a.ZP.LOADED,recommendations:s}}}default:return e}}});const _=[],g=[],y=(e,{displayLocation:t,similarToUserId:o})=>{const i=e.recommendations[f({displayLocation:t,similarToUserId:o})];return i&&i.recommendations?i.recommendations:_},w=(e,{displayLocation:t,similarToUserId:o})=>{const i=e.recommendations[f({displayLocation:t,similarToUserId:o})];return i?i.fetchStatus:a.ZP.NONE},Z=e=>(t,o,i)=>{const s=o(),{displayLocation:l,similarToUserId:u}=e,f=y(s,{displayLocation:l,similarToUserId:u}),_=w(s,{displayLocation:l,similarToUserId:u})===a.ZP.LOADED;return f&&_?Promise.resolve(n()):t((e=>(t,o,{api:i})=>{const{displayLocation:n,itsInterests:s,limit:a=d,similarToUserId:l}=e;return(0,r._O)(t,{request:i.Recommendations.fetch,params:{display_location:n,itsInterests:s,limit:a,user_id:l}})({actionTypes:{REQUEST:h,SUCCESS:m,FAILURE:p},context:"FETCH_RECOMMENDATIONS",meta:{displayLocation:n,similarToUserId:l}},(e=>{if(e&&e.entities)return[(0,c.dP)(e.entities)]}))})(e))}},666:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var i=o(7896),n=o(2784),s=o(78052),r=o(25686),a=o(35193),c=o(11731),l=o(55249),d=o(20023),h=o(50829),m=o(57552),p=o(13867),u=o(74054),f=o(41425),_=o(15686),g=o(70451),y=o(54044),w=o(73186);const Z=w.Z.create((e=>({rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:`calc(${e.spaces.space64} * 6)`},anchor:w.Z.absoluteFillObject,mask:{...w.Z.absoluteFillObject,position:"fixed"},bodyRectHelper:{...w.Z.absoluteFillObject,bottom:void 0},content:{borderRadius:e.borderRadii.small,position:"absolute",overflow:"hidden",backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}})));class v extends n.Component{constructor(e,t){super(e,t),this._handleAnimateComplete=()=>{const{onAnimateComplete:e}=this.props;e&&e()},this._handleEsc=e=>{const{onDismiss:t}=this.props,{altKey:o,ctrlKey:i,key:n,metaKey:s}=e;!(o||i||s)&&"Escape"===n&&t()},this._receiveBodyRectHelperRef=e=>{e&&this._bodyRectHelperNode!==e&&(this._bodyRectHelperNode=e,this._scheduleUpdate())},this._receiveAnchorRef=e=>{e&&this._anchorNode!==e&&(this._anchorNode=e,this._scheduleUpdate())},this._receiveContentRef=e=>{e&&this._contentNode!==e&&(this._contentNode=e,this._scheduleUpdate())},this._updatePosition=()=>{if(!(this._mounted&&(this._anchorNode||this.props.position)&&this._contentNode&&this._contentNode instanceof window.HTMLElement&&this._bodyRectHelperNode&&this._bodyRectHelperNode instanceof window.HTMLElement))return;const e="rtl"===this._languageDirection,t=this._contentNode.scrollHeight,o=this._contentNode.scrollWidth,{left:i,top:n,width:r}=this._bodyRectHelperNode.getBoundingClientRect(),{height:a,width:c}=s.Z.get("window");let l={left:0,top:0,height:0,width:0};this.props.position?l={...l,...this.props.position}:this._anchorNode&&this._anchorNode instanceof window.HTMLElement&&(l=this._anchorNode.getBoundingClientRect());const{height:d,left:h,top:m,width:p}=l,u=c-r,f=h-i,_=m-n,g=h+p>=o,y=m+d>=t,w=c-h>=o,Z=a-m>=t,v=this.props.preferredVerticalOrientation,E=((e,t)=>e?"left"===t?"right":"left":t)(e,this.props.preferredHorizontalOrientation),b=this.state.verticalOrientation||(({canOrientDown:e,canOrientUp:t,verticalPreference:o})=>t&&e||!t&&!e?o:t?"up":"down")({verticalPreference:v,canOrientUp:y,canOrientDown:Z}),I=this.state.horizontalOrientation||(({canOrientLeft:e,canOrientRight:t,horizontalPreference:o})=>!e||"left"!==o&&t?"right":"left")({horizontalPreference:E,canOrientLeft:g,canOrientRight:w}),x=this.props.isFixed?h:f,T=this.props.isFixed?m:_,S="up"===b?T+d-t:T,C="left"===I?c-x-p-u:c-x-o-u;this.setState({top:Math.max(S,0),right:C,verticalOrientation:b,horizontalOrientation:I})},this.state=Object.freeze({}),this._scheduleUpdate=(0,l.Z)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=(0,a.Z)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,s.Z.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){this._mounted=!1,s.Z.removeEventListener("change",this._scheduleDebouncedUpdate)}render(){const{animateInDuration:e,animateType:t,children:o,isFixed:s,onDismiss:a,preventFocusShift:l,withKeyboardNavigation:v}=this.props,{right:E,top:b,verticalOrientation:I}=this.state,x=void 0===b,T=v?d.Z:n.Fragment,S=`calc(100vh - ${b||0}px)`,C=l=>{const d="rtl"===l,h=[Z.content,x&&Z.contentInitialRender,s&&[Z.contentFixed,{maxHeight:S}],{top:b,end:d?void 0:E,start:d?E:void 0}];return n.createElement(n.Fragment,null,n.createElement(r.Z,{onClick:a,style:Z.mask}),n.createElement(r.Z,{ref:this._receiveBodyRectHelperRef,style:Z.bodyRectHelper}),n.createElement(y.Z,null,(({windowWidth:s})=>n.createElement(r.Z,{accessibilityRole:"menu",onKeyUp:this._handleEsc,ref:this._receiveContentRef,style:[s<w.Z.theme.breakpoints.medium?Z.rootNarrow:Z.rootWide,h]},x&&"slide"===t?o:n.createElement(c.Z,{animateMount:"up"!==I,duration:e,onAnimateComplete:this._handleAnimateComplete,show:!0,type:t},(({isAnimating:e})=>n.createElement(u.Z,{id:"Dropdown",minimizeReporting:e},((e,t)=>n.createElement(r.Z,(0,i.Z)({ref:e()},t({})),o)))))))))};return n.createElement(_.Z,null,(({direction:e})=>(this._languageDirection=e,n.createElement(r.Z,{ref:this._receiveAnchorRef,style:Z.anchor},n.createElement(f.Z.Dropdown,null,n.createElement(p.Z.Consumer,null,(t=>n.createElement(g.Z.Consumer,null,(({isModal:o})=>n.createElement(m.Z,{history:t,isModal:o,onDismiss:a},l?C(e):n.createElement(h.Z,null,n.createElement(T,null,C(e)))))))))))))}}v.defaultProps={preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0}},38830:(e,t,o)=>{o.d(t,{Z:()=>d});var i=o(2784),n=o(36934),s=o(77934),r=o(74062),a=o(73186);const c={viewType:"module_footer"};const l=a.Z.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16},withBottomRadius:{borderBottomStartRadius:e.borderRadii.xLarge,borderBottomEndRadius:e.borderRadii.xLarge}}))),d=function({align:e,link:t,onPress:o,text:a,weight:d,withBottomRadius:h,withDarkerInteractiveBackground:m}){return i.createElement(s.zt,{behavioralEventContext:c},i.createElement(r.Z,{link:t,onPress:o,style:[l.root,h&&l.withBottomRadius],withDarkerInteractiveBackground:m},i.createElement(n.ZP,{align:e,color:"primary",weight:d},a)))}},68591:(e,t,o)=>{o.d(t,{Tu:()=>m,ZP:()=>u});var i=o(2784),n=o(25686),s=o(3655),r=o(36934),a=o(79866),c=o(11839),l=o(73186),d=o(80166);const h=l.Z.create((e=>({icon:{color:e.colors.primary,height:e.fontSizes.title4,paddingEnd:e.spaces.space12,width:e.fontSizes.title4}}))),m=Object.freeze({TopicFilled:"TOPIC_FILLED"});const p=l.Z.create((e=>({root:{justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},mainContent:{flexDirection:"row"},subtext:{alignSelf:"flex-start"},withSubtext:{alignSelf:"center"},icon:{alignSelf:"flex-start",height:e.spaces.space20,justifyContent:"center"},iconArrow:{color:e.colors.text},rightControlGroup:{flexDirection:"row",justifyContent:"flex-end",flexGrow:1,alignSelf:"center"}}))),u=function({icon:e,landingUrl:t,nativeID:o,rightControl:u,style:f,subtext:_,testID:g,text:y}){const w=(e=>e===m.TopicFilled?i.createElement(d.Z,{style:h.icon}):null)(e),Z=_?null:p.withSubtext,v=a.Z.generate({backgroundColor:l.Z.theme.colors.gray0,color:l.Z.theme.colors.cellBackground,customFocusBackgroundColor:l.Z.theme.colors.gray0,customHoverBackgroundColor:l.Z.theme.colors.gray0,customPressedBackgroundColor:l.Z.theme.colors.gray0});return i.createElement(c.Z,{interactiveStyles:t?v:null,link:null==t?void 0:t.url,nativeID:o,style:[p.root,f],testID:g},i.createElement(n.Z,{accessibilityLevel:2,accessibilityRole:"heading",style:p.mainContent},i.createElement(n.Z,{style:p.icon},w),i.createElement(r.ZP,{numberOfLines:3,size:"headline1",style:Z,weight:"heavy",withHashflags:!0},y),i.createElement(n.Z,{style:p.rightControlGroup},t?i.createElement(n.Z,{style:Z},i.createElement(s.Z,{style:p.iconArrow})):null,u?i.createElement(n.Z,null,u):null)),_?i.createElement(r.ZP,{color:"gray700",numberOfLines:2,size:"subtext2",style:p.subtext,withHashflags:!0},_):null)}},55249:(e,t,o)=>{o.d(t,{Z:()=>i});const i=(e,t)=>{let o=null;const i=()=>{o=null,e()};return()=>(o||(o=t(i)),o)}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.WideLayout.308a1d69.js.map