"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~bundle.Birdwatch~ondemand.inlineTombstoneHandler~ondemand.tweetHandler"],{24926:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i(2784).createContext({heightsReady:!0})},29279:(e,t,i)=>{i.d(t,{Z:()=>n});i(6886),i(2784);const n=(0,i(56499).Z)({loader:()=>Promise.all([i.e("shared~bundle.Conversation"),i.e("shared~bundle.Birdwatch~bundle.Compose~bundle.RichTextCompose~bundle.Settings~bundle.Display~bundle.Ocf~bundl"),i.e("shared~bundle.MultiAccount~bundle.Birdwatch~bundle.BookmarkFolders~bundle.Communities~ondemand.ComposeSchedul"),i.e("ondemand.IntentPrompt")]).then(i.bind(i,7402))})},90560:(e,t,i)=>{i.d(t,{Z9:()=>pt,ZP:()=>wt});var n=i(7896),o=(i(6886),i(36728),i(14121),i(60523),i(2784)),s=i(25686),r=i(96004),l=i(22685),a=i(25663),d=i(47701),c=i(22398),h=i(81133),u=i(25494),_=i(13867),m=i(79404),p=i.n(m),w=i(1206),C=i(16587),v=i(32307),b=i(75297),g=i(50829),k=i(73186),y=i(79075),I=i(36934),T=i(29496);const E=p().gf5e9ea6,f={viewType:"undo"};function A({heading:e,onUndoClick:t,subheading:i,withUndo:n}){return o.createElement(s.Z,{style:x.header},o.createElement(s.Z,{accessibilityLiveRegion:"polite",style:x.headerSectionLeft},o.createElement(I.ZP,{size:"headline2",weight:"bold"},e),o.createElement(I.ZP,{color:"gray700"},i)),o.createElement(s.Z,null,n&&o.createElement(T.ZP,{behavioralEventContext:f,onClick:t,style:x.headerUndoButton,type:"primaryOutlined"},E)))}const x=k.Z.create((({spaces:e})=>({header:{alignItems:"flex-start",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:e.space20},headerSectionLeft:{flex:"1"},headerUndoButton:{minWidth:e.space72}})));var P=i(27519);function S({item:e,onItemClick:t}){const{Icon:i,behavioralEventContext:n,disabled:s,subText:r,testID:l,text:a}=e,d=o.useCallback((()=>{null==e.onClick||e.onClick(),null==t||t(e)}),[e,t]),c=o.useCallback((()=>i?o.createElement(i,{style:U.icon}):null),[i]);return o.createElement(P.Z,{Icon:c,actionSubText:r,actionText:a,behavioralEventContext:n,disabled:s,onClick:d,style:U.item,testID:l})}const U=k.Z.create((({spaces:e})=>({icon:{marginEnd:e.space24},item:{paddingHorizontal:e.space8}}))),Z=p().he50a6dc,L=p().d43fbd36,M=p().a6d4c768;function R({heading:e=L,items:t,onItemClick:i,onMenuDismiss:n,onUndoClick:r,style:l,subheading:a=M,withUndo:d=!0,accessibilityLabel:c=Z}){const h=o.useCallback((e=>{(e=>!(e.altKey||e.ctrlKey||e.metaKey)&&e.key===y.nQ)(e)&&n()}),[n]),u=o.useMemo((()=>t.map((e=>null==e||!e.text||e.excludeFromActionMenu?null:o.createElement(S,{item:e,key:e.text,onItemClick:i})))),[t,i]),_=o.useMemo((()=>[F.container,l]),[l]);return o.createElement(g.Z,null,o.createElement(s.Z,{onKeyUp:h,style:_},o.createElement(A,{heading:e,onUndoClick:r,subheading:a,withUndo:d}),o.createElement(s.Z,{accessibilityLabel:c,accessibilityRole:"menu"},u)))}const F=k.Z.create((e=>({container:{paddingTop:e.spaces.space12,paddingStart:e.spaces.space16,paddingEnd:e.spaces.space16}})));var B=i(35953),D=i(44329),N=i(88990);const O=i.p+"pin-tweet-reply.767a2979.png",H=p().j24c37b2,V=p().a2411360,W=p().caee9368,K=p().d41305a8,q=({style:e})=>o.createElement(s.Z,{style:e},o.createElement(B.Z,{accessibilityLabel:K,aspectMode:D.Z.exact(1.5),image:O})),z=({onClose:e})=>o.createElement(N.Z,{actionLabel:H,graphic:q,graphicDisplayMode:"illustrationFullWidth",headline:V,isFullHeightOnMobile:!1,onAction:e,onClose:e,subtext:W,withCloseButton:!1});var G=i(4976),j=i(59311),Q=i(29279),X=i(9739),$=i(92187),J=i(23021),Y=i(98209),ee=i(49916),te=i(81972),ie=i(23301),ne=i(45855),oe=i(36840),se=i(2422),re=i(15579),le=i(76275),ae=i(60397),de=i(6614),ce=i(60673),he=i(20032),ue=i(44870),_e=i(44836),me=i(57751),pe=i(23335),we=i(90968),Ce=i(46110),ve=i(92160),be=i(11497),ge=i(21906),ke=i(8038),ye=i(72314),Ie=i(29170),Te=i(38429),Ee=i(35555),fe=i(15934),Ae=i(70083),xe=i(67935),Pe=i(24433),Se=i(99629),Ue=i(73738),Ze=i(30102),Le=i(2488),Me=i(57659);const Re=(e,{tweetId:t})=>(0,Ee.MW)(e,t),Fe=(e,t)=>t.tweetId,Be=(e,{urtAdvertiser:t,urtPromotedContent:i})=>{if(e&&i){const n=e.promoted_content;return{...e,promoted_content:{adMetadataContainer:i.adMetadataContainer,disclosure_type:i.disclosureType,experiment_values:i.experimentValues,impression_id:i.impressionId,advertiser:t?{id_str:t.id_str}:void 0,advertiser_name:(null==t?void 0:t.name)||void 0,click_tracking_info:i.clickTrackingInfo,...n}}}return e},De=(e,{socialContext:t})=>t,Ne=(e,{socialContext:t})=>{const i=t&&t.topicContext;return i?Ue.Z.select(e,i.topicId):void 0},Oe=(e,t)=>{const i=t.tweetId,n=i&&Ze.ZP.select(e,i);return n?(0,ye.z0)(e,n):void 0},He=(e,t)=>{const i=Ze.ZP.createHydratedTweetSelector(Fe)(e,t),n=null==i?void 0:i.quoted_status;return n?(0,ye.z0)(e,n):void 0},Ve=(e,{urtPromotedContent:t})=>t,We=(e,{urtPromotedContent:t})=>t?Me.ZP.select(e,t.advertiserId):null,Ke=(e,t)=>t.contextTweetId,qe=(e,t)=>(0,Ie.t5)(e,Ie.vA),ze=(0,ve.Z)().propsFromState((()=>({adFreeArticleDomains:be.W$,articleDomains:ke.cb,community:Oe,contextTweet:Ze.ZP.createHydratedTweetSelector(Ke),displaySensitiveMedia:Pe.f1,explicitSocialContext:De,isNsfwUser:Pe.EF,isPinned:Re,loggedInUser:Me.ZP.selectLoggedInUser,quoteTweetCommunity:He,pinnedRepliesEducationFlag:qe,topic:Ne,tweet:Ze.ZP.createHydratedTweetSelector(Fe),urtAdvertiser:We,urtPromotedContent:Ve,userCountry:xe.GG,userLanguage:xe.VT,tweetDetailNav:Te.wZ}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:i,contextTweet:n,displaySensitiveMedia:o,explicitSocialContext:s,isNsfwUser:r,isPinned:l,loggedInUser:a,pinnedRepliesEducationFlag:d,quoteTweetCommunity:c,topic:h,tweet:u,tweetDetailNav:_,urtAdvertiser:m,urtPromotedContent:p,userCountry:w,userLanguage:C})=>{var v,b,g;const k=u&&(0,Ce.D$)(u,null==a?void 0:a.id_str),y=null==u||null==(v=u.card)||null==(b=v.binding_values)||null==(g=b.domain)?void 0:g.string_value,I=(0,ke.ex)(t,y),T=null==u?void 0:u.quoted_status,E=T?(0,Ce.D$)(T,null==a?void 0:a.id_str,c):void 0,f=E&&(0,Ce.rl)(E),A=(0,we.uA)(null==i?void 0:i.role),x=s||k;return{adFreeArticleDomains:e,contextTweet:n,displaySensitiveMedia:o,isCardArticle:I,isNsfwUser:r,isPinned:l,loggedInUser:a,pinnedRepliesEducationFlag:d,promotedContentAdvertiser:m||void 0,quoteTweetSocialContextProps:f,socialContext:x,socialContextColor:(0,we.J2)(i,x),topic:h,tweet:Be(u,{urtPromotedContent:p,urtAdvertiser:m}),tweetDetailNav:_,userCountry:w,userLanguage:C,withCommunityModerationAuthority:A}})).propsFromActions((()=>({addToast:Se.fz,addPinnedReplyEducationFlag:()=>(0,Ie.pj)(Ie.vA),block:Me.ZP.block,createLocalApiErrorHandler:(0,pe.createLocalApiErrorHandlerWithContextFactory)("TWEET_CONTAINER_CONTEXT"),log:fe.cM,fetchAdFreeToken:be.EC,fetchCommunityIfNeeded:ye.ZP.fetchOneIfNeeded,fetchTopicIfNeeded:Ue.Z.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:be.xs,mute:Ae.r,onUnretweet:Le.Z,richScribeAction:ge.richScribeAction,setArticlesVisited:ke.Ji,undoTopicNotInterested:Ue.Z.undoNotInterested,unblock:Me.ZP.unblock,unmute:Me.ZP.unmute,updateLongformNotesLearnMoreBanner:Ze.ZP.updateLongformNotesLearnMoreBanner})));var Ge=i(77953),je=i(84794);var Qe=i(24926),Xe=i(45990);function $e(e){const{id:t,onFullyVisible:i,position:n,testID:r}=e,l=o.useMemo((()=>{switch(n){case"top":return Je.topPixel;case"bottom":return Je.bottomPixel;case"right":return Je.rightPixel;case"left":return Je.leftPixel;default:return}}),[n]),a=o.useCallback((e=>{e.visibleFraction()>=Xe.xn&&i()}),[i]);return o.createElement(s.Z,{style:[Je.impressionPixelContainer,l],testID:r},o.createElement(Xe.ZP,{key:t,onPlacementChange:a},o.createElement(s.Z,{style:Je.impressionPixel})))}const Je=k.Z.create((e=>({impressionPixel:{visibility:"hidden",height:"1px",width:"1px"},impressionPixelContainer:{position:"absolute"},topPixel:{top:"0",end:"50%"},bottomPixel:{bottom:"0",end:"50%"},rightPixel:{end:"0",top:"50%"},leftPixel:{start:"0",top:"50%"}}))),Ye="top-impression-pixel",et="bottom-impression-pixel",tt="right-impression-pixel",it="left-impression-pixel";class nt extends o.PureComponent{constructor(...e){super(...e),this._areHeightsReady=()=>this.props.heightsReady,this._renderImpressionPixels=e=>o.createElement(o.Fragment,null,o.createElement($e,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"top",testID:Ye}),o.createElement($e,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"right",testID:tt}),o.createElement($e,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"bottom",testID:et}),o.createElement($e,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"left",testID:it})),this._handleOnVisible=e=>()=>{const{id:t,onVisible:i}=this.props,n=e();n&&this._lastVisibleId!==t&&i&&(this._lastVisibleId=t,i(n))},this._handlePlacementChange=e=>{const{id:t,onFullyVisible:i,onVisible:n,shouldUseImpressionPixel:o}=this.props;if(!this._areHeightsReady())return;o||this._lastVisibleId!==t&&e.verticalOverlap()>=1&&(this._lastVisibleId=t,n(e));const s=e.visibleFraction()>=Xe.xn,r=e.item.height>e.viewport.height,l=e.verticalOverlap()===e.viewport.height||r&&e.visibleFraction()>=Xe.xh;this._lastFullyVisibleId!==t&&(s||l)&&(this._lastFullyVisibleId=t,i&&i(e))},this._handleLayout=e=>{const{nativeEvent:{layout:{height:t,width:i}}}=e,n={width:i,height:t};if(this._prevLayout&&(this._prevLayout.width!==i||this._prevLayout.height!==t)){const{onResize:e}=this.props;e&&e(this._prevLayout,n)}this._prevLayout=n}}render(){const{children:e,id:t,shouldUseImpressionPixel:i}=this.props;return o.createElement(Xe.ZP,{key:t,onLayout:this._handleLayout,onPlacementChange:this._handlePlacementChange},(({getScrollPlacement:t})=>o.createElement(o.Fragment,null,i&&this._areHeightsReady()&&this._renderImpressionPixels(t),e)))}}function ot(e){return o.createElement(Qe.Z.Consumer,null,(({heightsReady:t})=>o.createElement(nt,(0,n.Z)({},e,{heightsReady:t}))))}const st=p().f277e94a,rt=p().e4c6c30a,lt=p().da59404c,at=p().e267df68,dt=p().d5f162b6;class ct extends o.Component{constructor(e,t){var i;super(e,t),this._shouldLogPromotedImpression=ut.bind(null,this.context.featureSwitches),this._isProbablyRemovedByAdBlocker=ht.bind(null,this.context.featureSwitches),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCompatibilityScribeEnabled=this.context.featureSwitches.isTrue("responsive_web_extension_compatibility_scribe"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._shouldUseImpressionPixel=this.context.featureSwitches.isTrue("responsive_web_impression_pixel_enabled"),this._hasClaimsForAdFreeArticles=null==(i=this.context.userClaims)?void 0:i.isTrueAndEnabled("subscriptions_feature_1006"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._isEditTweetConsumptionEnabled=()=>this.context.featureSwitches.isTrue("responsive_web_edit_tweet_enabled")||this.context.featureSwitches.isTrue("subscriptions_feature_labs_1004"),this._isLeaveBehindMenuRepliesEnabled=()=>this.context.featureSwitches.isTrue("responsive_web_lbm_v2_replies_enabled"),this._isLeaveBehindMenuHomeEnabled=()=>this.context.featureSwitches.isTrue("responsive_web_lbm_v2_home_enabled"),this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props,{user:t}=e;return(0,J.ed)({confirmation:(0,J.LI)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0,enableKeyboardShortcuts:!1})},this._handleUnretweet=()=>{const{createLocalApiErrorHandler:e,onUnretweet:t,tweet:i}=this.props;t(l.Z.getOriginalTweet(i).id_str,{promotedContent:i.promoted_content}).catch(e(te.P))},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:i}=this._getBlockOrUnblockAction(),n=this.context.loggedInUserId===this.props.tweet.user.id_str;return{...t&&{[t]:e},...i&&!n&&{[i]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBaseTweetProps=()=>{var e,t,i,n;const{analytics:o,contextualClientEventInfo:s,conversationTreeMetadata:r,feedbackItems:a,focalTweetId:d,forwardPivotInfo:c,handleBlockTrigger:h,isNsfwUser:u,isPinned:_,onTweetDismiss:m,ruxContext:p,saveAsRecentSearch:w,shouldStoreTypeaheadItem:C,socialContext:v,topicFollowPrompt:b,tweet:g,userCountry:k,userLanguage:y,withActionsDisabled:I,withCommunityModerationAuthority:T,withCurationMenu:E,withHideReply:f,withMuteConversation:A,withUnhideReply:x,withViewHiddenReplies:P}=this.props,S=l.Z.getOriginalTweet(g),U=this._getPromotedContent(),Z=null==(e=o.contextualScribeData)||null==(t=e.items)?void 0:t[0].suggestion_details,L=this._isSelected(),{loggedInUserId:M}=this.context,R=(null==S||null==(i=S.user)?void 0:i.id_str)===M,F=!S.in_reply_to_status_id_str&&R&&!S.community_id_str,B=this._renderConversationControlsTooltip(),D=null==(n=S.longformNotesLearnMore)?void 0:n.showBanner;return{inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:d===g.id_str,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:g.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onLikeSuccess:this._handleLikeSuccess,onMediaClick:g.isPreview?this._handleEmbeddedMediaPreviewClick:this._handleEmbeddedMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onPromotedUserProfileCardClick:this._handlePromotedUserProfileCardClick,onQuoteTweetClick:this._handleQuoteTweetClick,onReply:this._handleInlineReplyClick,onReplyContextClick:this._handleReplyContextClick,onScreenNameClick:this._handleScreenNameClick,onSelfThreadClick:this._handleSelfThreadClick,onSelfThreadImpression:this._handleSelfThreadImpression,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,onUserFollowIndicatorClick:this._handleUserFollowIndicator,onUserFollowIndicatorDismissClick:this._handleUserFollowIndicatorDismiss,onUserFollowIndicatorLearnMoreClick:this._handleUserFollowIndicatorLearnMoreClick,onVibeClick:this._handleVibeClick,promotedContent:U,renderCurationActionMenu:E&&!g.isPreview?this._getRenderCurationActionMenu(c&&c.displayType,a,h,I,u,_,L,this._handleCaretClick,m,U,S,f,T,A,x,F,P,r,null==s?void 0:s.entityToken,B,k,y,this._setLeaveBehindActionItems,this._shouldRenderImmediateDismiss()):void 0,saveAsRecentSearch:w,shouldStoreTypeaheadItem:C,showLongformNotesLearnMoreBanner:D,to:{state:{focal:S.id_str,socialContext:v,contextualClientEventInfo:s,contextTweetId:g.id_str,promotedContent:U,suggestionDetails:Z,topicFollowPrompt:b},pathname:S.permalink,query:p?{cxt:p}:void 0}}},this._getReaderModeTweetProps=()=>{var e,t;const{analytics:i,contextualClientEventInfo:n,hideHighlightedUserLabel:o,ruxContext:s,socialContext:r,topicFollowPrompt:a,tweet:d,tweetTextSize:c}=this.props,h=l.Z.getOriginalTweet(d),u=this._getPromotedContent(),_=null==(e=i.contextualScribeData)||null==(t=e.items)?void 0:t[0].suggestion_details;return{hideHighlightedUserLabel:o,onAnalyticsClick:w.Z,onAvatarClick:w.Z,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:d.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:w.Z,onFocus:this._handleFocus,onMediaClick:this._handleEmbeddedMediaClick,onReplyContextClick:w.Z,to:{state:{focal:h.id_str,socialContext:r,contextualClientEventInfo:n,contextTweetId:d.id_str,promotedContent:u,suggestionDetails:_,topicFollowPrompt:a},pathname:h.permalink,query:s?{cxt:s}:void 0},tweet:d,tweetTextSize:c||"headline1",withActions:!1,withAvatarLink:!1,withReaderModeBottomBar:!0,withUserAvatar:!1,withUserHoverCard:!1,withUserName:!1,withTimestamp:!1}},this._getInlineCalloutInfo=()=>{const{analytics:e,displaySensitiveMedia:t,isNsfwUser:i,tweet:n,userCountry:o,userLanguage:s}=this.props,{featureSwitches:r,loggedInUserId:l}=this.context;if((0,de.pG)({displaySensitiveMedia:t,featureSwitches:r,isNsfwUser:i,loggedInUserId:l,tweet:n,userCountry:o,userLanguage:s}))return(0,de.Mt)(n,e.contextualScribeNamespace,r)},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualClientEventInfo:i,createLocalApiErrorHandler:n,tweet:o,unblock:s}=this.props,{user:r}=o,l=this._getPromotedContent(),a={addToast:e,behavioralEventEntityToken:null==i?void 0:i.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return(0,_e.Z)({...a,block:t,unblock:s,user:r,promotedContent:l})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualClientEventInfo:t,createLocalApiErrorHandler:i,mute:n,tweet:o,unmute:s}=this.props,{user:r}=o,l={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:i,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}},a=this._getPromotedContent();return(0,me.Z)({...l,mute:n,unmute:s,user:r,promotedContent:a})},this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{showMidConversationControlEducationText:t,tweet:i}=this.props,n=l.Z.getOriginalTweet(i);if(!n)return!1;const o=!!n.community_id_str,s=n.user&&n.user.id_str===e,r=n.reply_count>0;return!n.in_reply_to_status_id_str&&s&&r&&!o&&t},this._getRenderCurationActionMenu=(0,C.Z)(((e,t,i,n,s,r,l,a,d,c,h,u,_,m,p,w,C,v,b,g,k,y,I,T)=>()=>o.createElement($.Z,{behavioralEventEntityToken:b,feedbackItems:t,forwardPivotDisplayType:e,handleBlockTrigger:i,isDisabled:n,isNsfwUser:s,isPinned:r,onMenuClick:a,onTweetDismiss:d,promotedContent:c,setLeaveBehindActionItems:I,tweet:h,userCountry:k,userLanguage:y,withChangeConversationControls:w,withChangeConversationControlsTooltip:g,withCommunityModerationAuthority:_,withHideReply:u,withImmediateDismiss:T,withMuteConversation:m,withUnhideReply:p,withViewHiddenReplies:C}))),this._getMemoizedScribeData=(0,C.Z)(((e,t,i,n={},o,s)=>{const r=(({clickTrackingEmbedDetails:e,contextualScribeData:t,isSelected:i,overflow:n,promotedContent:o,scribeData:s,tweet:r})=>{const{items:l=[]}=s||{},{items:a=[]}=t||{};return{...t||{},...s||{},...e&&{click_tracking_embed_details:e},items:le.Z.addTweetToItems(l.length||a.length?[...l,...a]:[],r,o,i,n)}})({tweet:e,promotedContent:t,overflow:i,scribeData:n,isSelected:this._isSelected(),contextualScribeData:o,clickTrackingEmbedDetails:s});return this._cachedFinalScribeData&&(0,v.Z)(r,this._cachedFinalScribeData)||(this._cachedFinalScribeData=r),this._cachedFinalScribeData})),this._scribeAction=(e,t={},i,n,o)=>{var s;const{analytics:r,history:a,richScribeAction:d,tweet:c}=this.props,h=null==(s=a.location.state)?void 0:s.overflow,u=this._getPromotedContent();let _={...t};if(n){const e=le.Z.getUserItem(c.user,u),t=_.items?[..._.items,e]:[e];_={..._,items:t}}if(o){const e={article_details:{is_ad_free:o}},t=_.items?[..._.items,e]:[e];_={..._,items:t}}const m=this._getMemoizedScribeData(l.Z.getOriginalTweet(c),u,h,_,r.contextualScribeData,i);d({...r.contextualScribeNamespace,...e},m)},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(ie.dx.FOOTER_PROFILE)},this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._getPromotedContent=()=>{const{displayPromotedContent:e,tweet:t}=this.props;return e?t.promoted_content:void 0},this._handleImpression=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ie.dx.IMPRESSION)},this._handleFullyVisible=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ie.dx.DWELL)},this._handleResize=(e,t)=>{!this._isProbablyRemovedByAdBlocker(e)&&this._isProbablyRemovedByAdBlocker(t)&&(Y.Z.recordAdBlockerPresence(),this._isCompatibilityScribeEnabled&&this._scribeAction({action:"blocked_ad"}))},this._handleInlineReplyClick=e=>{const{loggedInUserId:t}=this.context,{history:i,tweet:n}=this.props,o=this._getPromotedContent();e.preventDefault(),this._scribeAction({element:"inline_reply",action:"reply"}),i.push({state:{inReplyToStatusId:n.id_str,isSelfThreadReply:!!t&&(0,de.aT)({tweet:n,loggedInUserId:t}),promotedContent:o},pathname:"/compose/tweet"})},this._handleLikeSuccess=()=>{if(this.context.featureSwitches.isTrue("home_timeline_like_reactivity_enabled")){const{onLike:e}=this.props,t="LikeReactionFatigue";try{const i=JSON.parse(window.sessionStorage.getItem(t))||0;i<this.context.featureSwitches.getNumberValue("home_timeline_like_reactivity_fatigue")&&e&&e().then((e=>{null!=e&&e.performed&&window.sessionStorage.setItem(t,JSON.stringify(i+1))}))}catch(e){}}const{pinnedRepliesEducationFlag:e,pinnedReplyState:t}=this.props;t===ue.C.Pinnable&&e&&this.context.featureSwitches.isTrue("responsive_web_pinned_replies_enabled")&&(this._scribeAction({element:"pinned_reply_nux",action:"impression"}),this.setState({showPinnedReplyEducationSheet:!0}))},this._handleReplyContextClick=(e,t)=>this._scribeAction({element:"reply_context",action:"click"},{event_value:t}),this._handleAsyncPromotedEvent=(e,t)=>{const{createLocalApiErrorHandler:i,log:n,tweet:o}=this.props,s=this._getPromotedContent();if(s){const{disclosure_type:r,impression_id:l}=s;n({disclosureType:r,itemId:o.id_str,itemType:ie.bj.TWEET,params:{event:e,impression_id:l,...t}}).catch(i())}},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleVibeClick=()=>{var e,t;const{tweet:i}=this.props;this._scribeAction({element:"vibe_pill",action:"click"},{items:[{id:i.id_str,vibe_details:{vibe_text:null==(e=i.vibe)?void 0:e.text,...null==(t=i.vibe)?void 0:t.annotation}}]})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ie.dx.PROFILE_IMAGE_CLICK)},this._handleCaretClick=()=>{this._scribeAction({element:"caret",action:"click"}),this._shouldRenderImmediateDismiss()&&this.setState({showLeaveBehindMenu:!0})},this._handleTweetClick=a.Z.selectiveClickHandler((e=>{if(!e.defaultPrevented){if(e.stopPropagation(),window.getSelection().toString().length)return;const{onTweetClick:t,tweet:i}=this.props;null==t||t(i.isReported),this._maybeAddViewingLatestTweetToast(),this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ie.dx.VIEW_DETAILS)}})),this._isInEditHistoryScreen=()=>{var e;const{tweet:t}=this.props,i=l.Z.getOriginalTweet(t),{history:n}=this.context,o=null==(e=i.edit_control)?void 0:e.edit_tweet_ids;return!(null==o||!o.find((e=>n.location.pathname.includes(`/${e}/history`))))},this._maybeAddViewingLatestTweetToast=e=>{var t;const{addToast:i,tweet:n}=this.props,o=l.Z.getOriginalTweet(n);(e?null==(t=o.quoted_status)?void 0:t.isStaleEdit:o.isStaleEdit)&&!this._isInEditHistoryScreen()&&this._isEditTweetConsumptionEnabled()&&i({text:lt})},this._handlePreviewClick=e=>{e.preventDefault()},this._handleEmbeddedMediaPreviewClick=e=>{null==e||e.preventDefault()},this._handleEmbeddedMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(ie.dx.EMBEDDED_MEDIA)},this._handleQuoteTweetClick=()=>{this._maybeAddViewingLatestTweetToast(!0),this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ie.dx.VIEW_DETAILS)},this._handleEntityClick=(e,t,i)=>{const{adFreeArticleDomains:n,createLocalApiErrorHandler:o,fetchAdFreeToken:s,tweet:r}=this.props,l=ie._4[t],a=se.Z[t],h=this._getPromotedContent(),u=le.Z.getClickTrackingEmbedDetails(h,i);if(l){const t=l===ie.dx.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(l,t)}if(t===d.Z.MEDIA)return this._handleTweetClick(e);t===d.Z.URL&&u&&this._scribeAction({action:c.bQ.CLICK_ID_EMBED},{},u);let _=!1;if(this._hasClaimsForAdFreeArticles&&null!=i&&i.expandedUrl){const t=new URL(i.expandedUrl).hostname,[l,a]=new ee.p3(s,o()).getAdFreeArticlesClickHandler({destinationUrl:i.embeddedUrl,linkDomain:t,adFreeArticleDomains:n,tweetAuthorUserId:r.user.id_str});l&&(a(e),_=!0)}if(t===d.Z.MENTION){const e=null!=i&&i.text?[{item_type:re.Z.ItemType.USER,name:i.text,id:i.id_str}]:void 0;return this._scribeAction({action:a},{targets:e},void 0,void 0,_)}if(t===d.Z.HASHTAG){const e=null!=i&&i.text?[{name:i.text}]:void 0;return this._scribeAction({action:a},{targets:e},void 0,void 0,_)}return t===d.Z.INTERACTIVE_HIGHLIGHT&&void 0!==(null==i?void 0:i.id)?this._scribeAction({element:"interactive_text",action:a},{interactive_text_details:{id:i.id}},void 0,void 0,_):t===d.Z.INTERACTIVE_CONVERSATION&&void 0!==(null==i?void 0:i.id)?this._scribeAction({element:"interactive_conversation",action:a},{interactive_conversation_details:{id:i.id,original_tweet_id:r.id_str}},void 0,void 0,_):void(a&&this._scribeAction({action:a},void 0,void 0,void 0,_))},this._handlePromotedUserProfileCardClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user_recommendation",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ie.dx.SCREEN_NAME_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ie.dx.SCREEN_NAME_CLICK)},this._handleSelfThreadClick=()=>this._scribeAction({element:"self_thread",action:"click"}),this._handleSelfThreadImpression=()=>this._scribeAction({element:"self_thread",action:"impression"}),this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:i,socialContext:n}=this.props,o=n&&(null==(e=n.topicContext)?void 0:e.topicId);o&&i(o).catch(t())},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:i}=this.props;if(this._isCommunitiesEnabled&&i){var n;const o=i.community_id_str,s=null==(n=i.quoted_status)?void 0:n.community_id_str;o&&t(o).catch(e()),s&&t(s).catch(e())}},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props,i=l.Z.getOriginalTweet(e),n=l.Z.hasLongformNoteUrl(i);e&&n&&this._twitterArticleLearnMoreBannerEnabled&&t(i.id_str)},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:i}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&i(t.id).catch(e())},this._handleUserFollowIndicator=()=>{this._scribeAction({component:"super_follower_educaton",element:"indicator",action:"click"})},this._handleUserFollowIndicatorDismiss=()=>{this._scribeAction({component:"super_follower_education",action:"dismiss"})},this._handleUserFollowIndicatorLearnMoreClick=e=>{this._scribeAction({component:"super_follower_education",element:"learn_more",action:"click"}),e&&e()},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:i,analytics:n,createLocalApiErrorHandler:o,fetchAdFreeToken:s,isCardArticle:r,setArticlesVisited:l,tweet:a}=this.props;if(r&&this._isArticleNudgeEnabled){var d;const e=null==a||null==(d=a.card)?void 0:d.url;var c;if(e)l(e),n.scribe({component:"article_nudge",element:"read_article",action:"click",data:{items:[{token:null==a||null==(c=a.card)?void 0:c.url,in_reply_to_tweet_id:a.id_str}]}})}const u=null==a||null==(t=a.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&u){const[t,n]=new ee.p3(s,o()).getAdFreeArticlesClickHandler({destinationUrl:h.Z.getBindingValue(u,"card_url"),linkDomain:h.Z.getBindingValue(u,"domain"),adFreeArticleDomains:i});t&&n(e)}},this._handleSaveAsRecentSearchUser=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,tweet:i}=this.props,{user:n}=i;e&&t&&t(re.Z.ItemType.USER)&&e({user:{id:n.id_str,type:ae.g2.User}})},this._isSelected=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,{selectedTweet:i}=e||{};return i&&t.id_str===i.selectedTweetId},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(ie.dx.HASHTAG_CLICK)},this._handleOnPinnedReplyNUXClose=()=>{this.props.addPinnedReplyEducationFlag(),this.setState({showPinnedReplyEducationSheet:!1})},this._renderPinnedReplyNUX=()=>this.state.showPinnedReplyEducationSheet?o.createElement(z,{onClose:this._handleOnPinnedReplyNUXClose}):null,this._renderLeaveBehindMenu=e=>{const t=this.state.leaveBehindActionMenuItems,i=this._isReplyTimelineImmediateDismiss();return o.createElement(r.Z,{behavioralEventContext:e},o.createElement(R,{heading:i?at:void 0,items:t,onMenuDismiss:this._hideLeaveBehindMenu,onUndoClick:this._hideLeaveBehindMenu,subheading:i?dt:void 0,withUndo:!0}))},this._hideLeaveBehindMenu=()=>{this.setState({showLeaveBehindMenu:!1})},this._isReplyTimelineImmediateDismiss=()=>{const{tweet:e,tweetDetailNav:t}=this.props,{in_reply_to_status_id_str:i,self_thread:n,user:o}=e,s=!!i,r=(null==o?void 0:o.id_str)===this.context.loggedInUserId,l=!this.context.loggedInUserId,a=(null==n?void 0:n.id_str)===i,d="tweet"===t,c=!!e.community_id_str;return s&&d&&!(l||r||a||c)&&this._isLeaveBehindMenuRepliesEnabled()},this._shouldRenderImmediateDismiss=()=>{var e;return!(!((null==(e=this.props.feedbackItems)?void 0:e.length)&&this._isLeaveBehindMenuHomeEnabled())&&!this._isReplyTimelineImmediateDismiss())},this._setLeaveBehindActionItems=e=>{this.setState({leaveBehindActionMenuItems:e})},this.state={displayReported:!1,enableKeyboardShortcuts:!1,leaveBehindActionMenuItems:[],showBlockOrUnblockConfirmation:!1,showLeaveBehindMenu:!1,showPinnedReplyEducationSheet:!1};const n=this._getPromotedContent();this._shouldHidePromotedTweet=u.Z.isPromoted(n)&&Y.Z.shouldHidePromotedTweets(this.context.featureSwitches)}shouldComponentUpdate(e,t){return!(0,v.Z)(this.props,e)||!(0,v.Z)(this.state,t)}componentDidMount(){this._shouldHidePromotedTweet&&this._isCompatibilityScribeEnabled&&this._scribeAction({action:"hide_promoted"}),this._handleTopicFetch(),this._handleCommunityFetch(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){var e;const{loggedInUserId:t}=this.context,{conversationPosition:i,conversationTreeMetadata:n,showWithheldBannerOnMyTweets:r,tweet:a}=this.props;if(!this._shouldRender())return n?o.createElement(X.Z,{conversationPosition:i,conversationTreeMetadata:n},rt):null;const d=(null==a||null==(e=a.user)?void 0:e.id_str)===t,c=(0,j.j)(l.Z.getOriginalTweet(a).withheld_scope),h=d&&!a.retweeted_status,u=h&&"user"===l.Z.getOriginalTweet(a).withheld_scope&&!r,_=(0,oe.G$)(a)&&!this.state.displayReported;let m=null;if(c)m=o.createElement(s.Z,null,u?null:this._renderWithheldTweet(),h?this._renderContent():null);else if(_)m=this._renderReportedTombstone();else if(this.state.showLeaveBehindMenu){const e={viewType:"leave_behind_menu"};m=this._renderLeaveBehindMenu(e)}else m=this._renderContent();return o.createElement(o.Fragment,null,m,this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation?this._renderBlockOrUnblockConfirmationSheet():null,this._renderPinnedReplyNUX())}_renderIntentPrompt(){const{contextualClientEventInfo:e,forwardPivotInfo:t,history:i,nudges:n,tweet:s,tweetId:r}=this.props;if(s&&"focal_module"===(null==e?void 0:e.component)&&i.location.pathname.indexOf("/intent/")>-1&&i.location.query.tweet_id===r)return o.createElement(Q.Z,{forwardPivotInfo:t,history:i,location:i.location,nudges:n,tweetId:s.id_str})}_renderWithheldTweet(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:i}=this.props,n=i.user.id_str,s=l.Z.getOriginalTweet(i),{loggedInUserId:r}=this.context,a=!!r&&r===n&&s.retweeted,d=s.withheld_text||s.text,c=s.withheld_entities||s.entities,h=i.user.id_str===r;return o.createElement(j.Z,{conversationPosition:e,conversationTreeMetadata:h?void 0:t,displayTextRange:s.display_text_range,entities:c,lang:s.lang,onUnretweet:a?this._handleUnretweet:void 0,showUnretweetButton:a,text:d})}_renderReportedTombstone(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:i}=this.props,n=l.Z.getOriginalTweet(i),s=(0,oe.jD)(n.reportingVisibility);return o.createElement(X.Z,{actionText:st,conversationPosition:e,conversationTreeMetadata:t,lang:n.lang,onClick:this._handleShowReportedTweet},s)}_renderContent(){var e;const{allowDownvote:t,analytics:i,bookmarkFolderId:n,contextTweet:s,contextualClientEventInfo:r,conversationPosition:a,conversationTreeMetadata:d,displayBlocked:c,forwardPivotInfo:h,hasModeratedReplies:u,hideConversationControlsEducationText:_,hideExclusivityInfoEducationTextInReplies:m,hideTrustedFriendsEducationTextInReplies:p,history:w,hitHighlights:C,injectedFeedbackItem:v,innerForwardPivotInfo:g,innerNudges:k,isReaderMode:y,isUnread:I,linkify:T,loggedInUser:E,nudges:f,promotedContentAdvertiser:A,quoteTweetSocialContextProps:x,quotedTweetTombstoneInfo:P,replyBadge:S,replyContext:U,rootTweetAuthorId:Z,shouldSelfThreadIncludeAvatar:L,showReplyFilterInlineCallout:M,socialContext:R,socialContextColor:F,topic:B,topicFollowPrompt:D,tweet:N,withActions:O,withActionsDisabled:H,withBirdwatchPivots:V,withCardLinks:W,withInlineMedia:K,withQuotedTweetLinks:q,withRemoveFromBookmarks:z,withSelfThread:j,withSocialContext:Q,withUserPresence:X}=this.props,{enableKeyboardShortcuts:$}=this.state,J=l.Z.getOriginalTweet(N),Y=this._getPromotedContent(),ee=null==(e=w.location.state)?void 0:e.overflow,te={...{allowDownvote:t,bookmarkFolderId:n,contextTweet:s,contextualClientEventInfo:r,conversationPosition:a,conversationTreeMetadata:d,displayBlocked:c,enableKeyboardShortcuts:$,forwardPivotInfo:h,nudges:f,innerNudges:k,hasModeratedReplies:u,hideConversationControlsEducationText:_,hideExclusivityInfoEducationTextInReplies:m,hideTrustedFriendsEducationTextInReplies:p,hitHighlights:C,injectedFeedbackItem:v,innerForwardPivotInfo:g,linkify:T,loggedInUser:E,promotedContentAdvertiser:A,quotedTweetTombstoneInfo:P,quoteTweetSocialContextProps:x,replyBadge:S,replyContext:U,rootTweetAuthorId:Z,shouldSelfThreadIncludeAvatar:L,showReplyFilterInlineCallout:M,socialContext:R,socialContextColor:F,topic:B,topicFollowPrompt:D,tweet:N,withActions:O,withActionsDisabled:H,withBirdwatchPivots:V,withCardLinks:W,withInlineMedia:K,withQuotedTweetLinks:q,withRemoveFromBookmarks:z,withSelfThread:j,withSocialContext:Q,withUnreadStyles:I,withUserPresence:X},...y?this._getReaderModeTweetProps():this._getBaseTweetProps()},ie=o.createElement(ne.nO,{data:this._getMemoizedScribeData(J,Y,ee,void 0,i.contextualScribeData)},o.createElement(b.Z,{enabled:!!$,handlers:this._getShortcutKeyHandlers()},o.createElement(G.Z,te)));return Y?o.createElement(ot,{id:N.id_str,onFullyVisible:this._handleFullyVisible,onResize:this._handleResize,onVisible:this._handleImpression,shouldUseImpressionPixel:this._shouldUseImpressionPixel},ie):ie}_shouldRender(){const{tweet:e}=this.props;return!(this._shouldHidePromotedTweet||this._tweetIsDeleted()||this._shouldHideBlockedTweet()||(0,oe.lX)(e))}_tweetIsDeleted(){const{tweet:e}=this.props,{retweeted_status:t}=e;return e.isDeleted||t&&t.isDeleted}_shouldHideBlockedTweet(){var e,t;const{displayBlocked:i,focalTweetId:n,tweet:o}=this.props,s=l.Z.getOriginalTweet(o),r=!(null==o||null==(e=o.user)||!e.blocking)||!(null==s||null==(t=s.user)||!t.blocking);return n!==o.id_str&&(!i&&r)}}ct.defaultProps={displayBlocked:!1,shouldSelfThreadIncludeAvatar:!1,showWithheldBannerOnMyTweets:!0,withCardLinks:!1,withCurationMenu:!0,withMuteConversation:!1,withRemoveFromBookmarks:!1},ct.contextType=he.rC;const ht=(e,t)=>t.height<=e.getNumberValue("responsive_web_extension_compatibility_size_threshold",50),ut=(e,t)=>!(e.isTrue("responsive_web_extension_compatibility_impression_guard")&&ht(e,t.item)),_t=e=>{const t=o.useContext(_.Z);((e,t)=>{const i=(0,ce.z)();o.useEffect((()=>{t||i.scribe({action:"hydration_failed",data:{tweet_id:e}})}),[i,t,e])})(e.tweetId,e.tweet);const i=(({tweet:e})=>{const{featureSwitches:t}=(0,he.QZ)(),i="legacy"===t.getStringValue("responsive_web_card_conversion_hoisted"),n=(0,Ge.v9)(xe.Qb),s=(null==e?void 0:e.card)||(null==e?void 0:e.unified_card);return o.useMemo((()=>{if(!i||!e)return;const t={tweetId:e.id_str,tweetPermalink:e.permalink,tweetUserId:e.user.id_str,isLoggedIn:n};return s&&(0,je.ZP)(s,t)}),[s,i,e,n])})({tweet:e.tweet});return e.tweet?o.createElement(ct,(0,n.Z)({},e,{convertedCard:i,history:t,tweet:e.tweet})):null};_t.defaultProps=ct.defaultProps;const mt=ze(_t),pt=(0,ce.Z)(mt),wt=(0,ce.Z)(mt,{component:"tweet"})},44836:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(23021),o=i(19565),s=i(17772);const r=({addToast:e,behavioralEventEntityToken:t,block:i,createLocalApiErrorHandler:r,promotedContent:l,scribeAction:a,unblock:d,user:c})=>{const h=()=>{d(c.id_str,{promotedContent:l}).catch(r(s.D)),a({element:"unblock"})},u={user:c,source:n.SC.TWEET,blockAction:()=>{i(c.id_str,{promotedContent:l}).then((()=>{e({action:{label:n.Vt,onAction:h,behavioralEventViewType:"unblock"},behavioralEventEntityToken:t,text:n.KV})}),r(o.d)),a({element:"block"})},unblockAction:h};return(0,n.op)(u)}},57751:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(95024),o=i(50813),s=i(75455),r=i(18013),l=i(66961);const a=({addToast:e,behavioralEventEntityToken:t,createLocalApiErrorHandler:i,dismissUserFromConversation:a,mute:d,promotedContent:c,scribeAction:h,unmute:u,user:_})=>{const m=()=>{u(_.id_str,{promotedContent:c}).then((()=>{e({text:(0,o.X6)(_.screen_name),behavioralEventEntityToken:t})}),i(r.G)),h({element:"unmute"})},{Icon:p,behavioralEventContext:w,onClick:C,text:v}=(0,o.N1)(_,(()=>{d(_.id_str,{promotedContent:c}).then((()=>{a&&a({userId:_.id_str,feedbackKeys:["UnfollowEntity"]}),e({action:{label:n.d,onAction:m,behavioralEventViewType:"unmute_person"},behavioralEventEntityToken:t,text:(0,o.FK)(_.screen_name)})}),i(s.W)),h({element:"mute"})}),m);return{behavioralEventContext:w,Icon:p,text:v,onClick:C,shortcutKey:l.uq.mute}}},92187:(e,t,i)=>{i.d(t,{Z:()=>n});i(6886),i(2784);const n=(0,i(56499).Z)({loader:()=>Promise.all([i.e("shared~bundle.Conversation"),i.e("loader.TweetCurationActionMenu")]).then(i.bind(i,34582))})},75455:(e,t,i)=>{i.d(t,{W:()=>l});var n=i(79404),o=i.n(n),s=i(63140);const r=o().ee87e71c,l={[s.ZP.SelfMuteError]:{toast:{text:r}},showToast:!0}},18013:(e,t,i)=>{i.d(t,{G:()=>l});var n=i(79404),o=i.n(n),s=i(63140);const r=o().ed428a76,l={[s.ZP.NotMutingTargetUser]:{toast:{text:r}},showToast:!0}},79075:(e,t,i)=>{i.d(t,{Ci:()=>c,Dd:()=>a,NW:()=>s,Ur:()=>l,WX:()=>n,jF:()=>d,kl:()=>o,nQ:()=>r});const n="ArrowDown",o="ArrowUp",s="Enter",r="Escape",l="ESC",a="Tab",d="Delete",c="Backspace"},2422:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(47701);const o={[n.Z.CASHTAG]:void 0,[n.Z.EMOJI]:void 0,[n.Z.HASHTAG]:"hashtag_click",[n.Z.INTERACTIVE_CONVERSATION]:"highlight_click",[n.Z.INTERACTIVE_HIGHLIGHT]:"highlight_click",[n.Z.MEDIA]:void 0,[n.Z.MENTION]:"mention_click",[n.Z.TEXT]:void 0,[n.Z.URL]:"open_link"}},35555:(e,t,i)=>{i.d(t,{Yd:()=>h,MW:()=>_,oc:()=>u});i(6886);var n=i(46110),o=i(1231),s=i(53392),r=i(86538),l=i(57659);const a="rweb/pinnedTweets",d=s.dg(a,"PIN"),c=s.dg(a,"UNPIN"),h=e=>(t,i,{api:a,featureSwitches:c})=>s.AB(t,{params:{id:e},request:a.Tweets.pin})({actionTypes:d,context:"ACTION_PIN_TWEET",meta:{tweetId:e}},(s=>{const a=l.ZP.selectLoggedInUser(i());if(void 0===a)return;const d=a.id_str,h=a.pinned_tweet_ids_str&&a.pinned_tweet_ids_str[0];t(l.ZP.patchUser(d,{pinned_tweet_ids_str:[e]}));const u=(0,r.Z)(c,d,"default");return[...h?[u.removeTweets({[h]:!0}),u.injectEntry(o.Se({id:h,sortIndex:h}),{atTop:!1})]:[],u.removeTweets({[e]:!0}),u.injectEntry(o.Se({id:e,content:{socialContext:{generalContext:n.Iv}},sortIndex:"NOT_USED"}))]})),u=e=>(t,i,{api:n,featureSwitches:a})=>s.AB(t,{params:{id:e},request:n.Tweets.unpin})({actionTypes:c,context:"ACTION_UNPIN_TWEET",meta:{tweetId:e}},(n=>{const s=l.ZP.selectLoggedInUser(i());if(void 0===s)return;const d=s.id_str;return t(l.ZP.patchUser(d,{pinned_tweet_ids_str:[]})),[(0,r.Z)(a,d,"default").removeTweets({[e]:!0}),(0,r.Z)(a,d,"default").injectEntry(o.Se({id:e,sortIndex:e}),{atTop:!1})]})),_=(e,t)=>{const i=l.ZP.selectLoggedInUser(e);return!(null==i||!i.pinned_tweet_ids_str)&&i.pinned_tweet_ids_str[0]===t}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.Birdwatch~ondemand.inlineTombstoneHandler~ondemand.tweetHandler.376229c9.js.map