"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["ondemand.TrendHandler"],{1451:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(2784),a=r(44173),o=r(73186);r(6886);const s=(0,r(56499).Z)({loader:()=>r.e("loader.FeedbackSheet").then(r.bind(r,68767))});var c=r(60673),i=r(60007);const l=o.Z.create((e=>({curationControl:{marginStart:e.spaces.space20}}))),d=(0,c.Z)((e=>{const{analytics:t,feedbackItems:r,isDisplayedOnMedia:o}=e,c=n.useCallback((e=>r?n.createElement(s,{actionItems:r,onClose:e}):null),[r]),d=n.useCallback((()=>t.scribe({element:"caret",action:"click"})),[t]);return r&&r.length>0?n.createElement(a.Z,{onClick:d,renderActionMenu:c,style:l.curationControl,testID:i.Z.caret,withDarkBackground:o}):null}))},52327:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Y});var n=r(16742),a=r(76275),o=r(19744),s=r(7896),c=r(2784),i=r(25686),l=r(65188),d=r(36934),m=r(65098),p=r(74062),u=r(3613),g=r(41310),E=r(42460),h=r(73186),b=r(54484),T=r(56500);function Z({attachment:e,description:t,domainContext:r,groupedTrends:n=[],link:a,metaDescription:o,name:s,onClick:h,promotedContent:Z,promotedLabel:k,rank:C,renderQuoteTweet:I,testID:M,trendFeedbackMenu:v,withDarkerInteractiveBackground:w}){const D=c.useContext(m.ZP),_=(0,b.b)();return c.createElement(p.Z,{accessibilityLabelledBy:_,accessibilityRole:a?void 0:"article",link:a?D.withAnchorless(a):void 0,onPress:h,style:y.root,testID:M,withDarkerInteractiveBackground:w},c.createElement(i.Z,{nativeID:_,style:y.content},c.createElement(u.Z,null,C?c.createElement(d.ZP,{accessibilityHidden:!0,color:"gray700",size:"subtext2"},C):null,r?c.createElement(d.ZP,{color:"gray700",size:"subtext2"},r):null),c.createElement(d.ZP,{dir:T.Z.getTextDirection(s),style:y.name,weight:"bold",withHashflags:!0},s),t?c.createElement(d.ZP,{color:"gray700",style:y.description},t):null,I?c.createElement(i.Z,{style:y.quoteTweet},I({isCondensed:!0})):null,e?c.createElement(i.Z,{style:y.attachmentWrapper},e):null,n.length?c.createElement(E.Z,{groupedTrends:n}):null,o?c.createElement(d.ZP,{color:"gray700",dir:(A=o,(0,l.Z)(A)&&A.length?T.Z.getTextDirection(A,{fromEnd:!0}):void 0),size:"subtext2",style:y.metaDescription},o):null,Z?c.createElement(d.ZP,{color:"gray700",size:"subtext2",style:y.promotedIndicatorWrapper},c.createElement(g.Z,{label:k,promotedContent:Z})):null,v?c.createElement(i.Z,{style:y.trendFeedbackMenuWrapper},v):null));var A}const y=h.Z.create((e=>({root:{display:"flex",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},content:{flexGrow:1,position:"relative"},name:{marginTop:e.spaces.space2},description:{marginTop:e.spaces.space2},quoteTweet:{marginTop:e.spaces.space4},attachmentWrapper:{alignSelf:"stretch",marginBottom:e.spaces.space4,marginTop:e.spaces.space12},metaDescription:{marginTop:e.spaces.space4},promotedIndicatorWrapper:{marginTop:e.spaces.space4},trendFeedbackMenuWrapper:{position:"absolute",top:1,end:0}})));var k=r(51507),C=r(91584),I=r(23301),M=r(60673),v=r(58804),w=r(1451),D=r(81133),_=r(58955),A=r(49793);const{CardNames:f}=D.Z,x=Object.freeze({[f.LIVE_EVENT]:!0,[f.MOMENT]:!0,[f.SUMMARY]:!0,[f.SUMMARY_LARGE_IMAGE]:!0,[f.AUDIOSPACE]:!0}),S=(0,_.Z)([f.LIVE_EVENT,f.AUDIOSPACE]);const P={locationKey:"trend",tweetUserId:"TREND_CARD_NO_TWEET_USER_ID"},H=({card:e,withThirdPartyCards:t})=>{const r=c.useMemo((()=>({...e,name:e.name===f.SUMMARY_LARGE_IMAGE?f.SUMMARY:e.name})),[e]);return function({card:e,withThirdPartyCards:t}){return!(!x[e.name]||!S.has(e.name)&&!t)}({card:e,withThirdPartyCards:t})?c.createElement(A.Z,{card:r,cardContext:P,cardState:"secondary"}):null},L=c.memo(H);var R=r(23335),F=r(6800),z=r(92160),N=r(42030),U=r(15934);const W=(e,t)=>t.entry.content.associatedCardUrls||(0,F.o)(),O=(0,z.Z)().propsFromState((()=>({cards:N.Z.createManyHydratedSelector(W)}))).propsFromActions((({errorContext:e})=>({createLocalApiErrorHandler:(0,R.createLocalApiErrorHandlerWithContextFactory)(e),logTrend:U.dS}))),V="trend",B=({cards:e,createLocalApiErrorHandler:t,entry:{content:r},feedbackItems:n,logTrend:a,withThirdPartyCards:o})=>{const i=(0,M.z)(),l=k.eY(),{associatedTweetIds:d,description:m,groupedTrends:p,name:u,promotedMetadata:g,rank:E,url:h}=r,{domainContext:b,metaDescription:T}=r.trendMetadata,y=c.useCallback((e=>{null!=g&&g.promotedTrendId&&a({promoted_trend_id:g.promotedTrendId,impression_id:g.impressionString,event:e}).catch(t())}),[t,a,g]);c.useEffect((()=>{i.scribeAction("impression"),y(I.AJ.TREND_VIEW)}),[]);const D=c.useCallback((()=>{i.scribeAction("search"),y(I.AJ.TREND_CLICK)}),[i,y]),_=c.useMemo((()=>null!=e&&e.length?c.createElement(L,{card:e[0],withThirdPartyCards:o}):void 0),[e,o]),A=c.useMemo((()=>p?p.map((e=>({name:e.name,link:(0,C.s9)(e.url)}))):[]),[p]),f=c.useMemo((()=>h?(0,C.s9)(h):void 0),[h]),x=c.useMemo((()=>null!=g&&g.promotedTrendId?{disclosure_type:g.disclosureType,impression_id:g.promotedTrendId}:void 0),[g]),S=c.useMemo((()=>null!=d&&d.length?e=>c.createElement(v.Z,(0,s.Z)({},e,{tweetId:d[0]})):void 0),[d]),P=c.useMemo((()=>null!=n&&n.length?c.createElement(w.Z,{feedbackItems:n}):void 0),[n]);return c.createElement(Z,{attachment:_,description:m,domainContext:b,groupedTrends:A,link:f,metaDescription:x?void 0:T,name:u,onClick:D,promotedContent:x,promotedLabel:x?T:void 0,rank:E,renderQuoteTweet:S,testID:V,trendFeedbackMenu:P,withDarkerInteractiveBackground:l})},G=O(c.memo(B)),Y=e=>o.iH({isFocusable:(0,n.Z)(!0),component:G,getScribeDataItem:e=>{const{name:t,promotedMetadata:r}=e.content,{clientEventInfo:n}=e.itemMetadata;return a.Z.getTrendItem(t,r,n)}}).getHandler((()=>({...e})))},6800:(e,t,r)=>{r.d(t,{o:()=>a});var n=r(16742);const a=(0,n.Z)([]);(0,n.Z)({})},42460:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(2784),a=r(79404),o=r.n(a),s=r(36934),c=r(73186);const i=({groupedTrends:e,linkColor:t,textColor:r})=>{const a=l(e,t);return a?n.createElement(s.ZP,{color:r,numberOfLines:2,size:"subtext2",style:u.root},a):null};i.defaultProps={textColor:"gray700"};const l=(e,t)=>e.length>=2?m(e,t):1===e.length?d(e[0],t):null,d=(e,t)=>n.createElement(o().I18NFormatMessage,{$i18n:"fe7c309b"},p(e,t,!0)),m=(e,t)=>n.createElement(o().I18NFormatMessage,{$i18n:"ea753bf5"},p(e[0],t,!0),p(e[1],t)),p=(e,t,r=!1)=>n.createElement(s.ZP,{color:t,link:e.link,size:"subtext2",style:r&&u.paddingStart,withHashflags:!0},e.name),u=c.Z.create((e=>({root:{marginTop:e.spaces.space4},paddingStart:{paddingStart:e.spaces.space2}}))),g=i}}]);
