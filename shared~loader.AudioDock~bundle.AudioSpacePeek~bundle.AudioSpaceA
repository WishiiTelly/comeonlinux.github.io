"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.AudioDock~bundle.AudioSpacePeek~bundle.AudioSpaceAnalytics~bundle.AudioSpaceReport~bundle.Birdw"],{77217:(e,t,n)=>{var i=n(71600);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=(0,a.default)(e),i=0;i<n.length;i++)t.push(n[i].hashtag);return t};var a=i(n(35903));e.exports=t.default},268:(e,t,n)=>{n.d(t,{_:()=>s});var i=n(7896),a=n(2784),r=n(15499),o=n(48500);function s(e){const t=o.QH();return a.createElement(r.Z,(0,i.Z)({},e,{color:t}))}},7340:(e,t,n)=>{n.d(t,{YS:()=>p,ZY:()=>k,h:()=>l,mc:()=>u,w9:()=>d,xD:()=>w});n(6886),n(36728),n(85940);var i=n(2784),a=n(20514),r=n(48500),o=n(45481),s=n(13800);const c=new a.E({liveCaptions:[],pastCaptions:[],currentCaptionSequenceId:0}),l=c;function u(){l.reset()}function d(){const e=r.O5();return i.useEffect((()=>{if(e!==r.HP.On)return;const t=s.Z.subscribe(o.gK.ChatCaption,f),n=s.Z.subscribe(o.gK.ServerAudioTranscription,g);return function(){t(),n()}}),[e]),c.useSlice((e=>[...e.pastCaptions,...e.liveCaptions]))}function p(){return c.useSlice((e=>{const{liveCaptions:t,pastCaptions:n}=e;return 0!==t.length||0!==n.length}))}function m(e){c.setState((t=>{e.filter(Z).forEach((e=>{const n=e.body.body,i=e.data.sender.twitter_id,a=v(t,i);-1===a?y(t,e):function(e,t){const{longer:n,shorter:i}=e.length<t.length?{longer:t,shorter:e}:{longer:e,shorter:t};if(0===n.length)return 1;return(n.length-function(e="",t=""){const n=Array(t.length+1).fill(null).map((()=>Array(e.length+1).fill(null)));for(let t=0;t<=e.length;t+=1)n[0][t]=t;for(let e=0;e<=t.length;e+=1)n[e][0]=e;for(let i=1;i<=t.length;i+=1)for(let a=1;a<=e.length;a+=1){const r=e[a-1]===t[i-1]?0:1;n[i][a]=Math.min(n[i][a-1]+1,n[i-1][a]+1,n[i-1][a-1]+r)}return n[t.length][e.length]}(n,i))/parseFloat(n.length)}(n,t.liveCaptions[a].text)>.1?b(t,e,a):E(t,e,a)}))}))}function h(e){c.setState((t=>{e.filter(Z).forEach((e=>{const n=e.data.sender.twitter_id,i=v(t,n);e.body.final?function(e,t,n){const i=t.data.sender.twitter_id;let a;if(n>-1){const[t]=e.liveCaptions.splice(n,1);a=t.sequenceId}else e.currentCaptionSequenceId+=1,a=e.currentCaptionSequenceId;const r=k(t,{final:!0,sequenceId:a});e.pastCaptions=[...e.pastCaptions,r],S(e,i,t.timestamp)}(t,e,i):-1===i?y(t,e):!function(e,t,n){let i=!1;const a=e.liveCaptions[n].text,r=t.body.body;if(!t.body.final&&r.length>0&&a.length>0){i=r.length/a.length<.2}return i}(t,e,i)?b(t,e,i):E(t,e,i)}))}))}function f(e){return m(e),{clearHeapForMessageType:!0}}function g(e){return h(e),{clearHeapForMessageType:!0}}function y(e,t){const n=t.data.sender.twitter_id;e.currentCaptionSequenceId+=1;const i=k(t,{sequenceId:e.currentCaptionSequenceId});return e.liveCaptions.push(i),S(e,n,t.timestamp),i}function b(e,t,n){const[i]=e.liveCaptions.splice(n,1),{sequenceId:a,timestamp:r}=i,o=k(t,{sequenceId:a,timestamp:r});return e.liveCaptions.push(o),o}function S(e,t,n){e.liveCaptions.filter((e=>!(e.speaker.id_str===t)&&n-e.timestamp>250)).forEach((t=>{const n=e.liveCaptions.findIndex((e=>e.sequenceId===t.sequenceId)),[i]=e.liveCaptions.splice(n,1);e.pastCaptions.push(i)}))}function E(e,t,n){const i=t.data.sender.twitter_id,[a]=e.liveCaptions.splice(n,1);a.final=!0,e.pastCaptions=[...e.pastCaptions,a];const r=y(e,t);return S(e,i,t.timestamp),r}function v(e,t){return e.liveCaptions.findIndex((e=>e.speaker.id_str===t))}function Z(e){const{body:{body:t}}=e;return!!t&&t.length>0}function w(e){const{body:{body:t},type:n}=e;return o.gK.Chat===n&&t.startsWith("[cc]")}function k(e,t){const{body:{final:n},data:{sender:i,sender:{twitter_id:a}},timestamp:r}=e;let{body:{body:o}}=e;const{sequenceId:s}=t;return o=o.replace(/^\[cc\]\s?/,""),{final:n,sequenceId:s||r,speaker:{id_str:a,name:i.display_name,profile_image_url_https:i.profile_image_url,screen_name:i.username},text:o,timestamp:r,...t}}},2084:(e,t,n)=>{n.d(t,{$T:()=>h,O7:()=>g,gJ:()=>m,h4:()=>f,mc:()=>p});var i=n(35193),a=n(48500),r=n(7340),o=n(45481),s=n(13800),c=n(46331),l=n(23057),u=n(1921);let d=[];function p(){d=[]}function m(e,t){return d.filter((n=>n.type===o.gK.ServerAudioTranscription&&n.body.final&&n.body.ntpTimeInSeconds>=e&&n.body.ntpTimeInSeconds<=t&&Boolean(n.body.body))).map((e=>r.ZY(e,{})))}function h(...e){e.forEach((e=>{const t=(0,s.y)(d,(t=>e.ntpTimeInSeconds-t.ntpTimeInSeconds));d.splice(t+1,0,e)}))}function f(){var e;const t=null==(e=l.Z.getCurrentTrack())?void 0:e.id3NtpTime;t&&y(t)}const g=(0,i.Z)((e=>{const t=a.h.getState().startTimeMs;if(!t)return;const n=t+e;y((0,c.c)(n))}),100);function y(e){s.Z.reset(),r.mc(),u.h.reset();const t=(0,s.y)(d,(t=>e-t.ntpTimeInSeconds));d.slice(t).forEach((e=>s.Z.publish(e))),s.Z.start()}},45481:(e,t,n)=>{n.d(t,{J:()=>v,_M:()=>x,bI:()=>w,gK:()=>C,lW:()=>g,tJ:()=>m,zP:()=>f});n(71372),n(36728),n(6886),n(85940);var i=n(68811),a=n.n(i),r=n(75845),o=n(72599),s=n(48500),c=n(7340),l=n(2084),u=n(13800),d=n(46331),p=n(23057);const m={CHATMAN_WEB_SOCKET:"/chatapi/v1/chatnow",CHATMAN_REPLAY:"/chatapi/v1/history"};let h=null;function f(){var e;null==(e=h)||e.disconnect(),h=null,u.Z.reset(),c.mc()}function g(e){var t,n;return h&&h.socket||(0,o.ZP)(new Error("Unexpected exception was caught. Verify that chatmanClient and socket are defined.")),null==(t=h)||null==(n=t.socket)?void 0:n.send(e)}p.Z.store.subscribe((e=>e.chatToken),(e=>{e&&function(e){f(),new y(e).connect().then((e=>{u.Z.start(),h=e}))}(e)}));class y{constructor(e){this.session=null,this.socket=null,this.socketState=Z.Uninitialized,this.handleOnOpen=()=>{this.authAndJoinRoom(),this.socketState=Z.Connected},this.handleOnMessage=e=>{if("string"==typeof e.data){const t=JSON.parse(e.data);if(t.kind===w.Chat){const{payload:e,signature:n}=t,i=new v(e,{signature:n});u.Z.publish(i)}}},this.chatToken=e}connect(){return new Promise(((e,t)=>{r.w.proxsee.accessChat(this.chatToken).then((t=>{this.session=t;const{isReplay:n}=s.h.getState();return n?this.loadChatHistory():this.openSocket(),e(this)}),(e=>t(e))).catch((e=>{(0,o.ZP)(e)}))}))}disconnect(){this.closeSocket(),this.session=null}openSocket(){if(this.session){const e=this.session.endpoint.replace("https://","wss://")+m.CHATMAN_WEB_SOCKET;this.closeSocket();try{this.socketState=Z.Opening,this.socket=new WebSocket(e),this.socket.onopen=this.handleOnOpen,this.socket.onmessage=this.handleOnMessage}catch(e){(0,o.ZP)(e),this.socketState=Z.Error}}}closeSocket(){this.socket&&(this.socket.onopen=()=>{},this.socket.onmessage=()=>{},this.socket.onclose=()=>{},this.socket.close()),this.socket=null,this.socketState=Z.Closed}authAndJoinRoom(){if(this.session){var e,t;const{access_token:n,room_id:i}=this.session;null==(e=this.socket)||e.send(E.build(n).toString()),null==(t=this.socket)||t.send(S.buildJoin(i).toString())}}loadChatHistory(){const{access_token:e,endpoint:t}=this.session||{};if(!e||!t)return Promise.resolve([]);try{return new Promise(((n,i)=>{const a=[];let o="";const s=i=>{if(i){const{cursor:e,messages:t}=i;if(!e)return l.h4(),n(a);o=e,this.handleHistoryMessages(t),a.push(...t)}r.w.proxsee.getChatHistory({access_token:e,host:t,path:m.CHATMAN_REPLAY,cursor:o}).then(s)};s()}))}catch(e){(0,o.ZP)(e)}}handleHistoryMessages(e){const t=[];e.forEach((e=>{if(e.kind===w.Chat){const{payload:n,signature:i}=e;t.push(new v(n,{signature:i}))}})),l.$T(...t)}}class b{constructor(e,t){this.payload=e,this.kind=t}toString(){const e=this.payload,t=this.kind;return JSON.stringify({payload:e,kind:t})}}class S extends b{constructor(e){super(e,w.Control),this.data={},this.data=JSON.parse(e)}static buildJoin(e){return new S(JSON.stringify({body:JSON.stringify({room:e}),kind:k.Join}))}}class E extends b{constructor(e){super(e,w.Auth)}static build(e){return new E(JSON.stringify({access_token:e}))}}class v extends b{constructor(e,t={}){var n;super(e,w.Chat),this.data={},this.body={};const{currentNtpTimeInSeconds:i,isReplay:a,signature:r}=t;this.data=JSON.parse(e),this.body=(null==(n=this.data)?void 0:n.body)&&JSON.parse(this.data.body)||{},this.setUuid(r),this.setTime(i,a),this.type=this.body.type,this.ntpTimeInSeconds=this.body.ntpTimeInSeconds,this.timestamp=this.body.timestamp}setUuid(e){this.body.uuid=e||this.body.uuid||a().v4()}setTime(e=0,t=!1){const n=t&&!!this.body.ntpForBroadcasterFrame?this.body.ntpForBroadcasterFrame:this.body.ntpForLiveFrame||e,i=parseFloat(n/4294967296);this.body.ntpTimeInSeconds=i,this.body.timestamp=(0,d.E)(i).getTime()}isEqual(e){return!(!this.body.uuid||!e.body.uuid)&&this.body.uuid===e.body.uuid}}const Z=Object.freeze({Uninitialized:"UNINITIALIZED",Opening:"OPENING",Connected:"CONNECTED",Error:"ERROR",Closed:"CLOSED"}),w=Object.freeze({Chat:1,Control:2,Auth:3}),k=Object.freeze({Join:1,Leave:2,Roster:3,Presence:4,Ban:8}),C=Object.freeze({Unknown:0,Chat:1,Heart:2,Join:3,Location:4,BroadcastEnded:5,InviteFollowers:6,BroadcastStartedLocally:7,BroadcasterUploadedReplay:8,Timestamp:9,LocalPromptToFollowBroadcaster:10,LocalPromptToShareBroadcast:11,BroadcasterBlockedViewer:12,SubscriberSharedOnTwitter:13,SubscriberBlockedViewer:14,SubscriberSharedOnFacebook:15,Screenshot:16,Sentence:29,Sparkle:36,FirstSparkle:37,CommentMuted:39,HydraControlMessage:40,CommentMutedByModerator:41,CommentUnmutedByModerator:42,LocalShouldReportGuestUser:43,UserIsTyping:44,ServerAudioTranscription:45,ChatCaption:201}),x=Object.freeze({RemoveParticipant:15})},13800:(e,t,n)=>{n.d(t,{Z:()=>c,y:()=>s});n(6886);var i=n(20514),a=n(7340),r=n(45481),o=n(23057);function s(e,t){let n,i=0,a=e.length-1,r=-1,o=-1;if(i>a)return-1;for(;i<=a;){if(r=Math.floor((i+a)/2),o=t(e[r]),void 0!==n&&0!==o)return n;o>=0?i=r+1:a=r-1,0===o&&(n=r)}return void 0!==n||o>0?r:r-1}const c=new function(){let e,t=!1,n=0,c=0,l=0,u=0;const d={},p=new i.E({});function m(){t=!1,clearTimeout(e)}function h(e,t){if(Array.isArray(d[e])){const n=s(d[e],(e=>t.ntpTimeInSeconds-e.ntpTimeInSeconds));d[e].splice(n+1,0,t)}else d[e]=[t]}function f(){!function(){function e(){return Object.keys(d).filter((e=>d[e]&&d[e].length>0)).map((e=>Number(e))).map((e=>e))}p.setState((t=>{c===n?(u+=1,l=n+100*u/1e3):(u=0,l=c=n),e().forEach((e=>{const n=d[e];if(!n||0===n.length)return;const i=t[e]||[],a=s(n,(e=>l-e.ntpTimeInSeconds));if(a<0)return;const r=n.splice(0,a+1);t[e]=[...i,...r]}))}))}(),t&&(e=setTimeout(f,100))}return o.Z.store.subscribe((e=>{var t;const n=e.state;return null==n||null==(t=n.tracks[n.currentTrackId])?void 0:t.id3NtpTime}),(e=>{e&&(n=e)})),{publish:function(e){setTimeout((()=>{!function(e){switch(e.type){case r.gK.Chat:(0,a.xD)(e)&&h(r.gK.ChatCaption,e);break;case r.gK.ServerAudioTranscription:case r.gK.Heart:case r.gK.HydraControlMessage:h(e.type,e)}}(e)}))},reset:function(){m();for(const e in d)delete d[e];n=0,c=0,l=0,u=0,p.reset()},setCurrentNtpTimeSeconds:function(e){n=e},stacks:d,start:function(){t=!0,f()},stop:m,store:p,subscribe:function(e,t){return p.subscribe((t=>t[e]||[]),(n=>{if(n&&n.length>0){t(n).clearHeapForMessageType&&(i=e,p.setState((e=>{e[i]=[]})))}var i}))}}}},46331:(e,t,n)=>{n.d(t,{E:()=>r,c:()=>o});const i=new Date("Jan 01 1900 GMT").getTime(),a=new Date("Jan 01 1970 GMT").getTime()-i,r=e=>new Date(1e3*e-a),o=e=>(e+a)/1e3},43406:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(20514),a=n(46331);const r=function(e){const t=new i.E(Object.assign({},s,e));return{store:t,setPlayerApi:function(e,n){t.setState((t=>{t.id=e,t.api=n}))},setPlayerState:function(e,n,i){var a;let r="SPEAKERS";const s={host:{audioLevel:0}};if(i){s.host.audioLevel=o(i.audioLevels.host);const e=Object.keys(i.guests);for(let t=0;t<e.length;t++){const n=e[t],a=i.guests[n],c=a.UserId,l=o(i.audioLevels.guests[n]);s[c]={guest:a,audioLevel:l},r+=`-${c}`}}const c={signature:r,lookup:s},l=(null==(a=n.tracks[n.currentTrackId])?void 0:a.chatToken)||null;t.setState((t=>{t.id=e,t.state=n,t.guests=c,t.chatToken=l}))},getCurrentTime:function(e){const t=n();let i,r;t&&t.id3NtpTime&&e&&(i=Math.floor(t.id3NtpTime),r=Math.floor(((0,a.E)(i)-e)/1e3));return{ntp_timestamp:i,timecode:r}},getCurrentTrack:n,useCurrentTrack:function(){return t.useSlice((({state:e})=>n(e)))},useIsMuted:function(){return t.useSlice((({state:e})=>Boolean(null==e?void 0:e.isMuted)))},useAudioLevel:function(e){return t.useSlice((t=>{const n=e.isHost?"host":e.periscopeUserId;if(!n)return 0;const i=t.guests.lookup[n],a=null==i?void 0:i.audioLevel;return"number"==typeof a?a:0}))},useGuestsLookup:function(){return t.useSlice((e=>e.guests.lookup))},useActiveSpeakersLookup:function(){const e=t.useSlice((e=>e.guests.lookup),{equalityFn:(e,t,n,i)=>n.guests.signature===i.guests.signature});return{get:t=>e[t]}},usePlayerApi:function(){return t.useSlice((({api:e})=>e))},usePlayerState:function(){return t.useSlice((({state:e})=>e))},useIsSeeking:function(){return t.useSlice((({state:e})=>Boolean(null==e?void 0:e.isSeeking)))},usePlaybackRate:function(){return t.useSlice((({state:e})=>(null==e?void 0:e.playbackRate)||1))},useIsPlaying:function(){return t.useSlice((({state:e})=>Boolean(null==e?void 0:e.isPlaying)))},useCurrentTrackDurationMs:function(){return t.useSlice((({state:e})=>{var t;return null==(t=n(e))?void 0:t.durationMs}))},useCurrentTrackTimeMs:function(){return t.useSlice((({state:e})=>{var t;return null==(t=n(e))?void 0:t.currentTimeMs}))}};function n(e){var n;let i=e;return i||(i=t.getState().state),null==(n=i)?void 0:n.tracks[i.currentTrackId]}};function o(e){return e/100}const s={id:null,api:null,state:null,guests:{lookup:{},signature:""},chatToken:null}},23057:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(43406).Z)},1921:(e,t,n)=>{n.d(t,{FN:()=>p,Gf:()=>u,LG:()=>d,h:()=>l});n(6886),n(36728);var i=n(2784),a=n(20514),r=n(20032),o=n(45481),s=n(13800);const c=new a.E({}),l=c;function u(e){return c.useSlice((t=>e?t[e]:null))}function d(e){c.setState((t=>{var n;null==(n=t[e.participantId])||n.shift()}))}function p(){const{featureSwitches:e}=i.useContext(r.rC),t=e.isTrue("voice_rooms_expanded_dock_reactions");i.useEffect((()=>{if(t){const e=s.Z.subscribe(o.gK.Heart,m);return function(){e()}}}),[t])}function m(e){return c.setState((t=>{for(const i of e){var n;const{reaction:e,sender:a}=h(i);t[a.participantId]||(t[a.participantId]=[]),null==(n=t[a.participantId])||n.push(e)}})),{clearHeapForMessageType:!0}}function h(e){const t=e.data.sender.user_id;return{reaction:{emoji:e.body.body,type:e.body.type,id:e.body.uuid,participantId:t},sender:{participantId:t,twitterId:e.data.sender.twitter_id}}}},91899:(e,t,n)=>{n.d(t,{W:()=>i});n(2784);const i=(0,n(72759).Z)({space:!0,voiceTweet:!0,voiceMessage:!0})},16357:(e,t,n)=>{n.d(t,{Y:()=>W});var i={};n.r(i),n.d(i,{buildDockConfig:()=>O,buildPlayerProps:()=>H});var a={};n.r(a),n.d(a,{buildDockConfig:()=>F,buildPlayerProps:()=>V});n(6886),n(71372);var r=n(2784),o=n(24142),s=n(20032),c=n(95722),l=n(45481),u=n(7333),d=n(7896),p=n(55298),m=n(52674),h=n(15830),f=(n(36728),n(77953)),g=n(7267),y=n(79404),b=n.n(y),S=n(99629),E=n(94668),v=n(13800),Z=n(23057),w=n(27821),k=n(95306),C=n(57100),x=n(48500);function P({audioSpaceId:e,isSideNavLayout:t}){return function(e){const{featureSwitches:t}=r.useContext(s.rC),n=(0,g.k6)(),i=(0,m.$)(e),a=x.Qe(),o=r.useRef({didExit:!1,isReplay:!1});r.useEffect((()=>{o.current.didExit=!1,o.current.isReplay=x.h.getState().isReplay}),[e]),r.useEffect((()=>{if(!o.current.didExit){if(!o.current.isReplay&&!i.utils.is.Running){if(o.current.didExit=!0,t.isTrue("voice_rooms_end_screen_participants")){const t=(0,E.e)(e);n.push(t)}a("exit")}}}),[a,i.utils.is.Running,e,t,n])}(e),function(e){const{space:t,utils:n}=(0,m.$)(e),i=Z.Z.useCurrentTrackDurationMs(),a=Z.Z.usePlayerApi(),o=null==t?void 0:t.replay_start_time,{scrubToFraction:s}=a||{},c=x.gy();r.useEffect((()=>Z.Z.store.subscribe((({state:e})=>null==e?void 0:e.isPlaying),(e=>{e?v.Z.start():v.Z.stop()}))),[c]),r.useEffect((()=>{const e=Z.Z.getCurrentTrack();if(Boolean(e)&&n.is.replayable&&n.is.joined&&s&&i&&o){s(1e3*o/i)}}),[s,n.is.replayable,n.is.joined,o,i])}(e),function(e){const t=x.Cc(),n=x.Qe(),{key:i,pathname:a}=(0,g.TH)(),o=r.useRef({key:i,pathname:a});r.useEffect((()=>{if(!e){if(o.current.key!==i){I.spaceUrl.test(o.current.pathname)||"collapse"===t||n("collapse")}o.current.key=i,o.current.pathname=a}}),[i,a,e,n,t])}(t),function(){const{loggedInUserId:e}=r.useContext(s.rC),t=x.Qe(),n=(0,f.I0)();r.useEffect((()=>{function i(i){for(const r of i){switch(r.body.guestBroadcastingEvent){case l._M.RemoveParticipant:var a;((null==(a=r.body)?void 0:a.twitter_participant_ids)||[]).includes(e)&&(t("exit"),n((0,S.fz)({text:_.removedFromSpace})));break}}return{clearHeapForMessageType:!0}}if(e)return v.Z.subscribe(l.gK.HydraControlMessage,i)}),[e,t,n])}(),function(e){const{openSheet:t}=x.VE(),n=x.Cc()===x.EJ.full,i=C.Sd(),a=k.Sd(e),o=w.Sd(e),s=r.useRef({openSheet:t});let c;s.current.openSheet=t,n&&(i.canShow?c=i.sheetId:a.canShow?c=a.sheetId:o.canShow&&(c=o.sheetId));r.useEffect((()=>{let e;return c&&(e=setTimeout((()=>{s.current.openSheet(c)}),2e3)),()=>clearTimeout(e)}),[c])}(e),null}const I={spaceUrl:/i\/spaces\/.+/},_={removedFromSpace:b().jd859c9c};var T=n(27063);function R(e){const t=e.audioSpaceId,{space:n,utils:i}=(0,m.$)(t),a=i.title(),o=(null==n?void 0:n.participants.total)||0;return r.createElement(p.Z,{activeSpeakers:r.createElement(h.UU,{audioSpaceId:t}),isWide:e.isSideNavLayout,onDockPress:()=>{e.onToggleCollapsed(),i.scribe(":audiospace::dock::click")},onRequestClose:()=>{e.onRequestClose(),i.scribe(":audiospace::dock:close:click")},title:a,totalParticipants:o,wideDockMaxWidth:e.width})}function L(e){const{featureSwitches:t}=r.useContext(s.rC),[n,i]=r.useState(!1);const a={...e,onToggleCollapsed:function(){i(M)}},o=t.isTrue("voice_rooms_expanded_dock")&&!n;return r.createElement(r.Fragment,null,r.createElement(R,a),o?r.createElement(T.Do,a):null,r.createElement(P,{audioSpaceId:e.audioSpaceId,isSideNavLayout:e.isSideNavLayout}))}function M(e){return!e}function z(e){const[t]=e.activeItem;return t?{activeItem:t}:null}function H({commonApi:e,context:t}){const n=z(t);if(!n)return{media:null};const{activeItem:i}=n;return{broadcastId:i.id,disablePlaybackCoordination:!0,mediaKey:i.mediaKey,isLive:i.isLive,onPlayerApi:function(e){Z.Z.setPlayerApi(i.id,e)},onPlayerState:function(e,t){Z.Z.setPlayerState(i.id,e,t)}}}function O({audioDockProps:e,commonApi:t,context:n,history:i}){const a=z(n);if(!a)return null;const{activeItem:o}=a;return r.createElement(L,(0,d.Z)({key:o.id,audioSpaceId:o.id,onRequestClose:function(){t.clear()}},e))}n(85940);var B=n(32580),A=n(84506),D=n(17500);function N(e){var t;const[n]=e.activeItem,i=e.hydrateVoiceTweetTrack(n.conversationId),a=(0,D.Z)(i.tweets,(e=>e.id_str===n.id)),r=i.tweets[a];if(!r)return null;const[o]=(null==(t=r.extended_entities)?void 0:t.media)||[],s="photo"!==(null==o?void 0:o.type)?o:null;return{activeItem:n,track:i,media:s,activeIndex:a,activeTweet:r}}function V({commonApi:e,context:t}){const n=N(t);if(!n)return{media:null};const{activeIndex:i,activeItem:a,media:r,track:o}=n,s=o.tweets[i+1];return{media:r,requestedTimecode:a.startTimeMs,onEnded:()=>{s&&e.load.voiceTweet(s)}}}function F({audioDockProps:e,commonApi:t,context:n,history:i}){const[a]=n.playerApi,[o]=n.playerState,s=t.currentTrack;if(!o||!a||!s)return null;const c=N(n);if(!c)return null;const{activeIndex:l,activeTweet:u,media:d,track:p}=c,{isMuted:m,isPlaying:h,isSeeking:f,volume:g}=o;let y=0,b=0;j(p.tweets,(({endMs:e,i:t})=>{t===l-1&&(b=e),y=e}));const S=d&&d.id_str===s.contentId&&s.currentTimeMs||0,E=b+S,v=null==d?void 0:d.url,Z=u.full_text,w=v&&Z?Z.replace(v,"").trim():Z,k=u.user;return r.createElement(B.ZP,{isWide:e.isSideNavLayout,width:e.width,isMuted:m,isPlaying:h,isSeeking:f,progressMs:E,durationMs:y,volume:100*g,title:w,user:k,onRequestClose:t.clear,onTogglePlayback:t.togglePlayback,onDockPress:()=>i.push(u.permalink),onMuteToggle:t.toggleMute,onVolumeChange:t.setVolume,onSeek:function(e){j(p.tweets,(({durationMs:n,endMs:i,i:r,startMs:o,tweet:s})=>{if(e>=o&&e<=i){const i=e-o;if(r===l){const e=i/n;a.scrubToFraction(e)}else t.load.voiceTweet(s,i);return!0}}))}})}function j(e,t){let n=0;for(let i=0;i<e.length;i++){const a=e[i],r=A.Z.getVoiceTweetDuration(a),o=n+r;if(t({i,tweet:a,startMs:n,endMs:o,durationMs:r}))break;n=o}}const $={default:{buildDockConfig:u.Z},space:i,voiceTweet:a};var U=n(91899);function W(){const e=r.useRef({}),{history:t}=r.useContext(s.rC),n=r.useContext(c.H),[i,a]=n.activeItem,[u,d]=n.playerApi,[p,m]=n.playerState,[h,f]=n.guestsState,g=q(p);e.current.playerApi=u,e.current.playerState=p;const y=r.useMemo((()=>function(){l.zP(),a(null)}),[a]),b=r.useMemo((()=>function(){const{playerApi:t,playerState:n}=e.current;if(t&&n){(n.isPlaying?t.pause:t.play)()}}),[]),S=r.useMemo((()=>function(){const{playerApi:t,playerState:n}=e.current;if(t&&n){(n.isMuted?t.unmute:t.mute)()}}),[]),E=r.useMemo((()=>function(t){const{playerApi:n}=e.current;n&&n.setVolume(t/100)}),[]),v={space:function(e,t,n){a({type:U.W.space,id:e,mediaKey:t,isLive:n})},voiceTweet:function(e,t){a({type:U.W.voiceTweet,id:e.id_str,conversationId:o.ge(e),startTimeMs:t})}},Z={load:v,clear:y,currentTrack:g,toggleMute:S,togglePlayback:b,setVolume:E};return{activeItem:i,load:v,clear:y,player:{api:u,state:p,guests:h,currentTrack:g,toggleMute:S,togglePlayback:b},config:{dock:function(e){if(!i)return $.default.buildDockConfig();switch(i.type){case U.W.space:return $.space.buildDockConfig({history:t,context:n,commonApi:Z,audioDockProps:e});case U.W.voiceTweet:return $.voiceTweet.buildDockConfig({history:t,context:n,commonApi:Z,audioDockProps:e});default:return $.default.buildDockConfig()}},player:function(){const e={media:null,onPlayerApi:function(e){d(e)},onPlayerState:function(e,t){m(e),t&&f(t)}};if(!i)return e;let t;switch(i.type){case U.W.space:t=$.space.buildPlayerProps({context:n,commonApi:Z});break;case U.W.voiceTweet:t=$.voiceTweet.buildPlayerProps({context:n,commonApi:Z});break;default:throw new Error(`[AudioContext:Player] unhandled active item type [${i.type}]`)}return{...e,...t}}},audioSpaces:{cache:n.audioSpaceCache}}}const q=e=>e&&e.tracks[e.currentTrackId]},52674:(e,t,n)=>{n.d(t,{$:()=>w});n(6886),n(71372);var i=n(2784),a=n(1894),r=n(97813),o=n(79404),s=n.n(o),c=n(77217),l=n.n(c),u=n(15579);function d(e){return(t,n)=>{const i=e.analytics.contextualScribeNamespace,a={...e.details,scribe_context_namespace:i,...n},[,r,o,s,c,l]=t.split(":"),d={page:r,section:o,component:s,element:c,action:l},p=Object.keys(d).reduce(((e,t)=>{const n=d[t];return n&&"*"!==n&&(e[t]=n),e}),{}),m={...p,action:p.action,data:{items:[{item_type:u.Z.ItemType.AUDIO_SPACE,audio_space_details:a}]}};e.analytics.scribe(m)}}var p=n(75845),m=n(72599),h=n(60673),f=n(37796),g=n(67935),y=n(23803),b=n(48500),S=n(2084),E=n(23057),v=n(91899),Z=n(16357);function w(e){var t,n,o,s,c;const u=(0,h.z)(),w=(0,f.v)(g.Qb),P=function(e){const{audioContext:t,fetchAudioSpace:n,getAudioSpace:i,reportSpaceFor:a,subscribeToScheduledSpace:r,unsubscribeFromScheduledSpace:o}=function(){const e=(0,Z.Y)(),[t,n]=e.audioSpaces.cache;return{getAudioSpace:i,fetchAudioSpace:o,subscribeToScheduledSpace:a,unsubscribeFromScheduledSpace:r,reportSpaceFor:p.w.proxsee.reportSpaceFor,audioContext:e};function i(e){const n=t[e];return n||k(y.ZP.NONE)}function a(e){return p.w.subscribeToScheduledSpace(e).then((()=>o(e)))}function r(e){return p.w.unsubscribeFromScheduledSpace(e).then((()=>o(e)))}function o(e,t){const a=i(e);if("number"==typeof t&&a.status!==y.ZP.NONE){if(!((Date.now()-a.time)/1e3>t))return Promise.resolve(a)}if(0===e.trim().length)return Promise.resolve(a);function r(t,i={}){const a=k(t,i);n((t=>{const n=Object.assign({},t[e],a);return t[e]=n,Object.assign({},t)}))}if(!p.w.initialized())return Promise.reject(new Error("[useAudioSpaceMetadata] AudioModule not initialized"));let o;return r(y.ZP.LOADING),p.w.audioSpace(e).catch((e=>{o=e})).then((e=>{e?r(y.ZP.LOADED,{data:e,error:void 0}):o&&r(y.ZP.FAILED,{error:o})}))}}();function s(t){return n(e,t)}function c(){return i(e)}function l(){return r(e)}function u(){return o(e)}function d(){var t;const n={},i=null==(t=c().data)?void 0:t.started_at;return Object.keys(a).forEach((t=>{n[t]=()=>{const n={broadcast_id:e,...E.Z.getCurrentTime(i)};return a[t](n)}})),n}return{fetch:s,get:c,subscribe:l,unsubscribe:u,audioContext:t,report:d()}}(e),{audioContext:I,report:_,subscribe:T,unsubscribe:R}=P,L=P.get(),M=L.data,z=null==M?void 0:M.state;const H={NotStarted:z===r.Z.SpaceState.NotStarted,PrePublished:z===r.Z.SpaceState.PrePublished,Running:z===r.Z.SpaceState.Running,TimedOut:z===r.Z.SpaceState.TimedOut,Ended:z===r.Z.SpaceState.Ended,Canceled:z===r.Z.SpaceState.Canceled,loaded:!!M||L.status===y.ZP.FAILED,loading:L.status===y.ZP.LOADING,error:L.status===y.ZP.FAILED&&L.error,joined:(null==(t=I.activeItem)?void 0:t.type)===v.W.space&&(null==(n=I.activeItem)?void 0:n.id)===e,recording:!1,joinable:!0,replayable:!1,clippable:Boolean(null==M?void 0:M.is_space_available_for_clipping),superFollowersOnly:!1};null!=M&&M.disallow_join&&(H.joinable=!1),null!=M&&M.is_space_available_for_replay&&(H.Running?H.recording=!0:(H.Ended||H.TimedOut)&&(H.replayable=!0));let O,B="live_not_recording";null!=M&&M.is_space_available_for_replay&&(B=H.Running?"live_recording":"replay"),(null==M?void 0:M.narrow_cast_space_type)===r.Z.AudienceEnum.superFollowersOnly?(H.superFollowersOnly=!0,O="super_followers"):(null==M?void 0:M.narrow_cast_space_type)===r.Z.AudienceEnum.employeesOnly?O="employees":null!=M&&M.community&&(O="community");const A=new d({analytics:u,details:{broadcast_id:e,host_id:null==M||null==(o=M.host)||null==(s=o.user)?void 0:s.rest_id,host_periscope_id:null==M||null==(c=M.host)?void 0:c.periscope_user_id,audio_space_start_type:null!=M&&M.scheduled_start?"scheduled":"adhoc",audio_space_narrow_cast_type:O,audio_space_recording_type:B,state:z,is_logged_in:w}});function D(){var e,t;const n=null==M||null==(e=M.title)?void 0:e.trim(),i=null==M||null==(t=M.host)?void 0:t.display_name;return n||(i?x.title({name:i}):x.titleFallback)}const N={is:H,title:D,hashtags:function(){return l()(D()).map((e=>`#${e}`))},scribe:A,state:function(){const{StateEnum:e}=r.Z;let t;return H.loaded&&H.error?t=e.unavailable:H.replayable?t=e.replay:H.Ended||H.TimedOut?t=e.ended:H.Running?t=e.live:H.NotStarted||H.PrePublished?t=e.scheduled:H.Canceled&&(t=e.canceled),t},getTunedInCount:function(){const{total_live_listeners:e,total_replay_watched:t}=M||{};return(null!=e?e:0)+(null!=t?t:0)},reportError:function(e,t){const n=Object.assign({},{space:void 0},t);if(M){const e=JSON.parse(JSON.stringify(M));null==e||delete e.participants.listeners,n.space=e}(0,m.ZP)(e,{extra:n})}},V=p.w.initialized(),F=i.useRef({});F.current.utils=N,F.current.audioSpaceMetadata=P,i.useEffect((()=>{let e;const t=C;return V&&function n(){const i=F.current.utils.is.loaded,a=F.current.utils.is.Running;i&&!a||(F.current.audioSpaceMetadata.fetch(t),e=setTimeout(n,1e3*t))}(),function(){clearTimeout(e)}}),[V,e,z]);const j={subscribe:T,unsubscribe:R,report:_,join:function(t){const n=M;n&&p.w.proxsee.login().then((()=>{const i=n.media_key;if(!N.is.joinable)return;const r=N.is.Running||N.is.replayable;i&&r&&(S.mc(),b.h.reset(),N.is.replayable?(b.tU(n.started_at),N.scribe(":audiospace:replay:recording:play:click",{origin:t})):b.JG(),N.is.superFollowersOnly?b.Nu():b.i7(),I.load.space(e,i,N.is.Running),N.scribe(":audiospace:event:join:listener:success",{origin:t}),t===a.Y.spacebar&&N.scribe(":*:*:*:audiospace_fleet:join",{origin:t}))}))}};return{space:M,audioContext:I,utils:N,handlers:j}}function k(e,t={}){const n={status:e,time:Date.now()};return t.data&&(n.data=t.data),t.error&&(n.error=t.error),n}const C=15,x={title:s().cfbea177,titleFallback:s().ab4fc8bc}},71197:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(2784),a=n(20032),r=n(52674);function o(e){const{utils:t}=(0,r.$)(e),{featureSwitches:n}=i.useContext(a.rC),o=n.getNumberValue("spaces_2022_h2_clipping_duration_seconds"),s=n.isTrue("spaces_2022_h2_clipping");return{isCreationEnabled:t.is.clippable&&s,maxDurationMs:1e3*o,maxDurationSeconds:o}}},28449:(e,t,n)=>{n.d(t,{O:()=>l});n(36728);var i=n(7267),a=n(52674),r=n(20032),o=n(36840),s=n(60673),c=n(23057);function l(e,t,n){const l=(0,i.k6)(),{contextualScribeNamespace:u}=(0,s.z)(),{featureSwitches:d}=(0,r.QZ)(),{space:p}=(0,a.$)(e),m=o.C2.Space,h=(0,o.Yw)(d,m);return()=>{var e,i;if(!h)return t();let a;a=n?Math.floor(n/1e3):c.Z.getCurrentTime(null==p?void 0:p.started_at).timecode;const r=(0,o.j_)({clientReferer:window.location.pathname,isMedia:!0,isPromoted:!1,reportType:m,reportedAtTimecode:a,reportedSpace:p,reportedUser:null==p||null==(e=p.host)||null==(i=e.user)?void 0:i.rest_id,scribeNamespace:u});l.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(r)}}})}}},23269:(e,t,n)=>{n.d(t,{BL:()=>o,Px:()=>c,xu:()=>s});n(6886),n(36728);var i=n(2784),a=n(23057),r=n(52674);function o(e){return s(e,a.Z)}function s(e,t){const{space:n,utils:a}=(0,r.$)(e),s=t.useActiveSpeakersLookup(),l=i.useRef(a.reportError);return l.current=a.reportError,i.useMemo((()=>{const e=new Map,t=[],i=[];function r(){const e=[...t,...i],a=(null==n?void 0:n.participants.total)||0,r=Math.max(0,a-e.length);return t.length<1&&l.current("[useParticipants]: missing speakers"),{all:e,speakers:t,listeners:i,otherParticipantsTotal:r}}function u(n,a,r){const s=a.twitter_screen_name;if(!s)return;if(e.has(s))return;e.set(s,!0);const c={key:s,user:a,kind:n,periscopeUserId:r};o.canParticipantSpeak(n)?t.push(c):i.push(c)}if(!n)return r();n.host&&u(c.host,n.host,n.host.periscope_user_id);const d=[...n.cohosts,...n.participants.speakers];a.is.replayable||d.push(...n.participants.listeners);for(let e=0;e<d.length;e++){const t=d[e],i=t.periscope_user_id;if(i){s.get(i)?e<n.cohosts.length?u(c.cohost,t,i):u(c.speaker,t,i):a.is.replayable||u(c.listener,t,i)}}return r()}),[n,s,a.is.replayable])}o.canParticipantSpeak=function(e){return Boolean(e&&l[e])},o.isParticipantHost=function(e){return e===c.host};const c=Object.freeze({host:"host",cohost:"cohost",speaker:"speaker",listener:"listener"}),l={[c.host]:!0,[c.cohost]:!0,[c.speaker]:!0}},15830:(e,t,n)=>{n.d(t,{UU:()=>m,z0:()=>h});n(6886);var i=n(2784),a=n(25686),r=n(73186),o=n(36934),s=n(19994),c=n(268),l=n(23057),u=n(52674),d=n(23269),p=n(48500);function m(e){var t;const n=h(e.audioSpaceId,l.Z);const a=n.audioLevel,r=(null==n||null==(t=n.user)?void 0:t.display_name)||"";return i.createElement(f,{audioLevel:a,displayName:r})}function h(e,t){const n=(0,u.$)(e),{speakers:a}=(0,d.xu)(e,t),r=t.useGuestsLookup(),[o]=a;o&&o.user||n.utils.reportError("[useActiveSpeaker] invalid host",{host:o});const s=i.useRef({participant:o,audioLevel:0}),c={participant:o,audioLevel:0};return a.forEach((e=>{const t=d.BL.isParticipantHost(e.kind)||!e.periscopeUserId?"host":e.periscopeUserId,n=r[t];n&&n.audioLevel>c.audioLevel&&e.user.display_name&&(c.participant=e,c.audioLevel=n.audioLevel)})),c.audioLevel>0?(s.current.participant=c.participant,s.current.audioLevel=c.audioLevel,{...s.current.participant,audioLevel:s.current.audioLevel}):{...s.current.participant,audioLevel:0}}function f(e){return i.createElement(a.Z,{style:b.activeSpeakerIndicatorContainer},i.createElement(g,null),i.createElement(c._,{audioLevel:e.audioLevel,size:r.Z.theme.spacesPx.space16,withPersistZeroLevel:!0}),i.createElement(y,{audioLevel:e.audioLevel,displayName:e.displayName}))}function g(){return p.jh()?i.createElement(s.Z,{style:b.superFollowsIcon,testID:"superfollows-icon"}):null}function y(e){const t=p.QH(),n=[b.activeSpeakerIndicatorName,0===e.audioLevel&&b.activeSpeakerIndicatorNameInactive,t?{color:t}:void 0];return i.createElement(o.ZP,{style:n},e.displayName)}const b=r.Z.create((e=>({activeSpeakerIndicatorContainer:{flexDirection:"row",alignItems:"center",width:"100%"},activeSpeakerIndicatorName:{color:e.colors.purple500,marginStart:e.spacesPx.space4,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},activeSpeakerIndicatorNameInactive:{opacity:.6},superFollowsIcon:{color:e.colors.gray700,height:e.spaces.space16,marginEnd:e.spaces.space4,width:e.spaces.space16}})))},77083:(e,t,n)=>{n.d(t,{O:()=>p});var i=n(7896),a=n(2784),r=n(79404),o=n.n(r),s=n(92189),c=n(52674),l=n(71197),u=n(48500),d=n(33749);function p(e){const{isCreationEnabled:t}=(0,l.R)(e.audioSpaceId),n=t=>e.spacer?a.createElement(a.Fragment,null,e.spacer,t):t;return t?n(a.createElement(m,e)):e.usePlaceholder?n(a.createElement(m,(0,i.Z)({},e,{disabled:!0}))):null}function m({audioSpaceId:e,disabled:t,withBorder:n}){const{utils:i}=(0,c.$)(e),{openSheet:r}=u.VE();return a.createElement(d.B,{accessibilityLabel:h.createClip,disabled:t,icon:a.createElement(s.Z,null),onPress:function(){if(t)return;let e=":audiospace:replay:clipping:cta:click";i.is.Running&&(e=":audiospace::clipping:cta:click"),i.scribe(e),u.r7(),r(u.IX.createClip)},type:n?"primaryOutlined":void 0})}const h={createClip:o().f91f00ba}},27821:(e,t,n)=>{n.d(t,{ZP:()=>k,Sd:()=>C});var i=n(7896),a=n(2784),r=n(25686),o=n(77953),s=n(35953),c=n(44329),l=n(36934),u=n(29496),d=n(73186),p=n(79404),m=n.n(p),h=n(10870),f=n(85080),g=n(18175),y=n(49690),b=n(29170),S=n(52674),E=n(71197),v=n(48500);const Z=n.p+"spaces_clipping_banner.21bdf4b9.png";var w=n(95306);function k(e){const{utils:t}=(0,S.$)(e.audioSpaceId),{requestSheetDismissal:n}=v.VE(),d=(0,o.I0)();return a.createElement(y.Z,{onImpression:function(){t.scribe(":audiospace:nux:clipping::impression")}},e.withPopoverLayout?null:a.createElement(r.Z,{style:x.imageContainer},a.createElement(s.Z,{accessibilityLabel:"",aspectMode:c.Z.COVER,image:Z})),a.createElement(r.Z,{style:x.contentContainer},a.createElement(l.ZP,{size:"title3",style:x.title,weight:"bold"},I.title),a.createElement(l.ZP,{color:"gray700"},I.subtitle),P.map(((e,t)=>a.createElement(w.$0,(0,i.Z)({key:t},e)))),e.withPopoverLayout?null:a.createElement(u.ZP,{onClick:e.onButtonClick||function(){t.scribe(":audiospace:nux:clipping:confirm:click"),n(),d((0,b.pj)(b.Ur))},style:x.button,type:"primaryOutlined"},I.gotIt)))}v.IX.clippingEducation;function C(e){const{isCreationEnabled:t}=(0,E.R)(e),n=(0,o.v9)((e=>(0,b.t5)(e,b.Ur)))&&t;return{sheetId:v.IX.clippingEducation,canShow:n}}const x=d.Z.create((e=>({imageContainer:{height:"180px",width:"100%",marginTop:e.spaces.space12},button:{marginTop:e.spaces.space24},contentContainer:{padding:e.spaces.space32},title:{marginBottom:e.spaces.space8},icon:{marginEnd:e.spaces.space12,fill:e.colors.purple500,fontSize:e.fontSizes.title2}}))),P=[{icon:a.createElement(h.Z,{style:x.icon}),title:m().f7c8617a,subtitle:m().ecc7d2ec},{icon:a.createElement(f.Z,{style:x.icon}),title:m().d575ee02,subtitle:m().bb1e43e4},{icon:a.createElement(g.Z,{style:x.icon}),title:m().ed1d1cc0,subtitle:m().e5d193c8}],I={title:m().e1547ec0,subtitle:m().i154245e,gotIt:m().j24c37b2}},95306:(e,t,n)=>{n.d(t,{$0:()=>w,ZP:()=>v,Sd:()=>Z});var i=n(2784),a=n(25686),r=n(77953),o=n(35953),s=n(44329),c=n(36934),l=n(29496),u=n(73186),d=n(79404),p=n.n(d),m=n(18175),h=n(70994),f=n(29170),g=n(57380),y=n(52674),b=n(48500),S=n(22598);const E=n.p+"bird_spaces_transparent.4a7e7199.png";function v(){const{requestSheetDismissal:e}=b.VE(),t=(0,r.I0)();return i.createElement(i.Fragment,null,i.createElement(a.Z,{style:C.imageContainer},i.createElement(o.Z,{accessibilityLabel:"",aspectMode:s.Z.COVER,image:E})),i.createElement(a.Z,{style:C.contentContainer},i.createElement(S.Vs,{withoutPulse:!0}),i.createElement(c.ZP,{size:"title3",style:C.title,weight:"bold"},k.title),i.createElement(c.ZP,{color:"gray700"},k.subtitle),i.createElement(w,{icon:i.createElement(m.Z,{style:C.icon}),subtitle:k.sections.onlySpeakersRecorded.subtitle,title:k.sections.onlySpeakersRecorded.title}),i.createElement(w,{icon:i.createElement(h.Z,{style:C.icon}),subtitle:k.sections.replayOrShare.subtitle,title:k.sections.replayOrShare.title,withOnlyMarginBottom:!0}),i.createElement(c.ZP,{color:"gray700",size:"body",style:C.disclaimer},i.createElement(p().I18NFormatMessage,{$i18n:"aab35605"},i.createElement(c.ZP,{color:"text",link:g.n.help,withUnderline:!0},p().ffc53fbd))),i.createElement(l.ZP,{onClick:function(){e(),t((0,f.pj)(f.jv))},type:"primaryOutlined"},k.gotIt)))}b.IX.recordingEducation;function Z(e){const{utils:t}=(0,y.$)(e),n=(0,r.v9)((e=>(0,f.t5)(e,f.jv)))&&t.is.recording;return{sheetId:b.IX.recordingEducation,canShow:n}}function w(e){return i.createElement(a.Z,{style:[C.sectionContainer,e.withOnlyMarginBottom?C.sectionMarginBottom:C.sectionMarginVertical]},e.icon,i.createElement(a.Z,{style:C.sectionContent},i.createElement(c.ZP,{weight:"bold"},e.title),i.createElement(c.ZP,{color:"gray700"},e.subtitle)))}const k={title:p().g1c6f16e,subtitle:p().e5609214,gotIt:p().j24c37b2,sections:{onlySpeakersRecorded:{title:p().g665514c,subtitle:p().ja196c5a},replayOrShare:{title:p().dd317ed6,subtitle:p().de4a571c}}},C=u.Z.create((e=>({imageContainer:{height:"128px",width:"100%"},contentContainer:{padding:e.spaces.space32},title:{marginTop:e.spaces.space4,marginBottom:e.spaces.space8},disclaimer:{marginVertical:e.spaces.space16},icon:{marginEnd:e.spaces.space12,fill:e.colors.purple500,fontSize:e.fontSizes.title3},sectionContent:{flexShrink:1},sectionContainer:{flexFlow:"row nowrap"},sectionMarginVertical:{marginVertical:e.spaces.space12},sectionMarginBottom:{marginBottom:e.spaces.space12}})))},62951:(e,t,n)=>{n.d(t,{Vs:()=>g,ZP:()=>S,p8:()=>y});var i=n(2784),a=n(25686),r=n(77953),o=n(36934),s=n(27519),c=n(29496),l=n(73186),u=n(79404),d=n.n(u),p=n(99629),m=n(52674),h=n(58184),f=n(48500);function g(e){const{requestSheetDismissal:t}=(0,f.VE)(),n=g.useReportingItems({audioSpaceId:e.audioSpaceId});return i.createElement(a.Z,{style:b.container},i.createElement(a.Z,{style:b.menu},i.createElement(o.ZP,{align:"center",size:"headline1",style:b.description,weight:"bold"},y.reportThisSpace),i.createElement(o.ZP,{align:"center",style:b.description},y.describeTheIssue),null==n?void 0:n.map((e=>i.createElement(s.Z,{actionText:e.label,key:e.label,onClick:()=>{e.onClick(),t()},textColor:"red500"})))),i.createElement(c.ZP,{onClick:t,type:"primaryOutlined"},y.cancel))}g.useReportingItems=function({audioSpaceId:e}){const t=(0,r.I0)(),{handlers:n}=(0,m.$)(e),a=n.report;return i.useMemo((()=>Object.keys(a).map((e=>({label:y[e],onClick:()=>{a&&a[e](),t((0,p.fz)({text:y.spaceReported}))}})))),[a,t])};const y={reportThisSpace:d().f123fea8,describeTheIssue:d().d0aebc28,SelfHarm:d().g971a4e8,Violence:d().b96e6682,SexualContent:d().e5bf9b3a,ChildSafety:d().d2a34320,PrivateInformation:d().a9ba3e28,AbusiveBehavior:d().d5519f4a,cancel:d().cfd2f35e,spaceReported:d().eb55363c},b=l.Z.create((e=>{const t=(0,h.Hx)(e);return{container:{display:"flex",justifyContent:"space-between",height:"100%",padding:e.spaces.space16},menu:{marginBottom:e.spaces.space20},description:{marginTop:e.spaces.space4,marginBottom:e.spaces.space16,paddingHorizontal:t}}})),S=g},57100:(e,t,n)=>{n.d(t,{Sd:()=>Z,ZP:()=>v});var i=n(2784),a=n(25686),r=n(77953),o=n(36934),s=n(73186),c=n(79404),l=n.n(c),u=n(10815),d=n(68117),p=n(37324),m=n(70025),h=n(29170),f=n(89894),g=n(57380),y=n(2028),b=n(48500);const S="spaces-intro-nux",E={ios:m.Z.getiOSAppStoreLink(S),android:m.Z.getAndroidAppStoreLink(S)};function v(){const{requestSheetDismissal:e}=b.VE(),t=(0,r.I0)();return i.createElement(a.Z,{style:x.container},i.createElement(a.Z,{style:x.headingContainer},i.createElement(a.Z,{style:x.headingIconContainer},i.createElement(y.Z,{style:x.headingIcon})),i.createElement(a.Z,null,i.createElement(o.ZP,{align:"center",size:"title4",style:x.title,weight:"bold"},C.title),i.createElement(o.ZP,{align:"center",color:"gray700",size:"body"},C.subtitle))),i.createElement(a.Z,{style:x.sectionsContainer},i.createElement(w,{icon:i.createElement(u.Z,{style:x.sectionIcon}),subtitle:i.createElement(k,null,i.createElement(l().I18NFormatMessage,{$i18n:"fc9fe08f"},i.createElement(o.ZP,{link:E.ios},l().ae6c101d),i.createElement(o.ZP,{link:E.android},l().f6a61e67))),title:C.sections.listenLive.title}),i.createElement(w,{icon:i.createElement(d.Z,{style:x.sectionIcon}),subtitle:i.createElement(k,null,i.createElement(l().I18NFormatMessage,{$i18n:"a8170309"},i.createElement(o.ZP,{link:g.n.help},l().gba36459))),title:C.sections.spacesArePublic.title}),i.createElement(w,{icon:i.createElement(p.Z,{style:x.sectionIcon}),subtitle:i.createElement(i.Fragment,null,i.createElement(k,null,i.createElement(l().I18NFormatMessage,{$i18n:"ib602fd9"},i.createElement(o.ZP,{link:g.n.settings},l().d4ccb940))),i.createElement("br",null),i.createElement(k,null,C.sections.manageExperience.blockAndReport)),title:C.sections.manageExperience.title,withMarginBottom:!1})),i.createElement(a.Z,{style:x.bottomItems},i.createElement(a.Z,{style:x.finePrintContainer},i.createElement(o.ZP,{align:"center",color:"gray700",size:"subtext1",style:x.finePrint},i.createElement(l().I18NFormatMessage,{$i18n:"i6164a47"},i.createElement(o.ZP,{link:g.n.help},l().cdffdeb3)))),i.createElement(a.Z,{style:x.ctaContainer},i.createElement(f.Z,{accessibilityLabel:C.gotIt,onPress:function(){e(),t((0,h.pj)(h.UN))}},i.createElement(o.ZP,{align:"center",color:"white",numberOfLines:1,size:"body",weight:"bold"},C.gotIt)))))}function Z(){const e=(0,r.v9)((e=>(0,h.t5)(e,h.UN)));return{sheetId:b.IX.generalNux,canShow:e}}function w({icon:e,subtitle:t,title:n,withMarginBottom:r=!0}){return i.createElement(a.Z,{style:[x.sectionContainer,r?x.sectionMarginBottom:null]},i.createElement(a.Z,{style:x.sectionIconContainer},e),i.createElement(a.Z,{style:x.sectionContent},i.createElement(o.ZP,{size:"body",weight:"bold"},n),t))}function k(e){return i.createElement(o.ZP,{color:"gray700",size:"body"},e.children)}const C={title:l().a3e6bb1c,subtitle:l().d82f2140,sections:{listenLive:{title:l().gf029868},spacesArePublic:{title:l().icc1ba70},manageExperience:{title:l().bcf241be,blockAndReport:l().b0bc8330}},gotIt:l().j24c37b2},x=s.Z.create((e=>({container:{display:"flex",justifyContent:"space-between",height:"100%",padding:e.spaces.space16},headingContainer:{marginBottom:e.spaces.space32},headingIconContainer:{paddingVertical:e.spaces.space28},headingIcon:{height:e.spaces.space40},title:{marginBottom:e.spaces.space1},sectionsContainer:{marginBottom:e.spaces.space48},sectionContainer:{flexDirection:"row",flexWrap:"nowrap",width:"100%",paddingHorizontal:e.spaces.space12},sectionContent:{flexShrink:1},sectionMarginBottom:{marginBottom:e.spaces.space24},sectionIconContainer:{width:e.fontSizes.title3,height:e.fontSizes.title3,marginEnd:e.spaces.space16},sectionIcon:{fill:e.colors.purple500,width:"100%",height:"100%"},bottomItems:{paddingBottom:e.spaces.space16},finePrintContainer:{paddingHorizontal:e.spaces.space4},finePrint:{marginBottom:e.spaces.space16},ctaContainer:{paddingHorizontal:e.spaces.space16}})))},48500:(e,t,n)=>{n.d(t,{EJ:()=>c,IX:()=>u,HP:()=>l,JG:()=>E,tU:()=>S,i7:()=>M,r7:()=>C,Nu:()=>L,cl:()=>b,n7:()=>y,h:()=>p,Qw:()=>I,QH:()=>T,C_:()=>x,VE:()=>m,n_:()=>h,gy:()=>v,jh:()=>R,bQ:()=>_,O5:()=>P,Qe:()=>f,Cc:()=>g});var i=n(73186),a=n(20514),r=n(51461),o=n(23057),s=n(7340);const c=Object.freeze({full:"full",collapse:"collapse",exit:"exit"}),l=Object.freeze({On:"on",Off:"off",Unavailable:"unavailable"}),u=Object.freeze({generalNux:"general-nux",clippingEducation:"clipping-education",recordingEducation:"recording-education",report:"report",createClip:"create-clip"}),d={isReplay:!1,isSuperFollowersOnly:!1,startTimeMs:-1,clip:{currentTimeMs:-1,id3NtpTime:-1},springTo:()=>Promise.resolve(),springToState:null,sheet:{id:null,hasDismissRequest:!1},captionsState:l.On},p=new a.E(d);function m(){return{sheetId:p.useSlice((e=>e.sheet.id)),openSheet:Z,requestSheetDismissal:k}}function h(){const{hasDismissRequest:e,id:t}=p.useSlice((e=>e.sheet));return{sheetId:t,hasDismissRequest:e,clearSheet:w}}function f(){return p.useSlice((e=>e.springTo))}function g(){return p.useSlice((e=>e.springToState))}function y(e){p.setState((t=>{t.springToState=e}))}function b(e){p.setState((t=>{t.springTo=e}))}function S(e){p.setState((t=>{t.isReplay=!0,t.startTimeMs=e}))}function E(){p.getState().isReplay&&p.setState((e=>{e.isReplay=d.isReplay,e.startTimeMs=d.startTimeMs}))}function v(){return p.useSlice((e=>e.isReplay))}function Z(e){const{sheet:t}=p.getState();t.hasDismissRequest||p.setState((t=>{t.sheet={id:e,hasDismissRequest:!1}}))}function w(){const{sheet:e}=p.getState();e.id&&p.setState((e=>{e.sheet={id:null,hasDismissRequest:!1}}))}function k(){const{sheet:e}=p.getState();e.id&&p.setState((e=>{e.sheet.hasDismissRequest=!0}))}function C(){const e=o.Z.getCurrentTrack(),{currentTimeMs:t,id3NtpTime:n}=e||{};(0,r.Z)(t)&&(0,r.Z)(n)&&p.setState((e=>{e.clip={currentTimeMs:t,id3NtpTime:n}}))}function x(){return p.useSlice((e=>e.clip))}function P(){return p.useSlice((e=>e.captionsState))}function I(){p.setState((e=>{e.captionsState===l.On?e.captionsState=l.Off:e.captionsState===l.Off&&(e.captionsState=l.On)}))}function _(){const e=s.YS(),t=P();return e&&t===l.On}function T(){return p.useSlice((e=>e.accentColor))}function R(){return p.useSlice((e=>e.isSuperFollowersOnly))}function L(){p.setState((e=>{e.accentColor=i.Z.theme.colors.plum500,e.isSuperFollowersOnly=!0}))}function M(){p.getState().isSuperFollowersOnly&&p.setState((e=>{e.accentColor=d.accentColor,e.isSuperFollowersOnly=d.isSuperFollowersOnly}))}},22598:(e,t,n)=>{n.d(t,{Vs:()=>m});var i=n(2784),a=n(66999),r=n(25686),o=n(11839),s=n(25301),c=n(73186),l=n(79404),u=n.n(l),d=n(52674),p=n(48500);function m(e){return e.withEducationOnClick&&e.audioSpaceId?i.createElement(h,{audioSpaceId:e.audioSpaceId}):i.createElement(f,e)}function h(e){const{utils:t}=(0,d.$)(e.audioSpaceId),{openSheet:n}=p.VE();return i.createElement(o.Z,{accessibilityLabel:y.recordingActive,onPress:()=>{n(p.IX.recordingEducation),t.scribe(":audiospace::recording:icon:click")}},i.createElement(f,{audioSpaceId:e.audioSpaceId}))}function f(e){return i.createElement(r.Z,{style:g.indicatorWrapper},i.createElement(s.ZP,{background:"navigationBackground"},i.createElement(r.Z,{style:g.indicatorContainer},i.createElement(r.Z,{style:[g.indicatorDot,e.withoutPulse?null:g.indicatorDotAnimation]}),i.createElement(a.Z,{accessibilityRole:"none",selectable:!1,style:g.recordingIndicatorText},y.REC))))}const g=c.Z.create((e=>({indicatorWrapper:{width:"fit-content"},recordingIndicatorText:{color:e.colors.text,fontWeight:e.fontWeights.bold},indicatorContainer:{flexDirection:"row",alignItems:"center"},indicatorDot:{width:e.spaces.space8,height:e.spaces.space8,borderRadius:e.borderRadii.infinite,marginEnd:e.spaces.space4,backgroundColor:"#E0245E"},indicatorDotAnimation:{opacity:.2,animationDuration:"1s",animationKeyframes:[{"0%":{opacity:.2},"50%":{opacity:1},"100%":{opacity:.2}}],animationTimingFunction:"cubic-bezier(0.44, 0.01, 0.48, 0.96)",animationIterationCount:"infinite"}}))),y={REC:"REC",recordingActive:u().b4f91a8a}},33749:(e,t,n)=>{n.d(t,{B:()=>l});var i=n(2784),a=n(14983),r=n.n(a),o=n(29496),s=n(73186),c=n(1206);function l(e){return r()(e.accessibilityLabel,"ControlButton must have an accessibilityLabel"),i.createElement(o.ZP,{accessibilityLabel:e.accessibilityLabel,backgroundColor:"transparent",borderColor:"transparent",color:"text",disabled:e.disabled,hoverLabel:{label:e.accessibilityLabel},icon:e.icon,onPress:e.onPress||c.Z,renderMenu:e.renderMenu,size:e.size||"medium",style:u.button,type:e.type})}const u=s.Z.create((e=>({button:{height:"100%"}})))},78275:(e,t,n)=>{n.d(t,{gt:()=>C});var i=n(2784),a=n(25686),r=n(32580),o=n(73186),s=n(79404),c=n.n(s),l=n(78525),u=n(61339),d=n(2072),p=n(2084),m=n(23057),h=n(77083),f=n(59345),g=n(33749),y=n(44487),b=n(36934),S=n(6405),E=n(52674);function v(e){const{utils:t}=(0,E.$)(e.audioSpaceId),n=m.Z.usePlaybackRate(),a=k.map((({rate:e,text:i})=>({text:i,disabled:n===e,onClick:()=>{t.scribe(":audiospace:replay:recording:speed:click");const{api:n}=m.Z.store.getState();n&&n.setPlaybackRate(e)}})));return i.createElement(g.B,{accessibilityLabel:w.accessibility({rate:`${n}`}),icon:i.createElement(v.Icon,{playbackRate:n}),renderMenu:e=>i.createElement(y.Z,{isFixed:!0,items:a,onCloseRequested:e,shouldCloseOnClick:!0})})}v.Icon=function({playbackRate:e}){return i.createElement(a.Z,{style:Z.playbackRateIcon},i.createElement(b.ZP,{style:Z.playbackRateIconText,weight:"normal"},e),i.createElement(S.Z,{style:Z.playbackRateIconSvg}))};const Z=o.Z.create((e=>({playbackRateIcon:{flexDirection:"row",alignItems:"center"},playbackRateIconText:{marginEnd:e.spaces.space2},playbackRateIconSvg:{height:e.spaces.space8}}))),w={accessibility:c().e07f6e7d},k=[{text:c().jd04fc66,rate:.5},{text:c().f03848b8,rate:1},{text:c().j0e5c2ce,rate:1.5},{text:c().b3f2318e,rate:2}];function C(e){return i.createElement(a.Z,{style:I.controlsContainer},i.createElement(C.SeekSlider,null),i.createElement(a.Z,{style:I.buttonsContainer},i.createElement(C.Captions,{audioSpaceId:e.audioSpaceId}),i.createElement(v,{audioSpaceId:e.audioSpaceId}),i.createElement(C.Play,null),i.createElement(C.SkipAhead,null),i.createElement(h.O,{audioSpaceId:e.audioSpaceId,usePlaceholder:!0})))}function x(){const e=m.Z.getCurrentTrack();e&&null!=e&&e.currentTimeMs&&P(e.currentTimeMs+T)}function P(e){const{api:t}=m.Z.store.getState(),n=m.Z.getCurrentTrack();if(null==n||!n.durationMs||null==t||!t.scrubToFraction)return;p.O7(e);const i=e/n.durationMs;t.scrubToFraction(i)}C.SeekSlider=function(){const{currentTimeMs:e,durationMs:t,externalSeeking:n,onSeek:a}=C.useSeekSliderProps();return i.createElement(r.ZP.SeekSlider,{durationMs:t,externalSeeking:n,onSeek:a,progressMs:e,withTimes:!0})},C.useSeekSliderProps=function(){const e=m.Z.useIsSeeking(),t=m.Z.useCurrentTrackDurationMs();return{currentTimeMs:m.Z.useCurrentTrackTimeMs()||0,durationMs:t||1,externalSeeking:e,onSeek:P}},C.Captions=function({audioSpaceId:e}){const{disabled:t,icon:n,label:a,onPress:r}=f.m.useSpaceCaptionsToggleProps({audioSpaceId:e});return i.createElement(g.B,{accessibilityLabel:a,disabled:t,icon:n,onPress:r})},C.Play=function(){const{isPlaying:e,togglePlayback:t}=C.usePlayButtonProps();return i.createElement(g.B,{accessibilityLabel:e?_.pause:_.play,icon:e?i.createElement(l.Z,null):i.createElement(u.Z,null),onPress:t,size:"xLarge"})},C.usePlayButtonProps=()=>{const e=m.Z.useIsPlaying(),t=m.Z.usePlayerApi();return{isPlaying:e,togglePlayback:()=>{t&&t.play&&t.pause&&(e?t.pause():t.play())}}},C.SkipAhead=function(){return i.createElement(g.B,{accessibilityLabel:_.skipForward,icon:i.createElement(d.Z,null),onPress:x})};const I=o.Z.create((e=>({controlsContainer:{width:"100%",alignSelf:"start",marginVertical:e.spaces.space8},buttonsContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},buttonPlaceholderContainer:{opacity:0,pointerEvents:"none"}}))),_={skipForward:c().jf9f3e54,play:c().ic1e826e,pause:c().b89c5a50},T=15e3},59345:(e,t,n)=>{n.d(t,{m:()=>m});var i=n(2784),a=n(29496),r=n(73186),o=n(79404),s=n.n(o),c=n(85464),l=n(16888),u=n(45091),d=n(52674),p=n(48500);function m({audioSpaceId:e}){const{disabled:t,icon:n,label:r,onPress:o}=m.useSpaceCaptionsToggleProps({audioSpaceId:e});return i.createElement(a.ZP,{accessibilityLabel:r,disabled:t,hoverLabel:{label:r},icon:n,onPress:o,size:"medium",style:f.icon,type:"primaryText"})}function h({captionsState:e}){switch(e){case p.HP.On:return i.createElement(c.Z,{style:f.icon});case p.HP.Off:return i.createElement(l.Z,{style:f.icon});case p.HP.Unavailable:default:return i.createElement(u.Z,{style:f.icon})}}m.useSpaceCaptionsToggleProps=function({audioSpaceId:e}){const t=p.O5(),n=i.createElement(h,{captionsState:t}),a=t!==p.HP.Unavailable,r=function(e){switch(e){case p.HP.On:return g.hideCaptions;case p.HP.Off:return g.showCaptions;case p.HP.Unavailable:default:return g.captionsUnavailable}}(t),o=function({audioSpaceId:e}){const{utils:t}=(0,d.$)(e);return()=>{p.Qw(),t.scribe(":audiospace::caret:view_transcriptions:click")}}({audioSpaceId:e});return{disabled:!a,icon:n,label:r,onPress:o}};const f=r.Z.create((e=>({icon:{fill:e.colors.text}}))),g={showCaptions:s().e674c120,hideCaptions:s().f45bace4,captionsUnavailable:s().ce96f1dc}},27063:(e,t,n)=>{n.d(t,{Do:()=>un,Ly:()=>fn,iK:()=>wn});var i=n(7896),a=(n(6886),n(2784)),r=n(75487),o=n(78052),s=n(12212),c=n(52661),l=n(25686),u=n(41425),d=n(73186),p=n(74054),m=n(29496),h=n(42807),f=n(34036),g=n(79404),y=n.n(g),b=n(24469),S=n(84793),E=n(65526),v=n(35903),Z=n.n(v),w=n(59883),k=n.n(w),C=n(59529),x=n(37796),P=n(85883),I=n(14816),_=n(16774),T=n(27292),R=n(268),L=n(23057),M=n(1921),z=n(52674),H=n(23269),O=n(55449);function B(e){const{count:t,max:n,selectedIndex:i}=e,r=function(){const{theme:e}=d.Z;return 2*N(e).px+e.borderWidthsPx.small}(),o=a.useRef({left:0,right:n-1}),s=a.useRef(0),[c,u]=a.useState(D(o.current,t,r));a.useEffect((()=>{function e(){const e=t-1,{left:n,right:a}=o.current,r=a-i+1<=2&&a!==e,s=i+1-n<=2&&0!==n;return!(!r&&!s)&&(r?(o.current.left=n+1,o.current.right=a+1):s&&(o.current.left=n-1,o.current.right=a-1),!0)}for(;e(););u(D(o.current,t,r)),s.current=i}),[i,t,n,r]);const p=new Array(t).fill(1).map(((e,r)=>{const o=r===i;if(t<=n)return a.createElement(A,{key:r,selected:o});const s=c[r];return a.createElement(A,{continuation:Boolean(s),continuationType:s,key:r,selected:o})}));return a.createElement(l.Z,{style:[V.indicatorWindowContainer,{width:`calc(${n} * ${r}px)`,height:`${r}px`}]},a.createElement(l.Z,{style:[V.indicatorsContainer,{height:`${r}px`,width:`calc(${r}px * ${t})`},c.style]},p))}function A(e){let t=V.indicator;if(e.selected)t=V.indicatorSelected;else if(e.continuation)switch(e.continuationType){case F.small:t=V.indicatorContinuationSmall;break;case F.medium:t=V.indicatorContinuationMedium}return a.createElement(l.Z,{style:t})}function D(e,t,n){const{left:i,right:a}=e,r={style:{transform:[{translateX:-1*n*i}]}};return r[i-1]=F.small,r[i]=F.small,r[i+1]=F.medium,r[a-1]=F.medium,r[a]=F.small,r[a+1]=F.small,0===i?(delete r[0],delete r[1]):a>t-2&&(delete r[t-1],delete r[t-2]),r}function N(e){return{style:e.spaces.space8,px:e.spacesPx.space8}}const V=d.Z.create((e=>{const t=N(e).style,n={transition:"transform 200ms"},i={...n,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:e.borderRadii.infinite,marginHorizontal:e.spaces.space4,width:t,height:t,transform:[{scale:.5}]},a={...i,backgroundColor:e.colors.gray300};return{indicatorWindowContainer:{marginVertical:e.spaces.space12,overflow:"hidden",margin:"auto"},indicatorsContainer:{...n,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",margin:"auto"},indicatorSelected:{...i,borderWidth:e.borderWidths.small,borderColor:e.colors.gray300,borderStyle:"solid",backgroundColor:e.colors.white,transform:[{scale:1}]},indicator:{...i,backgroundColor:e.colors.gray300},indicatorContinuationSmall:{...a,transform:[{scale:.3}]},indicatorContinuationMedium:{...a,transform:[{scale:.4}]}}})),F=Object.freeze({small:"small",medium:"medium"});var j=n(53496),$=n(95995);function U(e){const{space:t}=(0,z.$)(e.audioSpaceId);if(!t)return null;const{sharings:n}=t,i=[...n].reverse().filter((e=>e&&e.tweet&&e.user));return i.length?a.createElement(W,{items:i}):null}function W(e){const{items:t}=e,n=t.reduce(((e,t)=>t.tweet?e.length?`${e}.${t.id}`:t.id:e),"");const[i,r]=a.useState(),o=Math.max(0,t.findIndex((e=>e.id===i)));return a.createElement(a.Fragment,null,a.createElement(O.Z,{childrenStyle:K.carouselChildrenStyles,key:n,onVisibleRangeChange:({index:e,intersectionRatio:n})=>{1===n&&r(t[e].id)},updateObserverWithChildren:!0,visibleItemIndex:o},t.map(((e,t)=>a.createElement(q,{item:e,key:e.id||t})))),a.createElement(B,{count:t.length,key:`${n}-indicators`,max:J,selectedIndex:o}))}function q(e){if(!e.item)return null;const{tweet:t,user:n}=e.item;return a.createElement(l.Z,{key:t.id_str,style:K.sharedContentContainer},a.createElement(j.Z,{isCondensed:!0,tweet:t}),a.createElement($.Z,{avatarSize:"small",name:G.sharedBy({name:null==n?void 0:n.name}),nameSize:"subtext2",profileImageUrl:null==n?void 0:n.profile_image_url_https,style:K.sharedContentBy,weight:"normal"}))}const J=8,G={sharedBy:y().bdfa93eb},K=d.Z.create((e=>({sharedContentContainer:{paddingHorizontal:wn(e).container.paddingHorizontal,width:"100%"},carouselChildrenStyles:{scrollSnapAlign:"center",scrollSnapStop:"always",width:"100%"},sharedContentBy:{marginTop:e.spaces.space8}})));var Q=n(36934),X=n(91300),Y=n(10880);function ee(e){const{isBlueVerified:t=!1,isVerified:n=!1,speaker:i,speakerAvatarSize:r="small",speakerNameSize:o="subtext2",speakerScreenNameSize:s="subtext2",timestamp:c,withSpeakerAvatar:u=!0,withSpeakerScreenName:d=!0,withTimestamp:p=!1}=e,m=Date.now()-c;return a.createElement(l.Z,{style:ie.root},a.createElement($.Z,{avatarSize:r,isBlueVerified:t,isVerified:n,name:i.name,nameSize:o,profileImageUrl:u?i.profile_image_url_https:"",screenName:i.screen_name,screenNameSize:s,style:ie.userName,withScreenName:d}),p?a.createElement(ne,{size:o,timeMs:m}):null)}function te(e,t){return e&&t&&e.id_str&&t.id_str?e.id_str===t.id_str:!!(e&&t&&e.screen_name&&t.screen_name)&&e.screen_name===t.screen_name}function ne({size:e="small",timeMs:t}){return a.createElement(a.Fragment,null,a.createElement(X.Z,{size:e}),a.createElement(Y.Z,{color:"gray700",humanReadable:!0,size:e,timeMs:t}))}const ie=d.Z.create((e=>({root:{flexDirection:"row",flexShrink:1,marginTop:"0.25em"},userName:{marginBottom:e.spaces.space4,paddingEnd:e.spaces.space4}})));function ae(e){const{caption:t,captionTextSize:n,withSpeaker:r=!0,...o}=e,{speaker:s}=t;return a.createElement(l.Z,{style:[re.root,!r&&re.missingSpeakerSpacer]},r?a.createElement(ee,(0,i.Z)({},o,{speaker:s,timestamp:t.timestamp})):null,a.createElement(Q.ZP,{lang:t.lang,size:n,style:re.captionText},t.text))}const re=d.Z.create((e=>({root:{paddingBottom:"0.25em",flex:1},missingSpeakerSpacer:{paddingTop:"0.1em"},captionText:{lineHeight:"1.5em",paddingVertical:"0.1em",fontWeight:e.highContrastEnabled?e.fontWeights.heavy:e.fontWeights.regular}}))),oe=e=>({width:e,height:e});function se(e){const{size:t}=e,n=Math.floor(t/4.5);return a.createElement(l.Z,{style:[de.root,le(t)]},a.createElement(ce,{width:n}))}function ce({width:e}){return a.createElement(a.Fragment,null,Array(3).fill(0).map(((t,n)=>a.createElement(l.Z,{key:n,style:[de.dot,ue(n,e)]}))))}function le(e){return{...oe(e)}}function ue(e,t){return{animationDelay:.5*e+"s",borderRadius:"100%",...oe(t)}}const de=d.Z.create((e=>({root:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"center"},dot:{position:"relative",backgroundColor:e.colors.purple500,display:"inline-block",margin:"auto",pointerEvents:"none",willChange:"transform",animationKeyframes:[{"0%":{backgroundColor:e.colors.purple500},"50%":{backgroundColor:e.colors.purple200},"100%":{backgroundColor:e.colors.purple200}}],animationDirection:"alternate",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}))),pe=28,me=28;function he(e){const{captions:t,footerHeight:n=pe,headerHeight:r=me,scrollContainerStyle:o,unintelligible:c=!1,withFrequentSpeakerAnnouncement:u=!1,verifiedLookup:d,...p}=e,m=a.useRef(null),h=a.useRef(null),f=a.useRef({containerHeight:void 0,hasUserScrolledUp:!1});function g(){var e,t;null!=(e=f.current)&&e.hasUserScrolledUp||(null==(t=h.current)||t.scrollToEnd({animated:!0}))}return a.useEffect((()=>{var e;f.current.containerHeight=null==m||null==(e=m.current)?void 0:e.getBoundingClientRect().height}),[]),a.useEffect((()=>{let e=null;return function t(){g(),e=setTimeout(t,1500)}(),function(){clearTimeout(e)}}),[]),a.createElement(l.Z,{ref:m,style:ye.root},a.createElement(s.Z,{ListFooterComponent:a.createElement(ge,{footerHeight:n,unintelligible:c}),ListHeaderComponent:a.createElement(fe,{headerHeight:r}),accessibilityRole:"listbox",contentContainerStyle:{marginBottom:0},data:t,keyExtractor:e=>e.sequenceId,maintainVisibleContentPosition:{minIndexForVisible:0},onEndReached:function(){g()},onScroll:function({nativeEvent:{contentOffset:e,contentSize:t,layoutMeasurement:i}}){const a=2*(f.current.containerHeight||0)+n,r=t.height-i.height-e.y-a>0;f.current.hasUserScrolledUp=r},ref:h,renderItem:function({index:e,item:n}){var r;let o=!0;var s;u||(o=!te(n.speaker,null==(s=t[e-1])?void 0:s.speaker));const c=n.speaker.screen_name,{isBlueVerified:l,isVerified:m}=null!=(r=null==d?void 0:d(c))?r:{isVerified:!1,isBlueVerified:!1};return a.createElement(ae,(0,i.Z)({},p,{caption:n,isBlueVerified:l,isVerified:m,key:n.sequenceId,withSpeaker:o}))},scrollEventThrottle:100,style:[ye.captionsContainer,o]}))}function fe(e){const{headerHeight:t}=e;return a.createElement(l.Z,{style:{height:t}})}function ge(e){const{footerHeight:t,unintelligible:n}=e;return a.createElement(a.Fragment,null,n?a.createElement(se,{size:20}):null,a.createElement(l.Z,{style:{height:t}}))}const ye=d.Z.create((e=>({root:{height:"100%",width:"100%",flex:1},captionsContainer:{maxHeight:"100%",height:"100%",scrollbarWidth:"none"}})));he.Caption=ae,he.areSpeakersIdentical=te;const be=he;var Se=n(7093),Ee=n(7340),ve=n(48500),Ze=n(99241);const we={isVerified:void 0,isBlueVerified:void 0};const ke=function(e){const t=(0,Ze.h)("responsive_web_twitter_blue_verified_badge_is_enabled"),{all:n}=(0,H.BL)(e),i=a.useMemo((()=>n.reduce(((e,t)=>(t.user.twitter_screen_name&&(e[t.user.twitter_screen_name]={isVerified:t.user.is_verified,isBlueVerified:t.user.is_blue_verified}),e)),{})),[n]);return a.useCallback((e=>{var n;if(!t)return we;return null!=(n=null==i?void 0:i[e])?n:we}),[t,i])};function Ce(e){const{audioSpaceId:t,height:n}=e,i=Ee.w9();return ve.bQ()?a.createElement(l.Z,{style:[Pe.container,{height:n}]},a.createElement(l.Z,{style:Pe.fadeIn}),a.createElement(xe,{audioSpaceId:t,captions:i}),a.createElement(l.Z,{style:Pe.fadeOut})):null}function xe({audioSpaceId:e,captions:t}){const{utils:n}=(0,z.$)(e),i=ke(e);return(0,E.q)((()=>{n.scribe(":audiospace:::transcription:impression")})),a.createElement(be,{captionTextSize:"body",captions:t,footerHeight:28,headerHeight:28,scrollContainerStyle:Pe.scrollContainerStyle,verifiedLookup:i,withSpeakerAvatar:!0,withSpeakerScreenName:!0})}const Pe=d.Z.create((e=>{const t=Se.Z.hexToCss(e.colors.navigationBackground,0),n=Se.Z.hexToCss(e.colors.navigationBackground,.8);return{container:{width:"100%",paddingTop:e.spaces.space2,paddingHorizontal:e.spaces.space8,backgroundColor:e.colors.navigationBackground,boxShadow:`0 0 ${e.spacesPx.space4}px 0 ${e.colors.gray50}`,position:"relative"},scrollContainerStyle:{paddingHorizontal:e.spaces.space8},fadeIn:{position:"absolute",top:0,start:0,width:"100%",height:e.spaces.space16,backgroundImage:e.highContrastEnabled?void 0:`linear-gradient(to top, ${t}, ${n})`,pointerEvents:"none",zIndex:1},fadeOut:{position:"absolute",bottom:0,start:0,width:"100%",height:e.spaces.space8,backgroundImage:e.highContrastEnabled?void 0:`linear-gradient(to bottom, ${t}, ${n})`,pointerEvents:"none",zIndex:1}}}));var Ie=n(58184),_e=n(27821),Te=(n(60523),n(36728),n(7267)),Re=n(12408),Le=n(23507),Me=n(10870),ze=n(49690),He=n(75845),Oe=n(2084),Be=n(46331),Ae=n(71197);function De(e){return a.createElement(Re.Z,{contentStyle:Ue.popoverContentStyles,renderContent:function(t,n){return a.createElement(_e.ZP,{audioSpaceId:e.audioSpaceId,onButtonClick:t,withPopoverLayout:"popover"===n})},withArrow:!0,withFixedPosition:!0,wrapperStyle:Ue.helpCircle},a.createElement(m.ZP,{backgroundColor:"transparent",borderColor:"transparent",color:"text",icon:a.createElement(Me.Z,null),size:"xSmall"}))}function Ne(e){const t=ve.gy(),{id3NtpTime:n}=ve.C_(),i=(0,Ae.R)(e.audioSpaceId),r=ke(e.audioSpaceId),o=n&&Math.floor(n-i.maxDurationSeconds);let c=[];if(o&&n)if(t)c=Oe.gJ(o,n);else{const e=(0,Be.E)(o).getTime(),{pastCaptions:t}=Ee.h.getState();c=t.filter((t=>t.timestamp>=e))}if(!c.length)return a.createElement(Le.Z,{action:{label:$e.learnMore,link:"https://help.twitter.com/en/using-twitter/spaces"},style:Ue.inlineCallout,text:$e.captionsUnavailable});return a.createElement(l.Z,null,a.createElement(s.Z,{accessibilityRole:"listbox",contentContainerStyle:Ue.clipContent,data:c,keyExtractor:e=>e.sequenceId,renderItem:function({index:e,item:t}){var n;const i=null==(n=c[e-1])?void 0:n.speaker,o=!be.areSpeakersIdentical(t.speaker,i),s=t.speaker.screen_name,{isBlueVerified:l,isVerified:u}=r(s);return a.createElement(be.Caption,{caption:t,isBlueVerified:l,isVerified:u,key:t.sequenceId,withSpeaker:o})},scrollEventThrottle:100}))}function Ve(e){const t=(0,Te.k6)(),{requestSheetDismissal:n}=ve.VE(),{space:i,utils:r}=(0,z.$)(e.audioSpaceId),o=(0,Ae.R)(e.audioSpaceId),{currentTimeMs:s}=ve.C_(),{scribe:c}=r;return a.createElement(m.ZP,{onClick:function(){i&&-1!==s?(c(":audiospace:creation:clipping:cta:click"),He.w.proxsee.createClip({broadcast_id:e.audioSpaceId,start_timecode_millis:Math.max(Math.floor(s-o.maxDurationMs),0),end_timecode_millis:Math.floor(s)}).then((e=>{if(null!=e&&e.clip){n();const i=new URLSearchParams({[Fe.clipId]:e.clip.clip_id});t.push({pathname:"/compose/tweet",query:{text:je(e.clip.broadcast_id,i.toString())},state:{positionCursorAtBeginning:!0}})}}))):r.reportError("Unexpected exception was caught while creating the clip. Verify that the Space exists or currentTimeMs value is set.",{currentTimeMs:s})},type:"primaryFilled"},$e.next)}const Fe=Object.freeze({clipId:"clipID"}),je=(e,t)=>`https://twitter.com/i/spaces/${e}?${t}`,$e={heading:y().cc724cb0,cancel:y().cfd2f35e,next:y().c1df579e,captionsUnavailable:y().e3146662,learnMore:y().i859a9d4},Ue=d.Z.create((e=>{const t=(0,Ie.Hx)(e);return{container:{display:"flex",justifyContent:"space-between",height:"100%",padding:e.spaces.space16},headingContainer:{justifyContent:"center",alignItems:"center",marginTop:e.spaces.space4,marginBottom:e.spaces.space20,paddingHorizontal:t},clipContent:{marginBottom:e.spaces.space8},cancelButton:{position:"absolute",start:0},helpCircle:{position:"absolute",end:0},popoverContentStyles:{padding:e.spaces.space8},inlineCallout:{marginBottom:e.spaces.space16}}})),We=function(e){const{utils:t}=(0,z.$)(e.audioSpaceId),{requestSheetDismissal:n}=ve.VE();return a.createElement(ze.Z,{onImpression:function(){t.scribe(":audiospace:creation:clipping:preview:impression")}},a.createElement(l.Z,{style:Ue.container},a.createElement(l.Z,{style:Ue.headingContainer},a.createElement(m.ZP,{backgroundColor:"transparent",borderColor:"transparent",color:"text",onClick:function(){t.scribe(":audiospace:creation:clipping:cancel:click"),n()},size:"xSmall",style:Ue.cancelButton},$e.cancel),a.createElement(Q.ZP,{align:"center",size:"headline1",weight:"bold"},$e.heading),a.createElement(De,e)),a.createElement(Ne,e),a.createElement(Ve,e)))};var qe=n(95306),Je=n(62951),Ge=n(57100);function Ke(e){const{requestSheetDismissal:t}=(0,ve.VE)();return a.createElement(r.Z.View,{onClick:t,style:[Xe.dockSheetOverlayBase,e.isSideNavLayout?Ye.dockSheetOverlay:Xe.dockSheetOverlay,{opacity:e.animation.animatedPan.interpolate({inputRange:[e.animation.shellHeights.half,e.animation.shellHeights.full],outputRange:[1,0]})}]})}function Qe(e){return a.createElement(l.Z,{style:[e.style,e.hasDismissRequest&&Xe.pointerEventsNone]},a.createElement(r.Z.View,{style:[Xe.contentAnimatedContainer,{maxHeight:e.maxHeight,transform:[{translate3d:"0, 0, 0"},{translateY:e.animation.animatedPan}]}]},a.createElement(l.Z,{style:Xe.contentWrapperContainer},a.createElement(l.Z,{style:Xe.contentWrapper},e.children))))}const Xe=d.Z.create((e=>{const t=(0,Ie.Hx)(e),n=t.borderRadius;return{dockSheetContainer:{position:"absolute",start:0,bottom:0,width:"100%",borderRadius:t.borderRadius},contentAnimatedContainer:{overflowY:"auto",width:"100%",height:"100%",borderRadius:"inherit"},contentContainer:{position:"fixed",width:"100%",bottom:"0",margin:0,padding:0,borderTopEndRadius:n,borderTopStartRadius:n},contentWrapperContainer:{height:"100%",width:"100%",borderRadius:"inherit",backgroundColor:e.colors.navigationBackground},contentWrapper:{height:"100%"},dockSheetOverlayBase:{backgroundColor:e.colors.maskColor,width:"100%"},dockSheetOverlay:{height:"100vh",position:"fixed",top:"0"},pointerEventsNone:{pointerEvents:"none"}}})),Ye=d.Z.create((e=>{const t=(0,Ie.Hx)(e);return{dockSheetContainer:{position:"absolute",start:t.shadowOffset,bottom:-1*t.shadowOffset/2,width:`calc(100% - ${t.shadowOffset}px)`,borderRadius:t.borderRadius},dockSheetOverlay:{borderRadius:"inherit",height:"100%",position:"absolute",start:"0"},contentContainer:{boxShadow:e.boxShadows.xSmall,position:"absolute",start:0,bottom:0,width:"100%",borderRadius:t.borderRadius,overflow:"hidden"}}})),et=function(e){const{audioSpaceId:t,dockAnimation:n,isSideNavLayout:i}=e,{clearSheet:s,hasDismissRequest:c,sheetId:l}=(0,ve.n_)(),u=function(e){const t=o.Z.get("window"),n=(0,Ie.ss)(t.height,e),i=a.useRef(new r.Z.Value(n.full)).current;return{animatedPan:i,shellHeights:n,springToOpen:e=>r.Z.spring(i,{toValue:0,bounciness:2,useNativeDriver:!1}).start(e),springToClose:e=>r.Z.spring(i,{toValue:n.full,useNativeDriver:!1}).start(e)}}(i),d=n.shellHeights.sheetMaxHeight,p=i?Ye.contentContainer:Xe.contentContainer,m=a.useMemo((()=>{switch(l){case ve.IX.report:return a.createElement(Je.ZP,{audioSpaceId:t});case ve.IX.recordingEducation:return a.createElement(qe.ZP,null);case ve.IX.generalNux:return a.createElement(Ge.ZP,null);case ve.IX.clippingEducation:return a.createElement(_e.ZP,{audioSpaceId:t});case ve.IX.createClip:return a.createElement(We,{audioSpaceId:t});default:return null}}),[l,t]);if(a.useEffect((()=>{m&&u.springToOpen()}),[m,u]),a.useEffect((()=>{c&&u.springToClose(s)}),[u,s,c]),!m)return null;const h=i?Ye.dockSheetContainer:Xe.dockSheetContainer;return a.createElement(r.Z.View,{style:[h,c&&Xe.pointerEventsNone,{height:n.shellHeights.full-n.animatedPan._value,opacity:u.animatedPan.interpolate({inputRange:[0,u.shellHeights.half],outputRange:[1,0]})}]},a.createElement(Ke,{animation:u,isSideNavLayout:i}),a.createElement(Qe,{animation:u,hasDismissRequest:c,maxHeight:d,style:p},m))};var tt=n(38656),nt=n(55580),it=n(20032),at=n(90601),rt=n(66970);function ot(e={}){return(0,at.Z)("svg",{...e,style:[st.root,e.style],viewBox:"0 0 24 24",children:a.createElement(a.Fragment,null,a.createElement(rt.Z.SVGLinearGradient,null),a.createElement("g",{fill:rt.Z.SVGLinearGradient.fill},a.createElement("path",{d:"M17.97 7.585c-.552 0-1 .448-1 1v3.417c0 2.588-2.156 4.693-4.806 4.693h-.328c-2.65 0-4.806-2.105-4.806-4.693V8.585c0-.552-.448-1-1-1s-1 .448-1 1v3.417c0 3.416 2.618 6.237 5.983 6.64l-.01 1.858H8.27c-.553 0-1 .448-1 1s.447 1 1 1h7.46c.552 0 1-.448 1-1s-.448-1-1-1h-2.726l.01-1.863c3.35-.413 5.955-3.228 5.955-6.635V8.585c0-.552-.448-1-1-1z"}),a.createElement("path",{d:"M12 15.42c2.077 0 3.766-1.688 3.766-3.765v-6.14c0-2.076-1.69-3.765-3.766-3.765S8.234 3.44 8.234 5.516v6.14c0 2.075 1.69 3.765 3.766 3.765z"})))})}ot.metadata={width:24,height:24};const st=d.Z.create((e=>({root:{display:"inline-block",fill:"currentcolor",height:"1.25em",maxWidth:"100%",position:"relative",userSelect:"none",textAlignVertical:"text-bottom"}})));var ct=n(77083),lt=n(44487),ut=n(50337),dt=n(67935),pt=n(28449);function mt(e){const t=function(e){const{utils:t}=(0,z.$)(e),n=(0,x.v)(dt.Qb),{openSheet:i}=ve.VE(),a=(0,pt.O)(e,(()=>i(ve.IX.report))),r=[];n&&r.push({Icon:ut.Z,text:ht.reportThisSpace,isEmphasized:!0,onClick:()=>{a(),t.scribe(":audiospace::caret:report:click")}});return{items:r}}(e.audioSpaceId),[n,i]=a.useState(!1);if(t.items.length<1)return null;const r=n?a.createElement(lt.Z,{isFixed:!0,items:t.items,onCloseRequested:()=>i(!1),shouldCloseOnClick:!0}):null;return a.createElement(a.Fragment,null,a.createElement(m.ZP,{accessibilityLabel:ht.more,borderColor:"transparent",color:"text",hoverLabel:{label:ht.more},icon:e.icon,onPress:()=>i(!0),pullRight:e.pullRight,size:"medium",type:e.type}),r)}const ht={more:y().h63a5c3c,reportThisSpace:y().f123fea8};var ft=n(4642),gt=n(11839),yt=n(75713),bt=n(45481),St=n(13800);class Et{constructor(e){this.audioSpaceId=e}sendReaction(e){!function(e){(0,bt.lW)(e);const t=new bt.J(e);St.Z.publish(t)}(this.createReactionPayload(e,this.audioSpaceId))}createReactionPayload(e,t){const n={body:e,type:bt.gK.Heart,v:2},i={room:t,body:JSON.stringify(n)};return JSON.stringify({body:JSON.stringify(n),kind:bt.bI.Chat,sender:yt.Z.proxsee.getChatmanSender(),payload:JSON.stringify(i),type:bt.gK.Heart})}}var vt=n(33749);function Zt(e){const{audioSpaceId:t,icon:n}=e;return a.createElement(ft.Z,{dismissOnScroll:!1,enableEnterKeyToggle:!0,preferredHorizontalOrientation:"end",preferredVerticalOrientation:"up",renderContent:function(e){const n={audioSpaceId:t,dismiss:e};return a.createElement(wt,n)},withFixedPosition:!0},a.createElement(vt.B,{accessibilityLabel:xt.reactions,borderColor:"transparent",color:"text",hoverLabel:Pt,icon:n,size:"medium",type:"primaryOutlined"}))}function wt(e){const{utils:t}=(0,z.$)(e.audioSpaceId),n=a.useRef(new Et(e.audioSpaceId)).current;const i=kt.map((i=>{const r=xt.reactWithEmoji({emoji:i.emoji});return a.createElement(gt.Z,{accessibilityLabel:r,focusable:!0,key:i.emoji,onPress:function(){t.scribe(i.scribe),n.sendReaction(i.emoji),e.dismiss()},style:Ct.reaction},a.createElement(Q.ZP,{key:i.emoji,size:"title4"},i.emoji))}));return a.createElement(ze.Z,{onImpression:function(){t.scribe(":audiospace::reaction_picker::impression")}},a.createElement(l.Z,{style:Ct.container},i))}const kt=[{emoji:"",scribe:":audiospace::reaction_picker:face_with_tears_of_joy:click"},{emoji:"",scribe:":audiospace::reaction_picker:astonished_face:click"},{emoji:"",scribe:":audiospace::reaction_picker:crying_face:click"},{emoji:"",scribe:":audiospace::reaction_picker:heart:click"},{emoji:"",scribe:":audiospace::reaction_picker:hundred_points_symbol:click"},{emoji:"",skinToneOption:{none:"",light:"","medium-light":"",medium:"","medium-dark":"",dark:""},scribe:":audiospace::reaction_picker:clapping_hands:click"},{emoji:"",skinToneOption:{none:"",light:"","medium-light":"",medium:"","medium-dark":"",dark:""},scribe:":audiospace::reaction_picker:raised_fist:click"},{emoji:"",skinToneOption:{none:"",light:"","medium-light":"",medium:"","medium-dark":"",dark:""},scribe:":audiospace::reaction_picker:thumbs_up:click"},{emoji:"",skinToneOption:{none:"",light:"","medium-light":"",medium:"","medium-dark":"",dark:""},scribe:":audiospace::reaction_picker:thumbs_down:click"},{emoji:"",skinToneOption:{none:"",light:"","medium-light":"",medium:"","medium-dark":"",dark:""},scribe:":audiospace::reaction_picker:waving:click"}],Ct=d.Z.create((e=>({container:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",padding:e.spaces.space4,margin:e.spaces.space4,columnGap:e.spaces.space4,rowGap:e.spaces.space4},reaction:{borderRadius:e.borderRadii.small,padding:e.spaces.space4,flexDirection:"row",alignItems:"center",display:"flex",flexWrap:"wrap",justifyContent:"space-around"}}))),xt={reactions:y().c0098d4a,reactWithEmoji:y().fc0e94b7},Pt={label:xt.reactions};var It=n(78275);function _t({isSideNavLayout:e,onLayout:t,...n}){const i=[Lt.footer,e&&Lt.footerWide];return a.createElement(l.Z,{onLayout:t,style:i},a.createElement(Tt,n))}function Tt(e){return ve.gy()?a.createElement(It.gt,{audioSpaceId:e.audioSpaceId}):a.createElement(Rt,{audioSpaceId:e.audioSpaceId})}function Rt(e){const{featureSwitches:t}=a.useContext(it.rC);return a.createElement(a.Fragment,null,a.createElement(l.Z,{style:Lt.footerLeft},t.isTrue("voice_rooms_speaking_enabled")&&a.createElement(m.ZP,{accessibilityLabel:"Request to speak",borderColor:"transparent",color:"text",hoverLabel:{label:"Request to speak"},icon:a.createElement(ot,null),onPress:()=>{},size:"xLarge",type:"primaryOutlined"})),a.createElement(l.Z,{style:Lt.footerRight},a.createElement(mt,(0,i.Z)({},e,{icon:a.createElement(tt.Z,null),type:"primaryOutlined"})),t.isTrue("spaces_2022_h2_reactions_web_send")&&a.createElement(a.Fragment,null,a.createElement(l.Z,{style:Lt.footerButtonSpacer}),a.createElement(Zt,{audioSpaceId:e.audioSpaceId,icon:a.createElement(nt.Z,null)})),a.createElement(ct.O,{audioSpaceId:e.audioSpaceId,spacer:a.createElement(l.Z,{style:Lt.footerButtonSpacer}),withBorder:!0})))}const Lt=d.Z.create((e=>{const{borderRadius:t,paddingHorizontal:n}=(0,Ie.Hx)(e);return{footerButtonSpacer:{width:e.spaces.space16},footerLeft:{flexDirection:"row"},footerRight:{flexDirection:"row"},footer:{paddingHorizontal:n,width:"100%",height:`calc(100px + ${d.Z.iPhoneOffsetBottom})`,flexDirection:"row",alignItems:"center",justifyContent:"space-between",boxShadow:`0px -1px 0px ${e.colors.gray50}`,backgroundColor:e.colors.navigationBackground},footerWide:{borderBottomStartRadius:t,borderBottomEndRadius:t,boxShadow:e.boxShadows.xSmall}}}));function Mt({children:e}){return ve.gy()?null:e}function zt(e){const t=ve.gy();return a.createElement(m.ZP,{onPress:e.onPress,pullRight:!0,size:"medium",type:"destructiveText"},a.createElement(Q.ZP,{size:"body",weight:"bold"},t?Ht.close:Ht.leave))}const Ht={leave:y().bb1d57b6,close:y().ia5e7488};var Ot=n(59345),Bt=n(97813),At=n(25301),Dt=n(19994),Nt=n(45680),Vt=n(22598),Ft=n(3613),jt=n(55298);function $t(e){const{space:t,utils:n}=(0,z.$)(e.audioSpaceId),{ended_at:i}=t||{},r=n.getTunedInCount();return a.createElement(Ft.Z,{color:Gt.color,style:qt.container},a.createElement(Ut,{ended_at:i}),a.createElement(Wt,{count:r}))}function Ut({ended_at:e}){if(!e)return null;let t=null;const n=Date.now()-e;return t=n<Qt?a.createElement(y().I18NFormatMessage,{$i18n:"f0e84609"},a.createElement(Y.Z,{short:!0,timeMs:n})):Kt(new Date(e)),a.createElement(Q.ZP,Gt,t)}function Wt({count:e}){return e?a.createElement(Q.ZP,Gt,Jt.tunedIn({count:jt.Z.formatCountShort(e)})):null}const qt=d.Z.create((e=>({container:{marginBottom:e.spaces.space4}}))),Jt={tunedIn:y().e111f531},Gt={color:"text",size:"subtext2"},Kt=y().e18e399b,Qt=864e5;function Xt(e){return a.createElement(a.Fragment,null,a.createElement(l.Z,{style:ln.titleLabelRow},a.createElement(tn,e),a.createElement(Yt,e),a.createElement(en,e),a.createElement(an,e)),a.createElement(nn,e))}function Yt(e){const{space:t}=(0,z.$)(e.audioSpaceId);return null!=t&&t.is_employee_only?a.createElement(on,null,a.createElement(Q.ZP,null,cn.tweepsOnly)):null}function en(e){const{space:t}=(0,z.$)(e.audioSpaceId);return(null==t?void 0:t.narrow_cast_space_type)!==Bt.Z.AudienceEnum.superFollowersOnly?null:a.createElement(on,null,a.createElement(Dt.Z,{style:ln.superFollowsIcon}),a.createElement(Q.ZP,null,cn.superFollowersOnly))}function tn(e){const{utils:t}=(0,z.$)(e.audioSpaceId);return t.is.recording?a.createElement(rn,null,a.createElement(Vt.Vs,{audioSpaceId:e.audioSpaceId,withEducationOnClick:!e.isOutsideDock})):null}function nn(e){const{utils:t}=(0,z.$)(e.audioSpaceId);return t.is.replayable?a.createElement(l.Z,{style:ln.metadataLabelRow},a.createElement(rn,null,a.createElement($t,{audioSpaceId:e.audioSpaceId}))):null}function an(e){const{space:t}=(0,z.$)(e.audioSpaceId);if(!t||!t.community||!t.community.name)return null;return a.createElement(ft.Z,{contentStyle:ln.communitiesPopover,enableHover:!0,renderContent:function(){return a.createElement(Q.ZP,null,cn.communityToolTip)},withArrow:!0},a.createElement(sn,{link:`/i/communities/${t.community.rest_id}`},a.createElement(Nt.Z,{style:[ln.communitiesIcon,{color:t.community.color}]}),a.createElement(Q.ZP,null,t.community.name)))}function rn(e){return a.createElement(l.Z,{style:ln.titleLabelSpacer},e.children)}function on(e){return a.createElement(rn,null,a.createElement(At.ZP,{background:"navigationBackground",bold:!0},a.createElement(l.Z,{style:ln.centeredFlexRow},e.children)))}function sn(e){return a.createElement(rn,null,a.createElement(gt.Z,{link:e.link},a.createElement(At.ZP,{background:"navigationBackground",bold:!0},a.createElement(l.Z,{style:ln.centeredFlexRow},e.children))))}const cn={tweepsOnly:y().a5bf548a,superFollowersOnly:y().c855ab8e,communityToolTip:y().ddeb0a3c},ln=d.Z.create((e=>{const t={flexDirection:"row",marginBottom:e.spaces.space4},n={...t,flexFlow:"row wrap",rowGap:e.spaces.space2},i=t,a={paddingEnd:e.spacesPx.space4},r={height:10,marginEnd:e.spaces.space4};return{centeredFlexRow:{alignItems:"center",flexDirection:"row"},communitiesIcon:r,communitiesPopover:{paddingHorizontal:e.spaces.space12,paddingVertical:e.spaces.space8},titleLabelRow:n,titleLabelSpacer:a,metadataLabelRow:i,superFollowsIcon:{...r,color:e.colors.plum500}}}));function un(e){const t=e.isSideNavLayout?u.Z.WideExpandedSpaceDock:u.Z.NarrowExpandedSpaceDock,{utils:n}=(0,z.$)(e.audioSpaceId);return(0,E.q)((()=>{n.scribe(":audiospace::::impression")})),a.createElement(t,null,a.createElement(dn,e))}function dn(e){const t=(0,x.v)(P.selectDrawerVisibility),n=(0,Ie.Hx)(d.Z.theme),r=e.width+n.shadowOffset,s=e.isSideNavLayout?[xn.root,{width:r}]:null,[c,u]=a.useState(),p=a.useRef(null),m=o.Z.get("window");function h(){var e;const t=null==(e=p.current)?void 0:e.getBoundingClientRect();t&&u(t)}return a.useLayoutEffect(h,[m.height]),a.useLayoutEffect((()=>{const e=setTimeout(h,T.l.durationMs+250);return()=>clearTimeout(e)}),[t]),a.createElement(l.Z,{ref:p,style:s},a.createElement(gn,(0,i.Z)({},e,{layout:c})))}function pn(e){const t=(0,Ie.Hx)(d.Z.theme),n=e.animation.shellHeights.full-t.shadowOffset;return a.createElement(r.Z.View,{style:[kn.expandedShell,{height:n,transform:[{translate3d:"0, 0, 0"},{translateY:e.animation.animatedPan}]}]},a.createElement(mn,e))}function mn(e){const t=ve.bQ(),{utils:n}=(0,z.$)(e.audioSpaceId),{footerHeight:o}=e,s=a.useRef(new r.Z.Value(o));function c(){e.animation.springTo("collapse")}function u(){e.animation.springTo("exit"),n.scribe(":audiospace:::close:click")}return a.useEffect((()=>{r.Z.spring(s.current,{toValue:t?o+vn:o,useNativeDriver:!1}).start()}),[t,o]),a.createElement(p.Z,{id:"SpaceDockExpanded"},((t,n)=>a.createElement(l.Z,(0,i.Z)({ref:t()},n({style:kn.expandedShellContent})),a.createElement(r.Z.View,(0,i.Z)({},e.animation.panResponder.panHandlers,{style:kn.expandedShellHeader}),a.createElement(l.Z,{style:kn.expandedShellHeaderGripContainer},a.createElement(l.Z,{style:kn.expandedShellHeaderGrip})),a.createElement(l.Z,{style:kn.expandedShellHeaderButtons},a.createElement(m.ZP,{accessibilityLabel:Pn.collapse,hoverLabel:{label:Pn.collapse},icon:a.createElement(b.Z,{style:kn.iconChevronDown}),onPress:c,pullLeft:!0,size:"medium",type:"primaryText"}),a.createElement(l.Z,{style:kn.expandedShellHeaderRight},a.createElement(Mt,null,a.createElement(Ot.m,{audioSpaceId:e.audioSpaceId})),a.createElement(C.ZP,{audioSpaceId:e.audioSpaceId,isFixed:!0,type:"icon-borderless"}),a.createElement(hn,{audioSpaceId:e.audioSpaceId}),a.createElement(zt,{onPress:u}))),a.createElement(l.Z,{style:kn.expandedShellDescription},a.createElement(fn,{audioSpaceId:e.audioSpaceId}))),a.createElement(r.Z.View,{id:"ParticipantsWrapper",style:[kn.participantsContainer,{paddingBottom:r.Z.add(s.current,e.animation.animatedPan)}]},e.mounted?a.createElement(yn,e):null))))}function hn(e){return ve.gy()?a.createElement(mt,{audioSpaceId:e.audioSpaceId,icon:a.createElement(S.Z,null),pullRight:!0,type:"primaryText"}):null}function fn(e){const t=(0,z.$)(e.audioSpaceId).utils.title(),n={hashtags:Z()(t).map((e=>(e.text=e.hashtag,e))),user_mentions:k()(t)},i=[0,t.length];return a.createElement(a.Fragment,null,a.createElement(Xt,{audioSpaceId:e.audioSpaceId,isOutsideDock:e.isOutsideDock}),a.createElement(h.Z,{displayTextRange:i,entities:n,linkify:!0,numberOfLines:3,size:"headline1",text:t,weight:"heavy"}))}function gn(e){const[t,n]=a.useState(!1),s=function(e,t,n){const i=a.useRef({state:ve.EJ.full,animatedPanOffset:0}),s=o.Z.get("window"),l=a.useMemo((()=>(0,Ie.ss)(s.height,e.isSideNavLayout,n)),[s.height,e.isSideNavLayout,n]),u=a.useMemo((()=>function(e){let t;switch(e){case ve.EJ.exit:case ve.EJ.collapse:t=0;break;case ve.EJ.full:default:t=l.full}return l.full-t}),[l]),d=a.useRef(new r.Z.Value(l.full)).current;(0,E.q)((()=>{const e=u(i.current.state);r.Z.spring(d,{toValue:e,useNativeDriver:!1}).start(t)}));const{onRequestClose:p,onToggleCollapsed:m}=e,h=a.useMemo((()=>function(e,t){i.current.state=e,ve.n7(e);const n=u(i.current.state),a=null==t?void 0:t.vy;return new Promise((t=>{if(e===ve.EJ.exit)return p(),t();r.Z.spring(d,{velocity:a,toValue:n,useNativeDriver:!1}).start((()=>{e===ve.EJ.collapse&&m(),t()}))}))}),[d,u,m,p]);return a.useEffect((()=>{ve.cl(h)}),[h]),{panResponder:a.useRef(c.Z.create({onMoveShouldSetPanResponder:(e,t)=>Math.abs(t.dy)>5,onPanResponderGrant:(e,t)=>{i.current.animatedPanOffset=d._value},onPanResponderMove:(e,t)=>{const n=i.current.animatedPanOffset+t.dy;n>=0&&d.setValue(n)},onPanResponderRelease:(e,t)=>{const n=(null==t?void 0:t.vy)||0,a=Math.abs(n)>=Zn;d._value>l.collapse||a&&t.dy>0?h(ve.EJ.collapse,t):h(i.current.state,t)}})).current,animatedPan:d,shellHeights:l,springTo:h}}(e,(()=>{n(!0),ve.n7(ve.EJ.full)}),e.layout),u=a.useRef(new r.Z.Value(s.shellHeights.full)).current,d={...e,mounted:t,animation:s};a.useEffect((()=>{const e=s.shellHeights.full;r.Z.spring(u,{toValue:e,useNativeDriver:!1}).start()}),[s.shellHeights.full]);const[p,m]=a.useState(100),h=a.useCallback((({nativeEvent:e})=>{const{height:t}=e.layout;m(t)}),[m]);return a.useMemo((()=>{const t=e.isSideNavLayout?xn.container:kn.container,n=e.isSideNavLayout?xn.expandedShellContainer:kn.expandedShellContainer,o=e.isSideNavLayout?xn.footerContainer:kn.footerContainer,c=u,m=s.animatedPan.interpolate({inputRange:[s.shellHeights.collapse,s.shellHeights.full],outputRange:[1,0]});return a.createElement(r.Z.View,{style:[t,kn.forceGPULayer,{height:c,opacity:m}]},a.createElement(l.Z,{style:n},a.createElement(pn,(0,i.Z)({},d,{footerHeight:p}))),a.createElement(l.Z,{style:o},a.createElement(Ce,{audioSpaceId:e.audioSpaceId,height:vn}),a.createElement(_t,{audioSpaceId:e.audioSpaceId,isSideNavLayout:e.isSideNavLayout,onLayout:h})),a.createElement(et,{audioSpaceId:e.audioSpaceId,dockAnimation:s,isSideNavLayout:e.isSideNavLayout}))}),[e.audioSpaceId,e.isSideNavLayout,t,e.layout])}function yn(e){const{all:t,otherParticipantsTotal:n}=(0,H.BL)(e.audioSpaceId);M.FN();const r=o.Z.get("window"),c=(e.isSideNavLayout?e.width:r.width)-2*wn(d.Z.theme).container.paddingHorizontal,u=(0,_.t)(d.Z.theme),p=u.getHeight(),m=u.getWidth(),h=Math.min(4,Math.floor(c/m)),g=c/h;a.useEffect((()=>(e.isSideNavLayout||f.Z.disable(),function(){f.Z.enable()})),[e.isSideNavLayout]);const y=a.useMemo((()=>{const e=g;return t.map((t=>({...t,width:e})))}),[t,g]);return a.useMemo((()=>{const t={data:y,numColumns:h,keyExtractor:function(e){return e.key},getItemLayout:function(e,t){return{length:p,offset:p*t,index:t}},renderItem:bn,ListHeaderComponent:a.createElement(U,{audioSpaceId:e.audioSpaceId}),ListFooterComponent:a.createElement(Mt,null,a.createElement(l.Z,{style:kn.participantsFooterContainer},a.createElement(I.q,{audioSpaceId:e.audioSpaceId,count:n,interactive:!0})))};return a.createElement(s.Z,(0,i.Z)({key:h,style:kn.participantsFlatList},t))}),[y])}function bn({item:e}){return a.createElement(Sn,{community:e.user.community,hasNftAvatar:e.user.has_nft_avatar,isBlueVerified:e.user.is_blue_verified,isVerified:e.user.is_verified,key:e.key,kind:e.kind,name:e.user.display_name,periscopeUserId:e.periscopeUserId,profile_image_url_https:e.user.avatar_url,screenName:e.user.twitter_screen_name,width:e.width})}function Sn(e){const{periscopeUserId:t,...n}=e,i=H.BL.isParticipantHost(n.kind),r=H.BL.canParticipantSpeak(n.kind)?a.createElement(En,{isHost:i,periscopeUserId:t}):null,o=Object.assign({},{speakingIndicator:r,periscopeUserId:t},n);return a.createElement(_.Q,o)}function En(e){const{isHost:t,periscopeUserId:n}=e,i=L.Z.useAudioLevel({isHost:t,periscopeUserId:n});return a.createElement(l.Z,{style:Cn.container},a.createElement(R._,{audioLevel:i||0,size:d.Z.theme.spacesPx.space16}))}const vn=100,Zn=.5;function wn(e){return{container:{paddingHorizontal:e.spacesPx.space8}}}const kn=d.Z.create((e=>{const t=(0,Ie.Hx)(e),n=t.paddingHorizontal,i=t.borderRadius,a=wn(e);return{forceGPULayer:{transform:[{translate3d:"0, 0, 0"}]},container:{position:"fixed",bottom:0,width:"100%",backgroundColor:e.colors.maskColor},expandedShellContainer:{width:"100%",borderRadius:i},expandedShell:{boxShadow:e.boxShadows.xSmall,width:"100%",height:"100%",borderRadius:"inherit"},expandedShellHeader:{userSelect:"none",borderRadius:"inherit"},expandedShellHeaderGripContainer:{paddingVertical:5,justifyContent:"center",alignItems:"center"},expandedShellHeaderGrip:{height:5,width:e.spaces.space36,backgroundColor:e.colors.gray200,borderRadius:e.borderRadiiPx.xLarge},expandedShellHeaderButtons:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:n},iconChevronDown:{color:e.colors.text,width:e.spaces.space16},expandedShellHeaderRight:{flexDirection:"row"},expandedShellContent:{borderRadius:"inherit",height:"100%",backgroundColor:e.colors.navigationBackground},expandedShellDescription:{marginTop:e.spaces.space4,marginBottom:e.spaces.space16,paddingHorizontal:n},participantsContainer:{...a.container,flex:1},participantsFlatList:{scrollbarWidth:"none"},participantsFooterContainer:{paddingVertical:e.spaces.space16},footerContainer:{position:"absolute",bottom:0,width:"100%"}}}));const Cn=d.Z.create((e=>{const t=function(e){return{size:e.spacesPx.space16}}(e);return{container:{position:"absolute",start:-1*(t.size+e.spacesPx.space4)}}})),xn=d.Z.create((e=>{const t=(0,Ie.Hx)(e);return{root:{alignItems:"center",alignSelf:"flex-end",width:"100%",marginVertical:t.marginVertical,marginEnd:e.spacesPx.space20},container:{width:"100%"},expandedShellContainer:{width:"100%",borderRadius:t.borderRadius,overflow:"hidden",paddingTop:t.shadowOffset/2,paddingHorizontal:t.shadowOffset/2,marginStart:t.shadowOffset/2},footerContainer:{position:"absolute",bottom:0,start:t.shadowOffset/2,paddingHorizontal:t.shadowOffset/2,width:"100%"}}})),Pn={collapse:y().d227d19e}},58184:(e,t,n)=>{n.d(t,{Hx:()=>u,ss:()=>l});var i=n(73186);const a=.85,r=.7635,o=.5,s=812,c=300;function l(e,t,n){let l=e;if(t){l=Math.min(s,e);const{height:t,top:a}=n||{},r=a+t;if(r-l<0){const e=r-u(i.Z.theme).marginVerticalPx;e>c&&(l=e)}}return{collapse:l*o,half:l*r,sheetMaxHeight:l*a,full:l}}function u(e){const t=e.borderRadiiPx.large,n=e.spaces.space16,i=e.spacesPx.space8;return{borderRadius:t,paddingHorizontal:n,marginVertical:e.spaces.space20,marginVerticalPx:e.spacesPx.space20,shadowOffset:i}}},2028:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(66970),o=n(73186);function s(e){return(0,a.Z)("svg",{...e,style:[c.root,e.style],viewBox:"0 0 24 24",children:i.createElement(i.Fragment,null,i.createElement(r.Z.SVGLinearGradient,null),i.createElement("g",{fill:r.Z.SVGLinearGradient.fill},i.createElement("path",{d:"M19.073 10.384c.9-.896 2.358-.896 3.258 0 .894.89.894 2.34-.006 3.237-.893.89-2.35.89-3.244 0-.9-.895-.9-2.347-.007-3.236zm-17.403.001c.9-.896 2.356-.896 3.256 0 .893.89.893 2.34-.007 3.236-.894.89-2.35.89-3.244 0-.9-.895-.9-2.346-.007-3.235zM11.058 2.4c.536-.534 1.41-.534 1.95.006.537.534.537 1.403 0 1.937-.535.534-1.414.54-1.95.005-.54-.54-.536-1.414 0-1.948zm-.064 17.254c.536-.533 1.41-.533 1.95.006.536.533.536 1.402 0 1.936-.54.54-1.414.54-1.95.006-.542-.54-.542-1.41 0-1.948zm4.07-13.294c.72-.718 1.886-.718 2.606 0 .714.71.714 1.87-.006 2.588-.714.71-1.88.71-2.595 0-.72-.717-.72-1.878-.006-2.59zm-8.736 8.697c.72-.717 1.886-.717 2.606 0 .714.71.714 1.872-.006 2.59-.714.71-1.88.71-2.594 0-.72-.718-.72-1.88-.006-2.59zm.034-8.665c.72-.717 1.886-.717 2.606 0 .714.71.714 1.872-.006 2.59-.714.71-1.88.71-2.594 0-.72-.718-.72-1.878-.006-2.59zm8.67 8.632c.72-.717 1.886-.717 2.606 0 .714.71.714 1.872-.006 2.59-.714.71-1.88.71-2.594 0-.72-.718-.72-1.878-.006-2.59zm-4.662-4.639c.9-.896 2.358-.896 3.258 0 .893.89.893 2.34-.007 3.236-.892.89-2.35.89-3.242 0-.9-.895-.9-2.346-.007-3.235z"})))})}s.metadata={width:24,height:24};const c=o.Z.create((e=>({root:{display:"inline-block",fill:"currentcolor",height:"1.25em",maxWidth:"100%",position:"relative",userSelect:"none",textAlignVertical:"text-bottom"}})))},59226:(e,t,n)=>{n.d(t,{ZP:()=>B});var i=n(2784);function a(e){return null}var r=n(7896),o=(n(36728),n(44487)),s=n(73186),c=n(43162),l=n(29496),u=n(19179),d=n(79404),p=n.n(d);const m=p().c0530da6,h=p().ifea3114;const f=function(e){return i.createElement(l.ZP,{accessibilityLabel:m,hoverLabel:{label:h},icon:i.createElement(u.Z,null),onPress:e.onPress,pullRight:!0,renderMenu:e.renderMenu,style:e.style,testID:e.testID,type:"primaryText"})},g="share-button",y="share-by-tweet";var b=n(76648),S=n(77953),E=n(7267),v=n(72599),Z=n(26278),w=n(60673),k=n(99629),C=n(47636),x=n(28674),P=n(50941);const I={tweet:{isAvailable:()=>!0,scribeAction:"share_via_tweet",Icon:C.Z,text:p().fcc684aa,testID:y},dm:{isAvailable:()=>!0,scribeAction:"share_via_dm",Icon:x.Z,text:p().f61c4bb0},copy:{isAvailable:()=>b.Z.isAvailable(),scribeAction:"copy_link",Icon:P.Z,text:p().e05c00b4},via:{isAvailable:()=>"function"==typeof window.navigator.share,scribeAction:"share_via",Icon:u.Z,text:p().if23a252}};function _(e){const t=(0,w.z)(),n=function(e,t){const n=(0,S.I0)(),a=(0,E.k6)();return i.useMemo((()=>function(i){const{isAvailable:r,scribeAction:o,...s}=I[i.type];if(!r())return null;const c={...s};function l(){const r=i.shareText||e.shareText,s=e.url,c={...e.scribeNamespace,action:o,...i.scribeNamespace},l={text:r,url:s},u={analytics:t,dispatch:n,history:a,mergedScribeNamespace:c};!function(e,t,n){const i=()=>n.analytics.scribe(n.mergedScribeNamespace);switch(e){case"dm":return i(),void n.history.push({...R(t),pathname:"/messages/compose"});case"copy":return b.Z.setString((0,Z.w)(t.url)),i(),void n.dispatch((0,k.fz)({text:T.copyLinkSuccessMessage}));case"tweet":return i(),void n.history.push({pathname:"/compose/tweet",...R(t),state:{positionCursorAtBeginning:!0}});case"via":return void window.navigator.share({text:t.text,url:(0,Z.w)(t.url)}).then(i).catch((()=>{n.analytics.scribe({...n.mergedScribeNamespace,action:"share_error"})}));default:(0,v.ZP)(`[ShareButton] Unexpected share type [${e}]`)}}(i.type,l,u)}i.label&&(c.text=i.label);return{...c,onClick:l}}),[t,n,a,e.scribeNamespace,e.shareText,e.url])}(e,t);return{getActionItem:n,analytics:t}}const T={copyLinkSuccessMessage:p().f88553c8,shareTextPrefixFormatter:p().gb5851d7};function R(e){const t=e.url,n=e.text;return{query:{text:n?T.shareTextPrefixFormatter({prefix:n,url:t}):t}}}const L={element:"share"};function M(e){const t=(0,c.Z)({...L,...e.scribeNamespace}),{analytics:n,getActionItem:a}=_({...e,scribeNamespace:t});const r=e.ButtonComponent||z;return i.createElement(r,{onPress:function(){const e={...t,action:"share_menu_click"};n.scribe(e)},pullRight:e.pullRight,renderMenu:function(t){const n=[];return e.children?i.Children.forEach(e.children,(e=>{if(!i.isValidElement(e))return;const t=a(e.props);t&&n.push(t)})):["tweet","dm","copy","via"].forEach((e=>{const t=a({type:e});t&&n.push(t)})),i.createElement(o.Z,{isFixed:e.isFixed,items:n,onCloseRequested:t,shouldCloseOnClick:!0})}})}function z(e){return i.createElement(f,(0,r.Z)({},e,{style:H.button,testID:g}))}const H=s.Z.create((e=>({button:{marginEnd:e.spaces.space4}})));function O(e){const{copyLinkShareLabel:t,dmShareLabel:n,externalShareLabel:r,tweetShareLabel:o,...s}=e;return i.createElement(M,s,i.createElement(a,{label:o,type:"tweet"}),i.createElement(a,{label:n,type:"dm"}),i.createElement(a,{label:t,type:"copy"}),i.createElement(a,{label:r,type:"via"}))}O.Action=a,O.Custom=M;const B=O},59529:(e,t,n)=>{n.d(t,{ZP:()=>p});var i=n(7896),a=n(2784),r=n(29496),o=n(73186),s=n(19179),c=n(79404),l=n.n(c),u=n(52674),d=n(59226);function p(e){const{audioSpaceId:t,type:n}=e,{space:i,utils:r}=(0,u.$)(t),o=r.hashtags().join(" ");let s=m;"icon"===n?s=h:"icon-borderless"===n&&(s=f);const c=r.is.replayable?void 0:E.dmText,l=Boolean(null==i?void 0:i.is_employee_only);return a.createElement(d.ZP.Custom,{ButtonComponent:s,isFixed:e.isFixed,pullRight:e.pullRight,scribeNamespace:y,url:g(t)},l?null:a.createElement(d.ZP.Action,{scribeNamespace:b.tweet,shareText:o,type:"tweet"}),a.createElement(d.ZP.Action,{scribeNamespace:b.dm,shareText:c,type:"dm"}),a.createElement(d.ZP.Action,{scribeNamespace:b.copy,shareText:o,type:"copy"}),a.createElement(d.ZP.Action,{scribeNamespace:b.via,shareText:o,type:"via"}))}function m(e){return a.createElement(r.ZP,(0,i.Z)({},e,{borderColor:"transparent",style:S.shareButton,type:"primaryOutlined"}),E.share)}function h(e){return a.createElement(r.ZP,(0,i.Z)({},v,{type:"primaryOutlined"},e))}function f(e){return a.createElement(r.ZP,(0,i.Z)({},v,e))}const g=e=>`https://twitter.com/i/spaces/${e}`,y={page:"audiospace",component:"share_sheet"},b={tweet:{element:"send_tweet",action:"click"},dm:{element:"send_dm",action:"click"},copy:{element:"link",action:"click"},via:{element:void 0,action:"impression"}},S=o.Z.create((e=>({shareButton:{width:"100%"}}))),E={share:l().ifea3114,dmText:l().c63dd2cc},v={accessibilityLabel:E.share,borderColor:"transparent",color:"text",hoverLabel:{label:E.share},icon:a.createElement(s.Z,null),size:"medium"}},70025:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(67502),a=n.n(i),r=n(73036);const o={setLocation(e){document.location=e},getAppStoreURLs(e="rwoiah"){const t=s(e),n=[t.android,t.ios,t.windows],i=n.find((e=>e.matches()));return i?[i]:n},getiOSAppStoreLink(e){const t=s(e);return t.ios.matches()?t.ios.url:t.ios.webUrl},getAndroidAppStoreLink(e){const t=s(e);return t.android.matches()?t.android.url:t.android.webUrl},goToAppStore(){const e=this.getAppStoreURLs();e[0]&&o.setLocation(e[0].url)},openApp(e="twitter://timeline"){a().canUseDOM&&o.setLocation(e)}},s=(e="rwoiah")=>({android:{platform:"android",matches:()=>r.ZP.isAndroid(),url:`market://details?id=com.twitter.android&referrer=utm_source%3Drweb%26utm_medium%3D${e}`,webUrl:`https://play.google.com/store/apps/details?id=com.twitter.android&referrer=utm_source%3Drweb%26utm_medium%3D${e}`},ios:{platform:"ios",matches:()=>r.ZP.isIOS(),url:`itmss://itunes.apple.com/us/app/twitter/id333903271?mt=8&uo=${e}`,webUrl:`https://itunes.apple.com/us/app/twitter/id333903271?mt=8&uo=${e}`},windows:{platform:"windows",matches:()=>r.ZP.isWindowsPhone(),url:"ms-windows-store://pdp/?ProductId=9wzdncrfj140",webUrl:"https://www.microsoft.com/p/twitter/9wzdncrfj140"}}),c=o},14816:(e,t,n)=>{n.d(t,{q:()=>S});var i=n(7896),a=n(2784),r=n(25686),o=n(36934),s=n(55298),c=n(29496),l=n(12408),u=n(11839),d=n(73186),p=n(79404),m=n.n(p),h=n(18958),f=n(3655),g=n(1206),y=n(59529),b=n(57380);function S(e){if(e.count<1)return null;const t={count:e.count,labelType:"otherListeners"};return a.createElement(r.Z,{style:k.otherParticipantsWrapper},a.createElement(v,e,a.createElement(r.Z,{style:k.otherParticipantsContainer},a.createElement(r.Z,{style:k.otherParticipantsText},a.createElement(o.ZP,{size:w.fontSize,weight:"bold"},a.createElement(s.Z.ParticipantsCount,t))),a.createElement(Z,e))))}function E(e){const{audioSpaceId:t,dismiss:n,type:i,...l}=e,u=a.createElement(a.Fragment,null,a.createElement(r.Z,{style:k.popoverSheetDescription},a.createElement(o.ZP,{color:"gray700",size:"body"},a.createElement(m().I18NFormatMessage,{$i18n:"b9c4cfcb"},a.createElement(o.ZP,{color:"text",link:b.n.help,withUnderline:!0},m().g6469591)))),a.createElement(o.ZP,{size:"body",weight:"bold"},C.shareWithPeople),a.createElement(r.Z,{style:k.popoverShareButtonContainer},a.createElement(y.ZP,{audioSpaceId:t})));return"popover"===i?a.createElement(a.Fragment,null,a.createElement(r.Z,{style:k.popoverTitle},a.createElement(o.ZP,{size:"title4",weight:"heavy"},a.createElement(s.Z.ParticipantsCount,l))),u):a.createElement(a.Fragment,null,a.createElement(r.Z,{style:k.popoverSheetTitleContainer},a.createElement(r.Z,{style:k.popoverSheetTitle},a.createElement(o.ZP,{size:"headline2",weight:"heavy"},a.createElement(s.Z.ParticipantsCount,l))),a.createElement(c.ZP,{accessibilityLabel:C.close,borderColor:"transparent",color:"text",hoverLabel:{label:C.close},icon:a.createElement(h.Z,{style:k.popoverSheetClose}),onPress:n,size:"medium"})),u)}function v(e){if(!e.interactive)return e.children;const t={count:e.count,labelType:"otherListeners"};return a.createElement(l.Z,{renderContent:function(n,r){return a.createElement(E,(0,i.Z)({audioSpaceId:e.audioSpaceId,dismiss:n,type:r},t))},withArrow:!0,withDefaultContainer:!0},a.createElement(u.Z,{accessibilityLabel:s.Z.ParticipantsCount.generateText(t),onPress:g.Z},e.children))}function Z(e){return e.interactive?a.createElement(r.Z,{style:k.otherParticipantsArrow},a.createElement(f.Z,null)):null}const w={fontSize:"body"},k=d.Z.create((e=>{const t=e.lineHeightsPx[w.fontSize],n={flexDirection:"row",alignItems:"center",justifyContent:"center",flex:1,paddingVertical:e.spacesPx.space12,paddingStart:e.spacesPx.space24,paddingEnd:e.spacesPx.space16,borderWidth:e.borderWidthsPx.small,borderRadius:e.borderRadiiPx.medium,borderColor:e.colors.gray50},i={width:t,height:t,color:e.colors.text},a={marginVertical:e.spacesPx.space12},r={color:e.colors.gray300,width:e.spacesPx.space24,height:e.spacesPx.space24};return{otherParticipantsWrapper:{width:"100%"},otherParticipantsContainer:n,otherParticipantsText:{flex:1},otherParticipantsArrow:i,popoverTitle:a,popoverSheetTitleContainer:{flexDirection:"row",alignItems:"center",marginVertical:e.spacesPx.space12},popoverSheetTitle:{flex:1},popoverSheetClose:r,popoverSheetDescription:{marginTop:e.spacesPx.space16,marginBottom:e.spacesPx.space12},popoverShareButtonContainer:{marginVertical:e.spacesPx.space16}}})),C={close:m().ia5e7488,share:m().ifea3114,shareWithPeople:m().i7f853ea}},16774:(e,t,n)=>{n.d(t,{Q:()=>E,t:()=>C});var i=n(2784),a=n(25686),r=n(35953),o=n(92471),s=n(36934),c=n(95995),l=n(73186),u=n(79404),d=n.n(u),p=n(45680),m=n(1921),h=n(23269),f=n(20032),g=(n(6886),n(56499)),y=n(81010);const b=(0,g.Z)({loader:()=>d().emoji.then((()=>Promise.all([n.e("shared~ondemand.EmojiPickerData~ondemand.ParticipantReaction~ondemand.EmojiPicker"),n.e("ondemand.ParticipantReaction")]).then(n.bind(n,191)))),renderPlaceholder:(e,t)=>i.createElement(y.Z,{hasError:e,onRetry:t})}),S=r.Z.createLayoutCache();function E(e){const{featureSwitches:t}=i.useContext(f.rC),{children:n,hasNftAvatar:r,isBlueVerified:l,isVerified:u,kind:d,name:p,periscopeUserId:m,screenName:h,width:g}=e,y=r&&t.isTrue("responsive_web_nft_avatar"),b=d?w[d]:null,E=e.profile_image_url_https||"",C=i.createElement(Z,e),P=t.isTrue("responsive_web_twitter_blue_verified_badge_is_enabled"),I=n||i.createElement(o.default,{decoration:C,imageLayoutCache:S,screenName:h,shape:y?"hex":"circle",size:x,style:k.participantAvatarSize,uri:E,withHoverCard:!0,withLink:!0});return i.createElement(a.Z,{style:[{width:g},k.participantCell]},i.createElement(a.Z,{style:k.participantAvatarSize},I,i.createElement(v,{periscopeUserId:m})),i.createElement(s.ZP,{numberOfLines:1,size:"subtext2",style:k.participantCellUsername,weight:"bold"},i.createElement(c.Z,{isBlueVerified:P&&l,isVerified:u,name:p})),i.createElement(a.Z,{style:k.participantCellKindContainer},e.speakingIndicator,i.createElement(s.ZP,{color:"gray700",numberOfLines:1,size:"subtext2",style:k.participantCellKind},b||i.createElement("span",null,""))))}function v({periscopeUserId:e}){const{avatar:{size:t}}=P(l.Z.theme),n=m.Gf(e);return i.createElement(i.Fragment,null,null==n?void 0:n.map((e=>i.createElement(b,{key:e.id,reaction:e,size:t}))))}function Z(e){return e.community&&e.community.isMember?i.createElement(a.Z,{style:k.communitiesBadgeIcon},i.createElement(p.Z,{style:{color:e.community.color}})):null}const w={[h.Px.host]:d().cededf2a,[h.Px.cohost]:d().f77997b0,[h.Px.speaker]:d().i48f4ed8,[h.Px.listener]:d().a77c8e02},k=l.Z.create((e=>{const t=P(e),n={width:t.avatar.size,height:t.avatar.size},i={justifyContent:"center",alignItems:"center",...t.participantCell},a=t.participantCellUsername,r={lineHeight:t.kind.lineHeight};return{communitiesBadgeIcon:{position:"absolute",bottom:0,right:0,padding:e.spaces.space4,width:e.spaces.space20,height:e.spaces.space20,backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.xSmall,borderRadius:e.borderRadii.small},participantCell:i,participantCellUsername:a,participantCellKindContainer:{position:"relative",justifyContent:"center"},participantCellKind:r,participantAvatarSize:n}}));function C(e){const t=P(e);return{getWidth:function(){return t.participantCell.minWidth+2*t.participantCell.paddingHorizontal},getHeight:function(){return t.participantCell.height+t.participantCell.marginBottom}}}const x="xxLarge";function P(e){const t=o.default.getSizeStyle("xxLarge").width||e.spacesPx.space48,n=e.spacesPx.space20,i=e.spacesPx.space8,a=e.spacesPx.space80+2*i,r=e.spacesPx.space4,s=e.lineHeightsPx.headline2,c=e.lineHeightsPx.headline2;return{participantCell:{marginBottom:n,paddingHorizontal:i,minWidth:a,height:t+r+s+c+n},avatar:{size:t},participantCellUsername:{lineHeight:s,paddingTop:r},kind:{lineHeight:c}}}},89894:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(2784),a=n(97813),r=n(34712),o=n(66970),s=n(11839),c=n(73186);function l({accessibilityLabel:e,audience:t,children:n,onPress:c,style:l}){const d=t===a.Z.AudienceEnum.superFollowersOnly?r.Z.Default:o.Z.Default;return i.createElement(s.Z,{accessibilityLabel:e,onPress:c,style:[u.button,l]},i.createElement(d,{style:u.gradient},n))}l.getHeightPx=function(e){return e.spacesPx.space48};const u=c.Z.create((e=>({button:{overflow:"hidden",width:"100%",boxShadow:e.boxShadows.small,height:l.getHeightPx(e),borderRadius:e.spacesPx.space48},gradient:{height:"100%",justifyContent:"center",paddingHorizontal:e.spaces.space24}})))},57380:(e,t,n)=>{n.d(t,{n:()=>i});const i={help:"https://help.twitter.com/using-twitter/spaces",settings:"https://twitter.com/settings/spaces"}},1894:(e,t,n)=>{n.d(t,{Y:()=>i});const i=Object.freeze({card:"card",audiospace_ring:"audiospace_ring",spacebar:"spacebar"})},34712:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(2784),a=n(25686),r=n(81682),o=n(73186);const s={Default:[{angle:225,stops:[{color:o.Z.theme.colors.plum600,alpha:0,offset:0},{color:o.Z.theme.colors.plum600,alpha:.6,offset:1}]},{angle:225,stops:[{color:o.Z.theme.colors.plum400,alpha:.4,offset:0},{color:o.Z.theme.colors.plum400,alpha:0,offset:1}]},{angle:135,stops:[{color:o.Z.theme.colors.magenta500,alpha:1,offset:0},{color:o.Z.theme.colors.magenta500,alpha:0,offset:1}]},{angle:135,stops:[{color:o.Z.theme.colors.red400,alpha:0,offset:0},{color:o.Z.theme.colors.red400,alpha:1,offset:1}]},{angle:0,stops:[{color:o.Z.theme.colors.orange500,alpha:1,offset:0},{color:o.Z.theme.colors.orange500,alpha:1,offset:1}]}],HighContrast:[{angle:0,stops:[{color:o.Z.theme.colors.plum600,alpha:1,offset:0},{color:o.Z.theme.colors.plum600,alpha:1,offset:1}]}]};function c(){return(o.Z.theme.highContrastEnabled?s.HighContrast:s.Default).map((({angle:e,stops:t})=>`linear-gradient(${e}deg, ${t.map((({alpha:e,color:t,offset:n})=>`${(0,r.a7)(t,e)} ${100*n}%`)).join(", ")})`)).join(", ")}const l={Default:function(e){return i.createElement(a.Z,{style:[{backgroundImage:c()},e.style]},e.children)}};l.getBackgroundImage=c;const u=Object.freeze(l)},32580:(e,t,n)=>{n.d(t,{ZP:()=>T});var i=n(7896),a=(n(6886),n(2784)),r=n(25686),o=n(79404),s=n.n(o),c=n(78525),l=n(61339),u=n(18958),d=n(56992),p=n(36934),m=n(29496),h=n(25663),f=n(27652),g=n(11839),y=n(9933),b=n(74054),S=n(41425),E=n(3613),v=n(50329),Z=n(73186),w=n(10880),k=n(92471),C=n(95995),x=n(59557);function P(e){const t=H(e.onDockPress),n=H(e.onUserPress),o=H(e.onRequestClose),s=H(e.onTogglePlayback);return a.createElement(a.Fragment,null,a.createElement(r.Z,{style:M.sliderContainer},a.createElement(T.SeekSlider,{durationMs:e.durationMs,externalSeeking:e.isSeeking,onSeek:e.onSeek,onSliderActive:e.onSliderActive,progressMs:e.progressMs})),a.createElement(r.Z,{style:M.dockContentRow},a.createElement(k.default,{accessibilityHidden:!0,focusable:!1,onClick:n,screenName:e.user.screen_name,size:"large",uri:e.user.profile_image_url_https,withLink:!0}),a.createElement(r.Z,{style:M.dockContentTitle},a.createElement(E.Z,{size:"subtext2"},a.createElement(C.Z,{isBlueVerified:e.user.is_blue_verified,isVerified:e.user.verified,name:e.user.name,nameSize:"subtext2",onLinkClick:n,screenName:e.user.screen_name,screenNameSize:"subtext2",weight:"normal",withLink:!0}),a.createElement(w.Z,{size:"subtext2",timeMs:e.durationMs})),a.createElement(p.ZP,{numberOfLines:1,onPress:t,size:"subtext2",weight:"bold"},e.title)),a.createElement(m.ZP,(0,i.Z)({accessibilityLabel:e.isPlaying?R.pause:R.play,icon:e.isPlaying?a.createElement(c.Z,null):a.createElement(l.Z,null),onPress:s,testID:"togglePlayback"},L)),a.createElement(r.Z,{style:M.dockContentButtonSpacer}),a.createElement(m.ZP,(0,i.Z)({accessibilityLabel:R.close,icon:a.createElement(u.Z,null),onPress:o,testID:"close"},L))))}function I(e){const t=H(e.onDockPress),n=H(e.onRequestClose),o=H(e.onTogglePlayback),s=H(e.onUserPress),d=a.useMemo((()=>{var t;const n=null==(t=e.user.profile_image_extensions_media_color)?void 0:t.palette;if(n){const e=f.Z.get(n);if(e)return O(e.rgb)}return Z.Z.theme.colors.primary}),[e.user]),h=e.isMuted?R.unmute:R.mute;return a.createElement(r.Z,{style:[z.wideContainer,z.wideContainerBorderRadius]},a.createElement(r.Z,{style:z.mainContentContainer},a.createElement(r.Z,{style:[z.wideAvatarContainer,{backgroundColor:d}]},a.createElement(k.default,{accessibilityHidden:!0,focusable:!1,onClick:s,screenName:e.user.screen_name,size:"xLarge",uri:e.user.profile_image_url_https,withLink:!0})),a.createElement(r.Z,{style:z.mainContent},a.createElement(C.Z,{isBlueVerified:e.user.is_blue_verified,isVerified:e.user.verified,name:e.user.name,nameSize:"subtext2",onLinkClick:s,screenName:e.user.screen_name,screenNameSize:"subtext2",weight:"normal",withLink:!0,withScreenName:!0}),a.createElement(p.ZP,{numberOfLines:2,onPress:t,size:"subtext2",weight:"bold"},e.title))),a.createElement(r.Z,{style:z.belowMainContent},a.createElement(r.Z,{style:z.slider},a.createElement(T.SeekSlider,{durationMs:e.durationMs,externalSeeking:e.isSeeking,onSeek:e.onSeek,onSliderActive:e.onSliderActive,progressMs:e.progressMs,withTimes:!0})),a.createElement(r.Z,{style:z.iconRow},a.createElement(x.Z,(0,i.Z)({accessibilityLabelIcon:h,accessibilityLabelSlider:R.volumeSlider,isMuted:e.isMuted,onMuteToggle:e.onMuteToggle,onSliderChange:e.onVolumeChange,sliderColor:"purple500",type:void 0,volumePercent:e.volume,withGraySliderTrack:!0,withNavigationSliderBackground:!0},L)),a.createElement(m.ZP,(0,i.Z)({accessibilityLabel:e.isPlaying?R.pause:R.play,icon:e.isPlaying?a.createElement(c.Z,null):a.createElement(l.Z,null),onPress:o,testID:"togglePlayback"},L)))),a.createElement(m.ZP,(0,i.Z)({accessibilityLabel:R.close,icon:a.createElement(u.Z,null),onPress:n,style:z.closeIcon,testID:"close"},L)))}function _(e){const t=a.useRef({}),n=a.useRef(null),i=e.isWide&&z.wideContainerBorderRadius,o=H((()=>{t.current.isSliderActive||e.onDockPress()})),s=a.useMemo((()=>function(){n.current&&n.current.focus()}),[]);a.useEffect((()=>{const t=function(e){return function(t){if("Space"===t.code)return function(e){e.preventDefault(),e.stopPropagation()}(t),e.onTogglePlayback()}}(e);return n.current&&n.current.addEventListener("keydown",t),function(){n.current&&n.current.removeEventListener("keydown",t)}}),[n.current,e.onTogglePlayback]),a.useEffect((()=>function(){clearTimeout(t.current.onSliderActiveTimeout)}),[]);const c=e.title||R.untitled,l={...e,title:c,onSliderActive:function(e){clearTimeout(t.current.onSliderActiveTimeout),e?t.current.isSliderActive=e:t.current.onSliderActiveTimeout=setTimeout((()=>{t.current.isSliderActive=e}),B)}};return a.createElement(y.Z,{enabled:!0,handlers:{[y.Z.shortcuts.audio.dock]:s,[y.Z.shortcuts.audio.play]:e.onTogglePlayback}},a.createElement(g.Z,{accessibilityLabel:R.voiceDock,onPress:o,ref:function(e){n.current=e},style:[M.container,i]},a.createElement(r.Z,{style:[M.innerContainer,i]},e.isWide?a.createElement(I,l):a.createElement(P,l))))}function T(e){const t=e.isWide?S.Z.DesktopVoiceTweetDock:S.Z.MobileVoiceTweetDock,n=[e.isWide?[z.root,{maxWidth:e.width}]:M.root];return a.createElement(t,null,a.createElement(b.Z,{id:"VoiceTweetDock"},((t,o)=>a.createElement(r.Z,(0,i.Z)({ref:t()},o({style:n})),a.createElement(_,e)))))}T.SeekSlider=function(e){const t=a.useRef({isSliderActive:!1,lastSeekMs:-1}),[n,i]=a.useState(!1),[o,s]=a.useState(e.progressMs);function c(e){t.current.lastSeekMs=e,s(e)}let l;a.useEffect((()=>{e.externalSeeking||(t.current.lastSeekMs=-1)}),[e.externalSeeking]),l=e.externalSeeking&&o!==t.current.lastSeekMs?e.progressMs:e.externalSeeking||n?o:e.progressMs;const u=a.createElement(v.Z,{accessibilityLabel:R.seekSlider,color:"purple500",keepLTR:!0,keyboardStep:5e3,max:e.durationMs,min:0,onActive:function(n){e.onSliderActive&&e.onSliderActive(n),t.current.isSliderActive=n,n?c(e.progressMs):e.onSeek(o),i(n)},onChange:function(n){t.current.isSliderActive?c(n):e.onSeek(n)},step:"any",value:l,withGrayBackground:!0,withHidingThumb:!0});if(!e.withTimes)return u;const p=e.durationMs-l;return a.createElement(r.Z,null,a.createElement(r.Z,{style:z.sliderRow},a.createElement(r.Z,{style:z.slider},u)),a.createElement(r.Z,{style:z.sliderTimes},a.createElement(w.Z,{size:"subtext2",timeMs:(0,d.Z)(l)?l:0}),a.createElement(w.Z,{countdown:!0,size:"subtext2",timeMs:(0,d.Z)(p)?p:0,withCountdownSymbol:!0})))};const R={untitled:s().gfaaead8,close:s().af8fa2ae,pause:s().fb236728,play:s().f17dfdb6,voiceDock:s().cfd13f46,unmute:s().b8b6344a,mute:s().ec8ab8b4,volumeSlider:s().c9a642fa,seekSlider:s().hea01798},L={borderColor:"transparent",color:"text",size:"medium"},M=Z.Z.create((e=>({root:{},container:{backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.xSmall},innerContainer:{backgroundColor:e.colors.navigationBackground},sliderContainer:{position:"absolute",zIndex:1,top:0,start:0,end:0,marginTop:-1*e.spacesPx.space20,transform:[{translateY:e.spacesPx.space20/2}]},dockContentRow:{padding:e.spaces.space4,flexDirection:"row",justifyContent:"center",alignItems:"center"},dockContentTitle:{marginHorizontal:e.spaces.space12,marginVertical:e.spaces.space4,flexDirection:"column",flex:1},dockContentButtonSpacer:{width:e.spaces.space12}}))),z=Z.Z.create((e=>{const t=e.spaces.space16,n=e.borderRadii.xLarge,i=e.spaces.space4;return{root:{alignSelf:"flex-end",width:"100%",marginVertical:e.spaces.space20,marginEnd:e.spaces.space20},wideContainerBorderRadius:{borderRadius:n},wideContainer:{padding:t,paddingEnd:i},wideAvatarContainer:{borderRadius:e.borderRadii.medium,padding:e.spaces.space12},mainContentContainer:{flexDirection:"row"},mainContent:{marginStart:e.spaces.space12,marginEnd:e.spaces.space40,flex:1,flexDirection:"column"},username:{color:e.colors.gray700},closeIcon:{position:"absolute",top:i,end:i},belowMainContent:{marginTop:e.spaces.space12,flexDirection:"row"},sliderRow:{flexDirection:"row"},slider:{flex:1},sliderTimes:{flexDirection:"row",justifyContent:"space-between"},iconRow:{marginStart:e.spaces.space12,flexDirection:"row",justifyContent:"center"}}}));function H(e){return h.Z.selectiveClickHandler((t=>{"function"==typeof e&&e()}))}const O=(e,t=1)=>`rgba(${e.red}, ${e.green}, ${e.blue}, ${t})`,B=200},59557:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(7896),a=(n(6886),n(2784)),r=n(25686),o=n(79404),s=n.n(o),c=n(43106),l=n(10815),u=n(46737),d=n(29496),p=n(35094),m=n(50329),h=n(73186);const f=s().b3160a69;class g extends a.PureComponent{constructor(...e){super(...e),this.state={showSlider:!1,isSliderActive:!1},this._handleButtonLayoutChange=e=>{const{containerHeight:t}=this.props,{sliderMaxHeight:n}=this.state,{height:i}=e.nativeEvent.layout;if(t){const e=t-i-h.Z.theme.spacesPx.space20+"px";e!==n&&this.setState({sliderMaxHeight:e})}},this._handleSliderActive=e=>this.setState({isSliderActive:e}),this._showSlider=()=>this.setState({showSlider:!0}),this._hideSlider=()=>this.setState({showSlider:!1}),this._shouldShowSlider=e=>e.showSlider||e.isSliderActive,this._normalizeValue=e=>Math.max(0,Math.min(e,100)),this._getSliderMarginStyles=e=>{const t=null!=e?e:"medium";return b["large"===t?"xLarge":t]},this._handleKeyDown=e=>{const{onSliderChange:t,volumePercent:n}=this.props,{altKey:i,ctrlKey:a,metaKey:r}=e;if(i||a||r)return;const o=e.key===u.Z.ArrowUp||e.key===u.Z.ArrowRight,s=e.key===u.Z.ArrowDown||e.key===u.Z.ArrowLeft;if(o||s){const i=this._normalizeValue(n+10*(o?1:-1));t&&t(i),e.preventDefault()}}}componentDidUpdate(e,t){const{onHideSlider:n,onShowSlider:i,onSliderChange:a}=this.props;if(a){const e=this._shouldShowSlider(t),a=this._shouldShowSlider(this.state);!e&&a&&i&&i(),e&&!a&&n&&n()}}render(){const{accessibilityLabelIcon:e,accessibilityLabelSlider:t,containerHeight:n,isMuted:o,onHideSlider:s,onMuteToggle:u,onShowSlider:g,onSliderChange:b,pullRight:S,sliderColor:E,volumePercent:v,withGraySliderTrack:Z,withNavigationSliderBackground:w,...k}=this.props,C=o?a.createElement(c.Z,null):a.createElement(l.Z,null),x=w?y.sliderWithNavigationBackground:y.sliderWithDefaultBackground;return a.createElement(p.Z,{disabled:!b,onFocusRingGained:b?this._showSlider:void 0,onFocusRingLost:b?this._hideSlider:void 0,onHoverIn:b?this._showSlider:void 0,onHoverOut:b?this._hideSlider:void 0},a.createElement(r.Z,{onKeyDown:b?this._handleKeyDown:void 0},a.createElement(d.ZP,(0,i.Z)({accessibilityLabel:e,icon:C,onLayout:this._handleButtonLayoutChange,onPress:u,pullRight:S,type:"onMediaText"},k)),b&&a.createElement(p.Z,{onFocusRingGained:g,onFocusRingLost:s},(({isFocusedWithin:e})=>a.createElement(r.Z,{style:[y.sliderBackground,x,this._getSliderMarginStyles(k.size),e||this._shouldShowSlider(this.state)?null:h.Z.visuallyHidden,!!n&&{maxHeight:this.state.sliderMaxHeight}]},a.createElement(m.Z,{accessibilityLabel:t,accessibilityLabelValueText:f({volumePercent:v}),color:E||"white",isVertical:!0,keyboardStep:10,max:100,min:0,onActive:this._handleSliderActive,onChange:b,step:1,value:o?0:v||0,withGrayBackground:Z}))))))}}g.defaultProps={pullRight:!1};const y=h.Z.create((e=>({sliderBackground:{bottom:0,borderRadius:e.borderRadii.xLarge,height:`calc(${e.spaces.space64}*2)`,start:e.spaces.space4,position:"absolute",padding:e.spaces.space12,paddingVertical:e.spaces.space16,end:e.spaces.space4},sliderWithDefaultBackground:{backgroundColor:e.colors.translucentBlack30},sliderWithNavigationBackground:{backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.xSmall}}))),b=h.Z.create((({spaces:e,spacesPx:t})=>{const n=`${t.space16+t.space4+t.space2}px`,i=`${t.space20+t.space24}px`,a=`${t.space12+t.space40}px`;return{xSmall:{marginBottom:e.space24},small:{marginBottom:e.space32},medium:{marginBottom:e.space36},large:{marginBottom:i},xLarge:{marginBotom:a},smallCompact:{marginBottom:n},DEPRECATED_normalCompact:{marginBottom:e.space32},DEPRECATED_normal:{marginBottom:e.space40}}})),S=g},24469:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 17 10",children:i.createElement("g",null,i.createElement("path",{d:"M.043 1.485L1.457.065 8.5 7.115l7.043-7.05 1.414 1.42L8.5 9.935.043 1.485z"}))});o.metadata={width:17,height:10};const s=o},92189:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M23.367 8.254l-3.455-2.878c-.73-.608-1.763-.751-2.63-.358L12.471 7.19c-.895.403-1.472 1.298-1.472 2.279v.692l-1.771-.8c.492-.673.771-1.496.771-2.361 0-2.206-1.794-4-4-4S2 4.794 2 7s1.794 4 4 4c.486 0 .969-.089 1.421-.261L10.212 12l-2.791 1.261C6.968 13.089 6.485 13 6 13c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4c0-.865-.278-1.688-.771-2.361l1.771-.8v.692c0 .981.578 1.876 1.471 2.278l4.812 2.173c.869.393 1.9.25 2.629-.357l3.455-2.879L15.073 12l8.294-3.746zm-16.42.509C6.654 8.92 6.335 9 6 9c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2c0 .736-.403 1.412-1.053 1.763zM6 19c-1.103 0-2-.897-2-2s.897-2 2-2c.335 0 .654.08.947.237C7.596 15.588 8 16.263 8 17c0 1.103-.897 2-2 2zm7-9.531c0-.196.115-.375.294-.456l4.812-2.173c.065-.029.135-.044.205-.044.116 0 .23.04.321.116l1.001.834L13 10.741V9.469zm6.633 6.785l-1.001.835c-.146.121-.352.149-.525.071l-4.812-2.174c-.178-.08-.293-.259-.293-.455v-1.272l6.633 2.995z"}))});o.metadata={width:24,height:24};const s=o},16888:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M5.747 12c0-1.8 1.388-3.22 3.26-3.22 1.26 0 2.075.53 2.62 1.29l-1.207.94c-.306-.42-.798-.7-1.357-.7-.93 0-1.684.76-1.684 1.69s.755 1.68 1.685 1.68c.578 0 1.087-.29 1.39-.73l1.22.87c-.583.8-1.368 1.39-2.737 1.39h-.003c-1.766 0-3.187-1.35-3.187-3.19V12zm6.584.02c0 1.84 1.421 3.19 3.185 3.19 1.368 0 2.154-.59 2.738-1.39l-1.22-.87c-.304.44-.813.73-1.39.73-.93 0-1.684-.75-1.684-1.68s.755-1.68 1.685-1.68c.559 0 1.051.27 1.356.69l1.21-.94c-.547-.76-1.36-1.29-2.622-1.29-1.872 0-3.258 1.42-3.258 3.22v.02zM18.5 3C19.881 3 21 4.12 21 5.5v13c0 1.38-1.119 2.5-2.5 2.5h-13C4.119 21 3 19.88 3 18.5v-13C3 4.12 4.119 3 5.5 3h13zM5 18.5c0 .28.224.5.5.5h13c.276 0 .5-.22.5-.5v-13c0-.28-.224-.5-.5-.5h-13c-.276 0-.5.22-.5.5v13z"}))});o.metadata={width:24,height:24};const s=o},47636:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M23 3c-6.62-.1-10.38 2.421-13.05 6.03C7.29 12.61 6 17.331 6 22h2c0-1.007.07-2.012.19-3H12c4.1 0 7.48-3.082 7.94-7.054C22.79 10.147 23.17 6.359 23 3zm-7 8h-1.5v2H16c.63-.016 1.2-.08 1.72-.188C16.95 15.24 14.68 17 12 17H8.55c.57-2.512 1.57-4.851 3-6.78 2.16-2.912 5.29-4.911 9.45-5.187C20.95 8.079 19.9 11 16 11zM4 9V6H1V4h3V1h2v3h3v2H6v3H4z"}))});o.metadata={width:24,height:24};const s=o},68117:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M4.65 8.24c-.57 1.13-.9 2.41-.9 3.76 0 4.56 3.69 8.25 8.25 8.25 2.87 0 5.4-1.47 6.88-3.69l-2.99-1.5.56-3.32-3.01-4.21 4.16-1.59c-1.27-1.17-2.91-1.95-4.72-2.14l-.5 2.38-2.08 1.04-.53 1.41 4.82 1.93-2.16 2.87-1.23 5.54-3.7-1.85V13.1l-.53-2.68.26-.71-2.58-1.47zm1.13-1.66l2.16 1.23.77-2.03 1.91-.96.21-.99c-2.01.29-3.78 1.3-5.05 2.75zm3.26 4l.46 2.32v2.98l.3.15.77-3.46.85-1.13-2.35-.94-.03.08zm9.92-3.02l-2.39.91 1.99 2.79-.45 2.68 1.67.83c.3-.87.47-1.8.47-2.77 0-1.63-.47-3.16-1.29-4.44zM1.75 12C1.75 6.34 6.34 1.75 12 1.75S22.25 6.34 22.25 12 17.66 22.25 12 22.25 1.75 17.66 1.75 12z"}))});o.metadata={width:24,height:24};const s=o},10870:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M11.57 11.96l.99-.79c.33-.26.56-.53.7-.8.15-.27.22-.57.22-.91 0-.41-.12-.74-.38-.97s-.62-.35-1.09-.35-.85.12-1.13.37c-.26.25-.4.59-.4 1.03 0 .2.03.42.08.65l-2.07-.15c-.06-.29-.09-.55-.09-.79 0-.84.33-1.51.98-2.01.67-.49 1.55-.74 2.66-.74 1.17 0 2.07.24 2.71.73.63.48.95 1.16.95 2.04 0 .98-.47 1.86-1.4 2.65l-.87.73c-.17.15-.29.28-.36.4-.06.11-.09.26-.09.45v.46h-2.1v-.67c0-.3.06-.55.17-.75.12-.2.29-.39.52-.58zm-.52 5.17c.24.25.56.37.93.37.39 0 .7-.12.94-.37.25-.25.37-.56.37-.94 0-.39-.12-.7-.37-.95-.24-.25-.55-.37-.94-.37-.37 0-.69.12-.93.37s-.36.56-.36.95c0 .38.12.69.36.94zM22.25 12c0 5.66-4.59 10.25-10.25 10.25S1.75 17.66 1.75 12 6.34 1.75 12 1.75 22.25 6.34 22.25 12zM12 20.25c4.56 0 8.25-3.69 8.25-8.25S16.56 3.75 12 3.75 3.75 7.44 3.75 12s3.69 8.25 8.25 8.25z"}))});o.metadata={width:24,height:24};const s=o},18175:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M13 22h-2v-2.053c-4.677-.504-7.228-4.469-7.949-6.631l1.897-.633c.073.215 1.865 5.316 7.051 5.316s6.979-5.102 7.052-5.318l1.896.635c-.721 2.162-3.271 6.127-7.949 6.631V22H13zm-1-6c-2.757 0-5-2.243-5-5V7c0-2.757 2.243-5 5-5s5 2.243 5 5v4c0 2.757-2.243 5-5 5zm0-12c-1.654 0-3 1.346-3 3v4c0 1.654 1.346 3 3 3s3-1.346 3-3V7c0-1.654-1.346-3-3-3z"}))});o.metadata={width:24,height:24};const s=o},85080:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M12 5c-.83 0-1.5.67-1.5 1.5S11.17 8 12 8s1.5-.67 1.5-1.5S12.83 5 12 5zM8.5 6.5C8.5 4.57 10.07 3 12 3s3.5 1.57 3.5 3.5S13.93 10 12 10 8.5 8.43 8.5 6.5zm-3.25 1c-.41 0-.75.34-.75.75s.34.75.75.75.75-.34.75-.75-.34-.75-.75-.75zm-2.75.75c0-1.52 1.23-2.75 2.75-2.75S8 6.73 8 8.25 6.77 11 5.25 11 2.5 9.77 2.5 8.25zm16.25-.75c-.41 0-.75.34-.75.75s.34.75.75.75.75-.34.75-.75-.34-.75-.75-.75zM16 8.25c0-1.52 1.23-2.75 2.75-2.75s2.75 1.23 2.75 2.75S20.27 11 18.75 11 16 9.77 16 8.25zM12 13c-1.29 0-2.37.54-3.22 1.61C8 15.6 7.4 17.07 7.12 19h9.76c-.27-1.85-.83-3.28-1.57-4.28C14.45 13.58 13.34 13 12 13zm-4.78.36C8.41 11.86 10.06 11 12 11c2.02 0 3.7.92 4.91 2.53 1.18 1.57 1.88 3.77 2.09 6.39l.08 1.08H4.92L5 19.92c.22-2.7.96-4.97 2.22-6.56zM2.95 16c.16-.55.39-.97.66-1.28.4-.46.94-.72 1.64-.72v-2c-1.26 0-2.35.49-3.15 1.4-.78.89-1.22 2.11-1.35 3.51L.65 18H4v-2H2.95zm18.95-2.6c.78.89 1.22 2.11 1.35 3.51l.1 1.09H20v-2h1.05c-.16-.55-.39-.97-.66-1.28-.4-.46-.94-.72-1.64-.72v-2c1.26 0 2.35.49 3.15 1.4z"}))});o.metadata={width:24,height:24};const s=o},37324:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M7.79 11.71l1.42-1.42 1.79 1.8 3.79-3.8 1.42 1.42-5.21 5.2-3.21-3.2zM3 4.38v7.64c0 2.8 1.16 5.57 3.49 7.3.86.64 1.82 1.29 2.74 1.78.88.48 1.88.9 2.77.9s1.89-.42 2.77-.9c.92-.49 1.88-1.14 2.74-1.78 2.33-1.73 3.49-4.5 3.49-7.3V4.38c-1.03-.51-2.09-.96-3.18-1.33C16.27 2.53 14.15 2 12 2s-4.27.53-5.82 1.05c-1.09.37-2.15.82-3.18 1.33zm3.82.57C8.27 4.47 10.15 4 12 4s3.73.47 5.18.95c.77.25 1.4.51 1.82.69v6.38c0 2.27-.94 4.4-2.68 5.69-.82.61-1.7 1.2-2.5 1.63-.85.46-1.46.66-1.82.66s-.97-.2-1.82-.66c-.8-.43-1.68-1.02-2.5-1.63C5.93 16.42 5 14.29 5 12.02V5.64c.42-.18 1.05-.44 1.82-.69z"}))});o.metadata={width:24,height:24};const s=o},2072:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2784),a=n(90601),r=n(73569);const o=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.Z.root,e.style],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M15.457.04L19.414 4l-3.957 3.96-1.414-1.42L15.586 5H12c-4.142 0-7.5 3.36-7.5 7.5S7.858 20 12 20s7.5-3.36 7.5-7.5v-1h2v1c0 5.25-4.253 9.5-9.5 9.5s-9.5-4.25-9.5-9.5S6.753 3 12 3h3.586l-1.543-1.54L15.457.04zM9.046 9.5c-.245.65-.659.91-1.394.94H7.5v1.3h.228c.414 0 .811-.11 1.048-.31v3.94h1.454V9.5H9.046zm5.005 1.84c-.6 0-1.048.19-1.31.54l.152-1.25h2.738V9.5h-3.803l-.363 3.35 1.284.11c.135-.38.431-.59.879-.59.549 0 .87.41.87 1.03 0 .61-.329.98-.887.98-.473 0-.786-.26-.879-.66l-1.394.28c.177.93 1.039 1.5 2.29 1.5 1.445 0 2.324-.81 2.324-2.14 0-1.25-.718-2.02-1.901-2.02z"}))});o.metadata={width:24,height:24};const s=o},43162:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(2784),a=n(32307);function r(e){const t=i.useRef({previous:void 0});function n(e){return t.current.previous=e,e}const{previous:r}=t.current;return r&&(e===r||(0,a.Z)(e,r))?r:n(e)}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.AudioDock~bundle.AudioSpacePeek~bundle.AudioSpaceAnalytics~bundle.AudioSpaceReport~bundle.Birdw.4b60ede9.js.map